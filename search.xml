<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Homebrew error Not a valid ref refs/remotes/origin/master</title>
    <url>/2021/04/21/Homebrew%20error%20Not%20a%20valid%20ref%20refs%20remotes%20origin%20master/</url>
    <content><![CDATA[<p>æœ¬æ–‡å‚è€ƒï¼š<a href="https://learnku.com/articles/55985" target="_blank" rel="noopener">brew æŠ¥é”™ error: Not a valid ref: refs/remotes/origin/master çš„è§£å†³æ–¹æ³•</a></p>
<h2 id="å®‰è£…Homebrew"><a href="#å®‰è£…Homebrew" class="headerlink" title="å®‰è£…Homebrew"></a>å®‰è£…<code>Homebrew</code></h2><p>åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;</span><br></pre></td></tr></table></figure>

<h2 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">==&gt; Checking for `sudo` access (which may request your password).</span><br><span class="line">Password:</span><br><span class="line">==&gt; This script will install:</span><br><span class="line">/opt/homebrew/bin/brew</span><br><span class="line">/opt/homebrew/share/doc/homebrew</span><br><span class="line">/opt/homebrew/share/man/man1/brew.1</span><br><span class="line">/opt/homebrew/share/zsh/site-functions/_brew</span><br><span class="line">/opt/homebrew/etc/bash_completion.d/brew</span><br><span class="line">/opt/homebrew</span><br><span class="line"></span><br><span class="line">Press RETURN to continue or any other key to abort</span><br><span class="line">==&gt; /usr/bin/sudo /usr/sbin/chown -R long.chen28:admin /opt/homebrew</span><br><span class="line">==&gt; Downloading and installing Homebrew...</span><br><span class="line">HEAD is now at 844f15ede Merge pull request #11182 from Rylan12/deprecate-brew-search-casks</span><br><span class="line">error: Not a valid ref: refs/remotes/origin/master</span><br><span class="line">fatal: ambiguous argument &apos;refs/remotes/origin/master&apos;: unknown revision or path not in the working tree.</span><br><span class="line">Use &apos;--&apos; to separate paths from revisions, like this:</span><br><span class="line">&apos;git &lt;command&gt; [&lt;revision&gt;...] -- [&lt;file&gt;...]&apos;</span><br></pre></td></tr></table></figure>

<h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>å½“å®‰è£…å¤šæ¬¡å¤±è´¥æ—¶ï¼Œä¼šç”±äºæœ¬åœ°å­˜åœ¨ç¼“å­˜ï¼Œå†æ¬¡å®‰è£…å¯¼è‡´å†²çªã€‚</p>
<h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>æ‰“å¼€ <a href="https://raw.githubusercontent.com/Homebrew/install/master/uninstall" target="_blank" rel="noopener">é“¾æ¥ğŸ”—</a>ï¼Œå¤åˆ¶é‡Œé¢çš„å†…å®¹ï¼Œåœ¨ç»ˆç«¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ª<code>uninstall.rb</code>æ–‡ä»¶å¹¶å°†å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°è¿™ä¸ª<code>uninstall.rb</code>æ–‡ä»¶é‡Œé¢ï¼Œä¿å­˜é€€å‡º</p>
<p>é“¾æ¥é‡Œé¢çš„å†…å®¹å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!/usr/bin/ruby</span><br><span class="line"></span><br><span class="line">STDERR.print &lt;&lt;EOS</span><br><span class="line">Warning: The Ruby Homebrew uninstaller is now deprecated and has been rewritten in</span><br><span class="line">Bash. Please migrate to the following command:</span><br><span class="line">  /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/uninstall.sh)&quot;</span><br><span class="line"></span><br><span class="line">EOS</span><br><span class="line"></span><br><span class="line">Kernel.exec &quot;/bin/bash&quot;, &quot;-c&quot;, &apos;/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/uninstall.sh)&quot;&apos; + &apos; uninstall &apos; +  ARGV.join(&quot; &quot;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi uninstall.rb</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ruby uninstall.rb</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±è§£å†³äº†åˆšæ‰çš„æŠ¥é”™é—®é¢˜ï¼Œç„¶åå†æ¬¡å°è¯•å®‰è£…å°±å¥½ã€‚</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Homebrew</tag>
      </tags>
  </entry>
  <entry>
    <title>weakSelfå’ŒstrongSelfå¼•èµ·çš„å¥”æºƒ</title>
    <url>/2021/03/18/weakSelf%E5%92%8CstrongSelf%E5%BC%95%E8%B5%B7%E7%9A%84%E5%A5%94%E6%BA%83/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨<code>OC</code>ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªä¸œè¥¿å«<strong>å¾ªç¯å¼•ç”¨</strong>ï¼Œæ¯«æ— ç–‘é—®ï¼Œ<strong>å¾ªç¯å¼•ç”¨</strong>ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œä¸¥é‡çš„æ—¶å€™ï¼Œå¯¼è‡´åº”ç”¨ç¨‹åºå¥”æºƒä¹Ÿæ˜¯å¯èƒ½çš„ã€‚æˆ‘ä»¬ç»å¸¸é‡åˆ°çš„<strong>å¾ªç¯å¼•ç”¨</strong>å°±æ˜¯<code>Block</code>ï¼ˆæˆ–è€…<code>delegate</code>ï¼‰æ‰€å¼•èµ·çš„ï¼Œè€Œè§£å†³çš„æ–¹å¼ä¹Ÿæ˜¯è€ç”Ÿå¸¸è°ˆçš„ä½¿ç”¨<code>weak</code>æ¥å¼±å¼•ç”¨è¢«å¼•ç”¨çš„å¯¹è±¡ï¼Œæ‰“ç ´å¾ªç¯ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…å¾ªç¯å¼•ç”¨è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœä½ ç¨å¾®ä¸æ…ï¼Œæœ‰æ—¶å€™ä½¿ç”¨<code>weak</code>ä¹Ÿä¼šå¯¼è‡´åº”ç”¨ç¨‹åºå¥”æºƒï¼Œé€ æˆéš¾ä»¥æŒ½å›çš„åæœã€‚è¿™ç¯‡æ–‡ç« å°±æ˜¯ç®€è¦è¯´æ˜ä¸‹ï¼Œå¦‚ä½•æ­£ç¡®åœ°ä½¿ç”¨<code>weak</code>ï¼Œä»¥åŠæœ‰æ—¶å€™éœ€è¦ç»“åˆ<code>strong</code>æ¥é¿å…<strong>å¾ªç¯å¼•ç”¨</strong>çš„å†…å­˜æ³„æ¼ã€‚</p>
<h2 id="Blockå¾ªç¯å¼•ç”¨"><a href="#Blockå¾ªç¯å¼•ç”¨" class="headerlink" title="Blockå¾ªç¯å¼•ç”¨"></a>Blockå¾ªç¯å¼•ç”¨</h2><p>ä¸€ä¸ªå¯¹è±¡æŒæœ‰ä¸€ä¸ª<code>Block</code>ï¼Œè¿™ä¸ª<code>Block</code>ä¸­åˆå¼•ç”¨äº†è¿™ä¸ªå¯¹è±¡ï¼Œè¿™å°±æ˜¯<strong>å¾ªç¯å¼•ç”¨</strong>ã€‚æœ€å¸¸è§æœ€ç®€å•çš„å°±æ˜¯æŒæœ‰å½“å‰<code>self</code>ï¼Œè¿™ä¹Ÿæ˜¯åœ¨å¼€å‘ä¸­ç»å¸¸é‡åˆ°çš„æƒ…å†µã€‚åœ¨<code>SecondViewController.m</code>ä¸­ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &quot;SecondViewController.h&quot;</span><br><span class="line">#import &quot;MyObject.h&quot;</span><br><span class="line"></span><br><span class="line">@interface SecondViewController ()</span><br><span class="line">@property (nonatomic, strong) MyObject *obj;</span><br><span class="line">@property (nonatomic, copy) NSString *name;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation SecondViewController</span><br><span class="line"></span><br><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    self.title = @&quot;Second VC&quot;;</span><br><span class="line">    self.name = @&quot;Alice&quot;;</span><br><span class="line">    </span><br><span class="line">    self.obj = [[MyObject alloc] init]; </span><br><span class="line">    [self.obj start:^&#123;</span><br><span class="line">        NSLog(@&quot;name: %@&quot;, self.name);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)dealloc</span><br><span class="line">&#123;</span><br><span class="line">    NSLog(@&quot;OOPS! âš ï¸âš ï¸âš ï¸ %s&quot;, __PRETTY_FUNCTION__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>MyObject.h</code>ä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">NS_ASSUME_NONNULL_BEGIN</span><br><span class="line"></span><br><span class="line">typedef void (^ExecuteBlock)(void);</span><br><span class="line"></span><br><span class="line">@interface MyObject : NSObject</span><br><span class="line"></span><br><span class="line">- (void)start:(ExecuteBlock)block;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">NS_ASSUME_NONNULL_END</span><br></pre></td></tr></table></figure>

<p><code>MyObject.m</code>ä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &quot;MyObject.h&quot;</span><br><span class="line"></span><br><span class="line">@interface MyObject()</span><br><span class="line">@property (nonatomic, copy) ExecuteBlock myBlock;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation MyObject</span><br><span class="line"></span><br><span class="line">- (instancetype)init</span><br><span class="line">&#123;</span><br><span class="line">    self = [super init];</span><br><span class="line">    if (self) &#123;</span><br><span class="line">        [self initData];</span><br><span class="line">    &#125;</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)initData</span><br><span class="line">&#123;</span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(10 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        if (self.myBlock) &#123;</span><br><span class="line">            self.myBlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)start:(ExecuteBlock)block</span><br><span class="line">&#123;</span><br><span class="line">    self.myBlock = block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>æ˜¾ç„¶ï¼Œ<code>self</code>æŒæœ‰<code>obj</code>ï¼Œ<code>obj</code>æŒæœ‰<code>block</code>    ï¼ˆ<code>start</code>æ–¹æ³•çš„å‚æ•°<code>block</code>ï¼‰, <code>block</code>åˆæŒæœ‰<code>self</code>ï¼ˆ<code>name</code>æ˜¯å½“å‰<code>self</code>çš„ä¸€ä¸ªå±æ€§ï¼‰ï¼Œå› æ­¤é€ æˆäº†æ˜¾è€Œæ˜“è§çš„<strong>å¾ªç¯å¼•ç”¨</strong>ã€‚</p>
<p>è¿™ç§å¤„ç†èµ·æ¥ä¹Ÿæ˜¯ååˆ†ç®€å•ï¼Œä¸€ä¸ª<code>weak</code>å°±å¯ä»¥æå®šï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">self.obj = [[MyObject alloc] init];</span><br><span class="line">__weak typeof(self) weakSelf = self;</span><br><span class="line">[self.obj start:^&#123;</span><br><span class="line">    NSLog(@&quot;name: %@&quot;, weakSelf.name);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è¿™æ ·å¤„ç†ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿç­”æ¡ˆæ˜¯<strong>æ²¡æœ‰ä»»ä½•é—®é¢˜</strong>ã€‚</p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬æŠŠ<code>name</code>æ¢æˆ<code>æˆå‘˜å˜é‡</code>ï¼Œå³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@interface SecondViewController ()</span><br><span class="line">&#123;</span><br><span class="line">    NSString *name;</span><br><span class="line">&#125;</span><br><span class="line">@property (nonatomic, strong) MyObject *obj;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line">self.obj = [[MyObject alloc] init];</span><br><span class="line">__weak typeof(self) weakSelf = self;</span><br><span class="line">[self.obj start:^&#123;</span><br><span class="line">    __strong typeof(weakSelf) strongSelf = weakSelf;</span><br><span class="line">    NSLog(@&quot;name: %@&quot;, strongSelf-&gt;name);</span><br><span class="line">&#125;];</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œç”±äº<code>name</code>æ˜¯<strong>æˆå‘˜å˜é‡</strong>ï¼Œä¸èƒ½ä½¿ç”¨<code>weakSelf</code>æ¥å¼•ç”¨<code>name</code>ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ª<strong>å¼±æŒ‡é’ˆ</strong>ã€‚å› æ­¤è¿™é‡Œå¿…é¡»å¯¹<code>weakSelf</code>åšä¸€æ¬¡å¼ºå¼•ç”¨ï¼Œå³ä½¿ç”¨<code>strongSelf</code>æ¥å¼•ç”¨<code>name</code>ã€‚</p>
<p>æƒ³ä¸€ä¸‹ï¼Œå½“ç”¨æˆ·è¿›å…¥é¡µé¢ï¼Œåœ¨<code>10s</code>å†…è¿”å›ä¸Šä¸€çº§é¡µé¢ï¼Œå¾…<code>block</code>è¢«æ‰§è¡Œæ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ<strong>åº”ç”¨ç¨‹åºå¥”æºƒï¼ï¼ï¼</strong></p>
<h2 id="Crashåˆ†æ"><a href="#Crashåˆ†æ" class="headerlink" title="Crashåˆ†æ"></a>Crashåˆ†æ</h2><p>å¥‡æ€ªï¼ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæ„Ÿè§‰æ²¡é—®é¢˜äº†å‘€ï¼Œä½¿ç”¨<code>weakSelf</code>é¿å…å¾ªç¯å¼•ç”¨ï¼Œä½¿ç”¨<code>strongSelf</code>æ¥å¼•ç”¨æˆå‘˜å˜é‡ï¼Œæ€ä¹ˆå°±å¥”æºƒäº†å‘¢ï¼Ÿå½“<code>name</code>æ˜¯å±æ€§æ—¶ï¼Œå³<code>weakSelf.name</code>æ—¶ï¼Œå¹¶ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ï¼Œå°±åªæ˜¯å°†<code>name</code>ç”±<strong>å±æ€§</strong>å˜æˆ<strong>æˆå‘˜å˜é‡</strong>å°±ä¸è¡Œäº†ï¼Ÿ</p>
<p>å®é™…ä¸Šï¼Œåªè¦ç†è§£<code>OC</code>ä¸­çš„<strong>æ¶ˆæ¯å‘é€</strong>æœºåˆ¶ï¼Œä½ å°±åŸºæœ¬èƒ½å¤ŸçŸ¥é“ä¸Šé¢æ‰€è¯´çš„å¥”æºƒåŸå› äº†ã€‚åœ¨<code>OC</code>ä¸­ï¼Œå¯¹<code>nil</code>å‘é€æ¶ˆæ¯æ˜¯<strong>â€œåˆæ³•â€</strong>çš„ï¼Œå› æ­¤ï¼Œå½“ä½¿ç”¨<strong>ç‚¹è¯­æ³•</strong>æ¥è®¿é—®æ—¶ï¼Œå®é™…ä¸Šæ˜¯è®¿é—®<strong>å±æ€§</strong>ï¼ˆè¿™é‡Œæ˜¯<code>name</code>ï¼‰çš„<strong>getter</strong>æ–¹æ³•ï¼Œå› æ­¤ä¸ä¼šå‘ç”Ÿå¥”æºƒã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœæ˜¯è·å–<strong>æˆå‘˜å˜é‡</strong>çš„è¯ï¼Œå°±ä¸æ˜¯æ–¹æ³•äº†ï¼Œè€Œæ˜¯é€šè¿‡<strong>selfæŒ‡é’ˆç›´æ¥è®¿é—®å…¶å†…éƒ¨çš„æˆå‘˜å˜é‡çš„å†…å­˜åœ°å€</strong>ï¼Œæ­¤æ—¶ï¼Œå½“é¡µé¢å·²ç»é‡Šæ”¾æ—¶ï¼Œ<code>self</code>å·²ç»ä¸å­˜åœ¨ï¼Œ<code>strongSelf</code>å³ä¸º<code>nil</code>ï¼Œå¯æƒ³è€ŒçŸ¥ï¼Œå¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„<strong>â€œå¯¹è±¡â€</strong>ï¼Œå»è®¿é—®æ‰€è°“çš„<strong>â€œæˆå‘˜å˜é‡â€</strong>ï¼Œå³<code>nil -&gt; name</code>ï¼Œå¥”æºƒå°±æ˜¯åœ¨æ„æ–™ä¹‹ä¸­äº†ã€‚</p>
<h2 id="Crashè§£å†³"><a href="#Crashè§£å†³" class="headerlink" title="Crashè§£å†³"></a>Crashè§£å†³</h2><h4 id="ä¸€-å°½é‡ä½¿ç”¨å±æ€§"><a href="#ä¸€-å°½é‡ä½¿ç”¨å±æ€§" class="headerlink" title="ä¸€ å°½é‡ä½¿ç”¨å±æ€§"></a>ä¸€ å°½é‡ä½¿ç”¨å±æ€§</h4><p>è¿™ç§æ–¹å¼å…¶å®æœ¬è´¨ä¸Šå°±æ˜¯åŸºäº<code>OC</code>çš„æ¶ˆæ¯æœºåˆ¶ï¼Œå¯¹<code>nil</code>å‘é€æ¶ˆæ¯æ˜¯å…è®¸çš„ã€‚è¿™æ ·å³ä½¿<code>self</code>è¢«é”€æ¯ï¼Œä¹Ÿä¸ä¼šå­˜åœ¨ä»»ä½•çš„é—®é¢˜ï¼Œå› ä¸ºä½ é€šè¿‡<code>strongSelf.name</code>è°ƒç”¨çš„æ˜¯æ–¹æ³•ï¼Œ<code>OC</code>çš„æ¶ˆæ¯æœºåˆ¶å…è®¸ä½ è¿™æ ·åšã€‚è™½ç„¶æœ‰æ—¶å€™æˆ‘ä»¬å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œä¼šç›´æ¥ä½¿ç”¨<strong>æˆå‘˜å˜é‡</strong>è¿›è¡Œè·å–ï¼Œå› ä¸ºè°ƒç”¨æ–¹æ³•æ˜¯æœ‰ä¸€å®šä»£ä»·çš„ï¼Œä½†æ˜¯ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ ·çš„å¸¦æ¥çš„æ€§èƒ½è€ƒé‡è¿˜æ˜¯å¯ä»¥æ¥å—çš„ï¼Œå¯å¿½ç•¥çš„ã€‚</p>
<p>å› æ­¤ï¼Œè¦ç»å¯¹å®‰å…¨ï¼Œåœ¨<code>block</code>å†…éƒ¨ä½¿ç”¨<strong>å±æ€§</strong>çš„æ–¹å¼è·å–ï¼Œæ˜¯ä¸€ç§å¯è¡Œçš„æœ‰æ•ˆçš„æ–¹å¼ã€‚</p>
<h4 id="äºŒ-ä¾ç„¶ä½¿ç”¨æˆå‘˜å˜é‡ï¼Œå¯¹weakSelfåšå®‰å…¨æ£€æŸ¥"><a href="#äºŒ-ä¾ç„¶ä½¿ç”¨æˆå‘˜å˜é‡ï¼Œå¯¹weakSelfåšå®‰å…¨æ£€æŸ¥" class="headerlink" title="äºŒ ä¾ç„¶ä½¿ç”¨æˆå‘˜å˜é‡ï¼Œå¯¹weakSelfåšå®‰å…¨æ£€æŸ¥"></a>äºŒ ä¾ç„¶ä½¿ç”¨æˆå‘˜å˜é‡ï¼Œå¯¹<code>weakSelf</code>åšå®‰å…¨æ£€æŸ¥</h4><p>å¦‚æœä½ è¯´æˆ‘å°±æ˜¯è¦ä½¿ç”¨<code>æˆå‘˜å˜é‡</code>æ¥ä½¿æ€§èƒ½è¾¾åˆ°æœ€ä¼˜è§£ï¼Œé‚£ä¹Ÿæ— å¯åšéï¼Œè¿™ç§ä¹Ÿæ˜¯æˆ‘ä»¬å¼€å‘ä¸­å¾ˆæœ‰å¿…è¦çš„ä¸€ç§åº”è¯¥å¿…å¤‡çš„æ€æƒ³ï¼Œä½†æ˜¯ï¼Œä½ è¦è¶³å¤Ÿå°å¿ƒï¼Œæ¥é¿å…å¥”æºƒçš„å‘ç”Ÿã€‚è§£å†³æ–¹å¼å°±æ˜¯å¯¹<code>weakSelf</code>åšå®‰å…¨æ£€æŸ¥ï¼Œå¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">self.obj = [[MyObject alloc] init];</span><br><span class="line">__weak typeof(self) weakSelf = self;</span><br><span class="line">[self.obj start:^&#123;</span><br><span class="line">    if (!weakSelf) return; // Security-check here.</span><br><span class="line">    __strong typeof(weakSelf) strongSelf = weakSelf;</span><br><span class="line">    NSLog(@&quot;name: %@&quot;, strongSelf-&gt;name);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨å¼€å‘ä¸­ï¼Œä¸€å®šè¦é¿å…<strong>å¾ªç¯å¼•ç”¨</strong>ã€<strong>ä»£ç†</strong>æ‰€å¼•èµ·çš„å†…å­˜æ³„æ¼(<code>memory leak</code>)ï¼Œå½“ç„¶ï¼Œç›¸ä¿¡å¯¹äºå¤§å¤šæ•°å¼€å‘è€…æ¥è¯´ï¼Œè¿™ç§åŸºæœ¬ä¸éœ€è¦æ€è€ƒï¼Œéƒ½å¯ä»¥ä¹ ä»¥ä¸ºå¸¸çš„å†™ä¸Šç›¸åº”çš„å…³é”®å­—æ¥æˆ–è€…ä¸­é—´å±‚æ¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ä¼°è®¡ä¹Ÿæœ‰ä¸å°‘äººä¼šå‡ºç°æœ¬æ–‡æ‰€è¯´çš„<strong>ç²—å¿ƒå¤§æ„</strong>ï¼Œå¯¼è‡´çº¿ä¸Šå‡ºç°å¥”æºƒçš„é—®é¢˜ã€‚<code>weak</code>å¹¶ä¸æ˜¯åœ¨æ‰€æœ‰é‡åˆ°<code>block</code>çš„æƒ…å†µéƒ½éœ€è¦ä½¿ç”¨çš„ï¼Œæ¯”å¦‚ç³»ç»Ÿæä¾›çš„åŠ¨ç”»<code>API</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[UIView animateWithDuration:1.0 animations:^&#123;</span><br><span class="line">    NSLog(@&quot;name: %@&quot;, self-&gt;name);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>

<p><strong>è¿‡åº¦çš„ä¸å¿…è¦çš„<code>weak</code>ä½¿ç”¨ä¼šä½¿ä»£ç å˜å¾—å†—ä½™å¹¶ä¸”äº§ç”Ÿä¸å¿…è¦çš„æ€§èƒ½é—®é¢˜ï¼</strong></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>weakSelf</tag>
        <tag>strongSelf</tag>
        <tag>å¾ªç¯å¼•ç”¨</tag>
        <tag>å†…å­˜æ³„æ¼</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS interactivePopGestureRecognizerå¡ä½&amp;æ‰‹åŠ¿æ»‘åŠ¨ç›‘å¬</title>
    <url>/2021/03/12/iOS%20interactivePopGestureRecognizer%E5%8D%A1%E4%BD%8F&amp;%E6%89%8B%E5%8A%BF%E6%BB%91%E5%8A%A8%E7%9B%91%E5%90%AC/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ‰‹åŠ¿ä¾§æ»‘å¯¼èˆªåœ¨<code>iOS</code>ä¸­å°¤å…¶å¸¸è§ï¼Œåœ¨é¡¹ç›®ä¸­ï¼Œç»å¸¸å’Œå…¶æ‰“äº¤é“ï¼Œä½†æ˜¯ç»å¸¸å‘ç°ï¼Œå½“ä¾§æ»‘åˆ°æ ¹æ§åˆ¶å™¨ï¼ˆç¬¬ä¸€çº§ç•Œé¢ï¼‰æ—¶ï¼Œç»§ç»­å¿«é€Ÿä½¿ç”¨ä¾§æ»‘æ‰‹åŠ¿<code>popGesture</code>ä¼šå¯¼è‡´å¡ä½ã€‚æœ‰æ—¶å€™ï¼Œæƒ³è¦ç›‘å¬æŸä¸ªç•Œé¢çš„ä¾§æ»‘æ‰‹åŠ¿æ˜¯å¦ç»“æŸæ¥åšä¸€äº›å…¶ä»–æ“ä½œï¼Œæ¯”å¦‚ï¼Œåœ¨ä¸€ä¸ªæœ‰<strong>å®šæ—¶å™¨ï¼ˆNSTimerï¼‰</strong>çš„ç•Œé¢ï¼Œä½¿ç”¨ä¾§æ»‘åˆ°ä¸Šä¸€çº§é¡µé¢ï¼Œä¼šå¯¼è‡´è¯¥ç•Œé¢æ— æ³•é‡Šæ”¾ï¼Œè¿™å°±éœ€è¦çŸ¥é“å½“å‰ä¾§æ»‘æ‰‹åŠ¿æ˜¯å¦å·²ç»ç»“æŸï¼Œåœ¨ç»“æŸæ—¶<strong>ç§»é™¤ï¼ˆNSTimerï¼‰</strong>ç­‰ç­‰ã€‚</p>
<h2 id="ä¾§æ»‘åˆ°æ ¹æ§åˆ¶å™¨ï¼ˆç¬¬ä¸€çº§é¡µé¢ï¼‰å¡ä½"><a href="#ä¾§æ»‘åˆ°æ ¹æ§åˆ¶å™¨ï¼ˆç¬¬ä¸€çº§é¡µé¢ï¼‰å¡ä½" class="headerlink" title="ä¾§æ»‘åˆ°æ ¹æ§åˆ¶å™¨ï¼ˆç¬¬ä¸€çº§é¡µé¢ï¼‰å¡ä½"></a>ä¾§æ»‘åˆ°æ ¹æ§åˆ¶å™¨ï¼ˆç¬¬ä¸€çº§é¡µé¢ï¼‰å¡ä½</h2><p>æ»‘åŠ¨åˆ°é¦–é¡µï¼ˆä¸€èˆ¬å°±æ˜¯æ ¹æ§åˆ¶å™¨æ‰€å±çš„ç¬¬ä¸€çº§ç•Œé¢ï¼‰ä¼šå¡æ­»ï¼Œ<strong>è¿™æ˜¯iOSç³»ç»Ÿæœ¬èº«å­˜åœ¨çš„ä¸€ä¸ªBUG</strong>ï¼Œè§£å†³æ–¹æ¡ˆå°±æ˜¯åˆ›å»ºä¸€ä¸ª<code>BaseNavigationController</code>ï¼ˆç»§æ‰¿<code>UINavigationController</code>ï¼‰ï¼Œåœ¨<code>BaseNavigationController</code>ä¸­ç›‘å¬<strong>ä»£ç†æ–¹æ³•</strong>ï¼Œåˆ¤æ–­å½“å­è§†å›¾æ§åˆ¶å™¨æ•°<code>viewControllers</code>å¤§äº<code>1</code>æ—¶ï¼Œå…è®¸<code>pop</code>æ‰‹åŠ¿å¯ä»¥æ»‘åŠ¨ã€‚åœ¨<code>BaseNavigationController.m</code>ä¸­ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#pragma mark UINavigationControllerDelegate</span><br><span class="line">- (void)navigationController:(UINavigationController *)navigationController didShowViewController:(UIViewController *)viewController animated:(BOOL)animated</span><br><span class="line">&#123;</span><br><span class="line">    if ([self respondsToSelector:@selector(interactivePopGestureRecognizer)]) &#123;</span><br><span class="line">        // If viewController is rootViewController, disable the pop gesture recognizer.</span><br><span class="line">        self.interactivePopGestureRecognizer.enabled = self.viewControllers.count &gt; 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç›‘å¬interactivePopGestureRecognizeræ‰‹åŠ¿"><a href="#ç›‘å¬interactivePopGestureRecognizeræ‰‹åŠ¿" class="headerlink" title="ç›‘å¬interactivePopGestureRecognizeræ‰‹åŠ¿"></a>ç›‘å¬<code>interactivePopGestureRecognizer</code>æ‰‹åŠ¿</h2><p>ä¸€èˆ¬æˆ‘ä»¬å¾ˆå°‘ä¼šéœ€è¦ç›‘å¬ä¾§æ»‘åˆ°ä¸Šä¸€çº§çš„æ‰‹åŠ¿çš„æƒ…å†µï¼Œè¿™ç§åœºæ™¯å¯èƒ½ä¼šå‡ºç°åœ¨ä¸€äº›ç‰¹æ®Šå¤„ç†ä¸­ï¼Œæ¯”å¦‚å½“ä½¿ç”¨ä¾§æ»‘æ‰‹åŠ¿<code>pop</code>åˆ°ä¸Šä¸€çº§æ—¶ï¼Œç”±äºä¸€äº›æ“ä½œæœªå®Œæˆï¼Œå½“å‰<code>self</code>è¢«æŒæœ‰ï¼Œè€Œå¯¼è‡´<code>dealloc</code>æ–¹æ³•æ²¡æœ‰è¢«æ‰§è¡Œï¼Œæ¢å¥è¯è¯´ï¼Œå½“å‰<code>view controller</code>æ²¡æœ‰é‡Šæ”¾é€ æˆå†…å­˜æ³„æ¼ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œç›‘å¬ä¾§æ»‘æ‰‹åŠ¿æ˜¯å¦æ‰§è¡Œå°±æœ‰å¿…è¦äº†ã€‚åœ¨<code>BaseNavigationController.m</code>ä¸­ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)navigationController:(UINavigationController *)navigationController willShowViewController:(UIViewController *)viewController animated:(BOOL)animated</span><br><span class="line">&#123;</span><br><span class="line">    [viewController.transitionCoordinator notifyWhenInteractionChangesUsingBlock:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt; context) &#123;</span><br><span class="line">        if (context.isCancelled) return;</span><br><span class="line">        [self postPopGestureNotification];</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)postPopGestureNotification</span><br><span class="line">&#123;</span><br><span class="line">    NSMutableSet *notificationNames = [NSMutableSet setWithObjects:</span><br><span class="line">                                       @&quot;FirstViewController&quot;,</span><br><span class="line">                                       @&quot;SecondViewController&quot;, nil];</span><br><span class="line">   </span><br><span class="line">    NSMutableSet *vcNames = [NSMutableSet set];</span><br><span class="line">    for (UIViewController *vc in self.viewControllers) &#123;</span><br><span class="line">        [vcNames addObject:NSStringFromClass([vc class])];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [notificationNames minusSet:vcNames];</span><br><span class="line"></span><br><span class="line">    [notificationNames enumerateObjectsUsingBlock:^(id  _Nonnull obj, BOOL * _Nonnull stop) &#123;</span><br><span class="line">        [[NSNotificationCenter defaultCenter] postNotificationName:obj object:nil];</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>- (void)navigationController:(UINavigationController *)navigationController willShowViewController:(UIViewController *)viewController animated:(BOOL)animated</code>ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>- (void)notifyWhenInteractionChangesUsingBlock: (void (^)(id &lt;UIViewControllerTransitionCoordinatorContext&gt;context))handler</code>ç›‘å¬åˆ°ä¾§æ»‘æ‰‹åŠ¿çš„æƒ…å†µï¼Œå¦‚æœ<code>context.isCancelled</code>ä¸º<code>YES</code>ï¼Œè¯´æ˜ç”¨æˆ·ä¾§æ»‘çš„æ—¶å€™å–æ¶ˆäº†æ»‘åŠ¨ï¼Œå³æ²¡æœ‰è¿”å›åˆ°ä¸Šä¸€çº§é¡µé¢ï¼Œåä¹‹ï¼Œå¦‚æœä¸º<code>NO</code>ï¼Œè¯´æ˜å°†<code>pop</code>åˆ°ä¸Šä¸€çº§é¡µé¢ï¼Œå½“å‰é¡µé¢å³å°†è¢«é‡Šæ”¾ã€‚</p>
<blockquote>
<p>åœ¨<code>iOS 10</code>ä»¥ä¸‹ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨<code>- (void)notifyWhenInteractionEndsUsingBlock: (void (^)(id &lt;UIViewControllerTransitionCoordinatorContext&gt;context))handler</code>ç›‘å¬ï¼Œä¸è¿‡<code>iOS 10</code>ä»¥ä¸Šä¸å»ºè®®ä½¿ç”¨ï¼Œä»ç›®å‰æƒ…å†µæ¥çœ‹ï¼Œå¤§å¤šæ•°é¡¹ç›®éƒ¨ç½²æœ€ä½ç‰ˆæœ¬éƒ½æ˜¯<code>iOS 10</code>äº†ï¼Œæ²¡æœ‰å¿…è¦å†ä½¿ç”¨åºŸå¼ƒçš„<code>API</code>ã€‚</p>
</blockquote>
<p>å› æ­¤ï¼Œå½“<code>context.isCancelled</code>ä¸º<code>NO</code>æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å‘é€ä¸€ä¸ªé€šçŸ¥ï¼ˆ<code>notification</code>ï¼‰åˆ°å½“å‰æ­£åœ¨æ“ä½œä¾§æ»‘æ‰‹åŠ¿<code>pop</code>çš„è¿™ä¸ªé¡µé¢ï¼Œåœ¨è¿™ä¸ªé¡µé¢åšç›‘å¬ï¼Œå°±å¯ä»¥åœ¨æ”¶åˆ°é€šçŸ¥æ—¶ï¼Œæ‰§è¡Œä½ æƒ³è¦çš„æ“ä½œå°±å¯ä»¥äº†ã€‚</p>
<blockquote>
<p>åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ åœ¨å¤šä¸ªé¡µé¢éƒ½éœ€è¦ç›‘å¬ä¾§æ»‘æ‰‹åŠ¿ï¼Œæ¯”å¦‚ä»é¦–é¡µ -&gt; <code>FirstViewController</code> -&gt; <code>SecondViewController</code>ï¼Œéœ€è¦åœ¨<code>FirstViewController</code>å’Œ<code>SecondViewController</code>ä¸­éƒ½ç›‘å¬ä¾§æ»‘åˆ°ä¸Šä¸€çº§çš„æ‰‹åŠ¿ï¼Œè¿™å°±ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ— è®ºä½ åœ¨å“ªä¸€ä¸ªé¡µé¢ä½¿ç”¨ä¾§æ»‘æ‰‹åŠ¿è¿”å›æ—¶ï¼Œæ­£åœ¨ç›‘å¬æ‰‹åŠ¿çš„é¡µé¢éƒ½ä¼šæ”¶åˆ°é€šçŸ¥ï¼Œä¾‹å¦‚ï¼Œä½ åœ¨<code>SecondViewController</code>ä¸­ä¾§æ»‘è¿”å›åˆ°<code>FirstViewController</code>æ—¶ï¼Œ<code>FirstViewController</code>ä¸­çš„é€šçŸ¥ä¹Ÿä¼šè¢«æ‰§è¡Œï¼ä½†æ˜¯ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è‚¯å®šä¸å¸Œæœ›ä¾§æ»‘çš„æ—¶å€™ï¼Œå½±å“åˆ°å…¶ä»–ç•Œé¢ï¼Œåªå¸Œæœ›å½“å‰ç•Œé¢èƒ½å¤Ÿæ”¶åˆ°é€šçŸ¥å³å¯ï¼Œé‚£ä¹ˆå¦‚ä½•é¿å…è¿™ä¸€é—®é¢˜å‘¢ï¼Ÿå¦‚ä¸Šï¼Œæˆ‘çš„åšæ³•æ˜¯ï¼ŒæŠŠæ‰€æœ‰ä½ è¦ç›‘å¬çš„<code>view controller</code>éƒ½ä»¥æ–‡ä»¶åå­—ç¬¦ä¸²çš„å½¢å¼æ”¾åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼Œåœ¨ä¾§æ»‘çš„æ—¶å€™ï¼Œè·å–åˆ°æ‰€æœ‰çš„<code>view controllers</code>æ·»åŠ åˆ°å¦ä¸€ä¸ªé›†åˆä¸­ï¼Œç„¶ååšä¸¤è€…çš„<strong>å·®é›†</strong>ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±æŠŠå½“å‰<code>view controller</code>å‰é¢çš„<code>view controllers</code>è¿‡æ»¤æ‰äº†ï¼Œç„¶åéå†å‰©ä¸‹çš„é€šçŸ¥åï¼Œå¹¶å‘é€é€šçŸ¥ï¼Œè¿™æ ·å°±å¯ä»¥åªåœ¨å½“å‰é¡µé¢å³<code>SecondViewController</code>æ”¶åˆ°ä¾§æ»‘æ‰‹åŠ¿çš„ç›‘å¬äº†ã€‚</p>
</blockquote>
<p>æ¯”å¦‚ï¼Œåœ¨<code>demo</code>ï¼ˆ<strong>æ–‡æœ«æœ‰æä¾›</strong>ï¼‰ä¸­ï¼Œæˆ‘ä»¬ç›‘å¬å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    // Wait 100s to execute `timeAction`</span><br><span class="line">    _timer = [NSTimer scheduledTimerWithTimeInterval:100 target:self selector:@selector(timeAction) userInfo:nil repeats:NO];</span><br><span class="line">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(popGestureDidEnd) name:@&quot;SecondViewController&quot; object:nil];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)popGestureDidEnd</span><br><span class="line">&#123;</span><br><span class="line">    NSLog(@&quot;âš ï¸âš ï¸âš ï¸ OOPSï¼SecondViewController -&gt; popGestureDidEnd&quot;);</span><br><span class="line">    [self removeTimer];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://www.clcoder.com/" target="_blank" rel="noopener">ä¸ªäººåšå®¢</a><br><br><a href="https://github.com/lchenfox/NavigationPopGestureDemo" target="_blank" rel="noopener">Demoåœ°å€</a><br><br>2021-03-12</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>interactivePopGestureRecognizer</tag>
      </tags>
  </entry>
  <entry>
    <title>Building for iOS Simulator, but the linked and embedded framework &#39;IdcardQuality.framework&#39; was built for iOS</title>
    <url>/2020/12/05/Building%20for%20iOS%20Simulator,%20but%20the%20linked%20and%20embedded%20framework%20&#39;IdcardQuality.framework&#39;%20was%20built%20for%20iOS/</url>
    <content><![CDATA[<h2 id="é”™è¯¯"><a href="#é”™è¯¯" class="headerlink" title="é”™è¯¯"></a>é”™è¯¯</h2><p>åœ¨ä½¿ç”¨ç™¾åº¦<code>OCR</code>æ—¶ï¼Œæ— æ³•ä½¿ç”¨æ¨¡æ‹Ÿå™¨è°ƒè¯•ï¼ˆ<code>Xcode Version 12.2 (12B45b)</code>)ï¼Œè¿™æ˜¯ç”±äºç™¾åº¦<code>OCR</code>åº“ä¸æ”¯æŒæ¨¡æ‹Ÿå™¨æ¶æ„ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p>
<p><strong><em>Building for iOS Simulator, but the linked and embedded framework â€˜IdcardQuality.frameworkâ€™ was built for iOS.</em></strong></p>
<p><strong>æˆªå›¾ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/11/30/hrO7Ew6eDsu259M.png" alt="error.png"></p>
<p>å½“ç„¶ï¼Œè¿™ç§æ™ºèƒ½è¯†åˆ«åº“éƒ½æ˜¯éœ€è¦çœŸæœºè°ƒç”¨ç›¸æœºçš„ï¼Œæ¨¡æ‹Ÿå™¨æ— æ³•ä½¿ç”¨ä¹Ÿæ˜¯æ­£å¸¸ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬è™½ç„¶ä¸èƒ½ä¹Ÿæ— æ³•ä½¿ç”¨æ¨¡æ‹Ÿå™¨ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›å·¥ç¨‹èƒ½å¤Ÿæ­£å¸¸è·‘é€šï¼Œä»¥ä¾¿æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨æ¨¡æ‹Ÿå™¨æ¥æµ‹è¯•å…¶ä»–çš„ä¸šåŠ¡é€»è¾‘ï¼Œä¸ç„¶éœ€è¦ä¸€ç›´ä½¿ç”¨<strong>çœŸæœº</strong>æ¥è°ƒè¯•æ˜¯éå¸¸ä¸æ–¹ä¾¿çš„ã€‚</p>
<h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>æ‰¾åˆ°<code>Build Settings/Build Options/Excluded Source File Names</code>ï¼Œåœ¨<code>Debug</code>æ¨¡å¼ä¸‹ï¼Œæ·»åŠ <code>Any iOS Simulator SDK</code>ï¼Œåœ¨åé¢æ·»åŠ è¦åœ¨æ¨¡æ‹Ÿå™¨è¿è¡Œæƒ…å†µä¸‹éœ€è¦æ’é™¤çš„æ–‡ä»¶ï¼Œè¿™é‡Œæ˜¯<code>IdcardQuality.framework</code>ï¼š</p>
<p><img src="https://i.loli.net/2020/11/30/mbQnKL5CPpjMiDv.png" alt="resolve.png"></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOS simulator</tag>
        <tag>Linked and embedded framework</tag>
      </tags>
  </entry>
  <entry>
    <title>React Nativeæ—¥æœŸé€‰æ‹©å™¨</title>
    <url>/2020/06/18/React%20Native%E5%AE%9E%E7%8E%B0%E6%97%A5%E6%9C%9F%E9%80%89%E6%8B%A9%E5%99%A8/</url>
    <content><![CDATA[<h1 id="React-Nativeæ—¥æœŸé€‰æ‹©å™¨"><a href="#React-Nativeæ—¥æœŸé€‰æ‹©å™¨" class="headerlink" title="React Nativeæ—¥æœŸé€‰æ‹©å™¨"></a>React Nativeæ—¥æœŸé€‰æ‹©å™¨</h1><p><strong>iOSå’ŒAndroidé€šç”¨æ—¥æœŸé€‰æ‹©å™¨ï¼š</strong><a href="https://github.com/lchenfox/react-native-common-date-picker" target="_blank" rel="noopener">react-native-common-date-picker</a>ï¼ˆå¦‚æœä½ è§‰å¾—è¿˜ä¸é”™ï¼Œè®°å¾—ç»™ä¸ª â­ï¸â­ï¸â­ï¸ï¼‰ã€‚</p>
<h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><strong>æ—¥æœŸé€‰æ‹©å™¨æˆªå›¾</strong></p>
<table>
<thead>
<tr>
<th>Android 1</th>
<th>Android 2</th>
<th>Android 3</th>
<th>Android 4</th>
</tr>
</thead>
<tbody><tr>
<td><img src="https://i.loli.net/2020/06/12/BcqVmEsYAlSdRvz.png" alt="Android 1.png"></td>
<td><img src="https://i.loli.net/2020/06/12/4L86ouwz1PNrdIG.png" alt="Android 2.png"></td>
<td><img src="https://i.loli.net/2020/06/12/KSGh74QTdDn9wlH.png" alt="Android 3.png"></td>
<td><img src="https://i.loli.net/2020/06/12/k3NbBnzmRQ65ZJS.png" alt="Android 4.png"></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>iOS 1</th>
<th>iOS 2</th>
<th>iOS 3</th>
<th>iOS 4</th>
</tr>
</thead>
<tbody><tr>
<td><img src="https://i.loli.net/2020/06/12/nvd24jc1zGrAhLW.png" alt="iOS 1.png"></td>
<td><img src="https://i.loli.net/2020/06/12/DgLFt79Uz38P2hv.png" alt="iOS 2.png"></td>
<td><img src="https://i.loli.net/2020/06/12/wehKmGE3s5aoWtJ.png" alt="iOS 3.png"></td>
<td><img src="https://i.loli.net/2020/06/12/T5QjBLpYH7lNrUm.png" alt="iOS 4.png"></td>
</tr>
</tbody></table>
<p><strong>æ—¥å†åˆ—è¡¨æˆªå›¾</strong></p>
<table>
<thead>
<tr>
<th>Android 1</th>
<th>Android 2</th>
<th>Android 3</th>
<th>Android 4</th>
</tr>
</thead>
<tbody><tr>
<td><img src="https://i.loli.net/2020/06/06/ldkZV3NpQivuL8z.png" alt="Android1.png"></td>
<td><img src="https://i.loli.net/2020/06/06/Xhk2uwjvszreHTg.png" alt="Android2.png"></td>
<td><img src="https://i.loli.net/2020/06/06/iBPDeptU4kFLjN2.png" alt="Android3.png"></td>
<td><img src="https://i.loli.net/2020/06/06/tyALsbHZfGVzrJw.png" alt="Android4.png"></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>iOS 1</th>
<th>iOS 2</th>
<th>iOS 3</th>
<th>iOS 4</th>
</tr>
</thead>
<tbody><tr>
<td><img src="https://i.loli.net/2020/06/06/LwEa476VAQ8kgTC.png" alt="iOS1.png"></td>
<td><img src="https://i.loli.net/2020/06/06/K6h21JlyTspo7gq.png" alt="iOS2.png"></td>
<td><img src="https://i.loli.net/2020/06/06/Pw1DnIkMjtve5NC.png" alt="iOS3.png"></td>
<td><img src="https://i.loli.net/2020/06/06/nUuI1bSxayiTkZe.png" alt="iOS4.png"></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>æ—¥æœŸé€‰æ‹©å™¨GIF</th>
<th>æ—¥å†åˆ—è¡¨GIF</th>
</tr>
</thead>
<tbody><tr>
<td><img src="https://i.loli.net/2020/06/15/8fyQB3WA1KMPhzt.gif" alt="DatePicker.gif"></td>
<td><img src="https://i.loli.net/2020/06/15/baRr4Ymh8qBKoZt.gif" alt="CalendarList.gif"></td>
</tr>
</tbody></table>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸€ç›´ä»¥æ¥ï¼Œéƒ½ä¼šå› ä¸º<code>RN</code>çš„æ—¥æœŸé€‰æ‹©å™¨ä½¿ç”¨è€Œæµªè´¹æ—¶é—´å’Œç²¾åŠ›ã€‚é¦–å…ˆï¼Œ<code>RN</code>å®˜æ–¹æä¾›çš„æ—¥æœŸé€‰æ‹©å™¨åœ¨<code>iOS</code>å’Œ<code>Android</code>ä¸Šå¹¶ä¸ç»Ÿä¸€ï¼Œå°¤å…¶æ˜¯åœ¨<code>Android</code>ä¸Šï¼Œå±•ç¤ºçš„æ˜¯<strong>é’Ÿè¡¨</strong>çš„å½¢å¼ï¼Œä½œä¸ºä¸€ä¸ª<code>iOS</code>å¼€å‘è€…æ¥è¯´ï¼Œç®€ç›´éš¾ä»¥æ¥å—ã€‚</p>
<p>å› æ­¤ï¼Œå¯¹äº<code>RN</code>å¼€å‘æ¥è¯´ï¼Œ<a href="https://reactnative.dev/docs/datepickerios" target="_blank" rel="noopener">RNå®˜æ–¹ - DatePickerIOS</a> å’Œ <a href="https://reactnative.dev/docs/datepickerandroid" target="_blank" rel="noopener">RNå®˜æ–¹ - DatePickerAndroid</a> çš„ä¸ç»Ÿä¸€ï¼Œè¿™ç‚¹å°±è®©å¾ˆå¤šäººå¼ƒç”¨å®˜æ–¹æä¾›çš„ç»„ä»¶å’Œ<code>API</code>ï¼Œé‚£æœ‰æ²¡æœ‰ç°æˆçš„å¯ä»¥ä½¿ç”¨çš„æ—¥æœŸé€‰æ‹©å™¨å‘¢ï¼Ÿ</p>
<p><strong>æ³¨ï¼šä¸Šé¢å®˜æ–¹æä¾›çš„æ—¥æœŸé€‰æ‹©å™¨ç›®å‰å·²ç»ç”±RNç¤¾åŒºç»Ÿä¸€ç»´æŠ¤ï¼Œ<a href="https://github.com/react-native-community/datetimepicker" target="_blank" rel="noopener">é“¾æ¥ï¼š@react-native-community/datetimepicker</a>ã€‚</strong></p>
<p>ç°æˆçš„æ—¥æœŸé€‰æ‹©å™¨è‡ªç„¶æ˜¯æœ‰çš„ï¼Œæ¯”å¦‚<a href="https://github.com/mmazzarolo/react-native-modal-datetime-picker" target="_blank" rel="noopener">react-native-modal-datetime-picker</a>å’Œå®˜æ–¹æä¾›çš„ç±»ä¼¼ï¼Œå¯ä»¥è¯´åªæ˜¯ä¸€å±‚å°è£…ã€‚å†æ¯”å¦‚å¦ä¸€ä¸ªè¾ƒä¸ºç¬¦åˆéœ€æ±‚çš„<a href="https://github.com/henninghall/react-native-date-picker" target="_blank" rel="noopener">react-native-date-picker</a>ã€‚ç„¶è€Œï¼Œè¿™äº›åº“è¦ä¹ˆåŸºäºå®˜æ–¹åšäº†ä¸€å±‚å°è£…ï¼Œè¦ä¹ˆå°±æ˜¯ä¸èƒ½çµæ´»åœ°è°ƒæ•´ä¸€äº›å¿…è¦çš„é…ç½®ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸Œæœ›åªæ˜¾ç¤º<strong>å¹´-æœˆ</strong>æˆ–è€…è°ƒæ•´é¡ºåºçš„<strong>æœˆ-æ—¥-å¹´</strong>ã€<strong>æ—¥-æœˆ-å¹´</strong>ç­‰ç­‰ã€‚</p>
<p>ç¬”è€…çš„ç›®çš„å°±æ˜¯ä¸ºäº†è¦è®©<strong>éœ€æ±‚</strong>æ— å¤„éå½¢ï¼Œæ— è®ºä½ æ€ä¹ˆè°ƒæ•´é¡ºåºã€éœ€è¦è°ƒæ•´é¢œè‰²ã€è·ç¦»ã€å­—ä½“å¤§å°ç­‰ï¼Œæˆ‘åªéœ€è¦é…ç½®ä¸€ä¸‹å‚æ•°å°±å¯ä»¥æ»¡è¶³äº§å“ç»ç†çš„<strong>â€œæ— ç†è¦æ±‚â€</strong>ï¼Œä¹Ÿå› æ­¤æ‰æœ‰äº†æœ¬æ–‡çš„é‡å¤é€ è½®å­ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆè¦æ¨èreact-native-common-date-picker"><a href="#ä¸ºä»€ä¹ˆè¦æ¨èreact-native-common-date-picker" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æ¨èreact-native-common-date-picker"></a>ä¸ºä»€ä¹ˆè¦æ¨èreact-native-common-date-picker</h2><p>ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>æ”¯æŒ<code>iOSå’ŒAndroid</code>ï¼Œæ ·å¼ç»Ÿä¸€</li>
<li>å®‰è£…å’Œä½¿ç”¨æ–¹ä¾¿ï¼Œçº¯JavaScriptå®ç°ï¼Œæ— éœ€<code>link</code></li>
<li>çµæ´»æ€§é«˜ï¼Œå‚æ•°é…ç½®ä¸°å¯Œï¼Œæ— è®ºä½ åªæƒ³æ˜¾ç¤º<strong>å¹´-æœˆ-æ—¥</strong>è¿˜æ˜¯<strong>æœˆ-æ—¥-å¹´</strong>ã€<strong>æ—¥-æœˆ-å¹´</strong>ã€<strong>å¹´-æœˆ</strong>ç­‰éƒ½å¯ä»¥</li>
<li>æ”¯æŒæ—¥æœŸé€‰æ‹©å™¨å’Œæ—¥å†ğŸ“†ä¸¤ç§ä¸åŒç±»å‹çš„æ—¥æœŸé€‰æ‹©</li>
<li>æ€§èƒ½é«˜ï¼Œä½¿ç”¨æœ€åŸºç¡€æœ€åŸå§‹çš„â€œçœ‹ä¼¼ç¬¨æ‹™â€çš„æ–¹æ³•æ¥æå‡æ€§èƒ½ï¼ˆå¯ä»¥çœ‹æºç é‡Œé¢æœ‰æ³¨é‡Šï¼‰</li>
</ul>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>æœ¬åº“æ˜¯çº¯<code>JS</code>å®ç°ï¼Œå› æ­¤å®‰è£…ä¾èµ–éå¸¸ç®€å•ï¼Œä¸€æ­¥åˆ°ä½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install react-native-common-date-picker</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><h4 id="æ—¥æœŸé€‰æ‹©å™¨"><a href="#æ—¥æœŸé€‰æ‹©å™¨" class="headerlink" title="æ—¥æœŸé€‰æ‹©å™¨"></a>æ—¥æœŸé€‰æ‹©å™¨</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;DatePicker&#125; from &quot;react-native-common-date-picker&quot;;</span><br><span class="line"></span><br><span class="line">&lt;DatePicker</span><br><span class="line">    confirm=&#123;date =&gt; &#123;</span><br><span class="line">        console.warn(date)</span><br><span class="line">    &#125;&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>

<h4 id="æ—¥å†é€‰æ‹©åˆ—è¡¨ğŸ“†"><a href="#æ—¥å†é€‰æ‹©åˆ—è¡¨ğŸ“†" class="headerlink" title="æ—¥å†é€‰æ‹©åˆ—è¡¨ğŸ“†"></a>æ—¥å†é€‰æ‹©åˆ—è¡¨ğŸ“†</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;CalendarList&#125; from &quot;react-native-common-date-picker&quot;;</span><br><span class="line"></span><br><span class="line">&lt;Modal animationType=&#123;&apos;slide&apos;&#125; visible=&#123;this.state.visible&#125;&gt;</span><br><span class="line">     &lt;CalendarList</span><br><span class="line">          containerStyle=&#123;&#123;flex: 1&#125;&#125;</span><br><span class="line">          cancel=&#123;() =&gt; this.setState(&#123;visible: false&#125;)&#125;</span><br><span class="line">          confirm=&#123;data =&gt; &#123;</span><br><span class="line">              this.setState(&#123;</span><br><span class="line">                   selectedDate1: data[0],</span><br><span class="line">                   selectedDate2: data[1],</span><br><span class="line">                   visible: false,</span><br><span class="line">              &#125;);</span><br><span class="line">          &#125;&#125;</span><br><span class="line">     /&gt;</span><br><span class="line">&lt;/Modal&gt;</span><br></pre></td></tr></table></figure>

<p>æ›´å¤šçš„ä½¿ç”¨ä¾‹å­ï¼Œå¤§å®¶è‡ªè¡ŒæŸ¥çœ‹<a href="https://github.com/lchenfox/react-native-common-date-picker" target="_blank" rel="noopener">GitHub: react-native-common-date-pickerä»“åº“</a>ï¼Œæºç é‡Œé¢ä¹Ÿæœ‰å¾ˆå…¨é¢çš„æ³¨é‡Šï¼Œéå¸¸å®¹æ˜“é…ç½®å’Œä½¿ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native, react-native-date-picker, react-native-common-date-pickerï¼Œdatepicker, æ—¥æœŸé€‰æ‹©å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>react-native-code-pushçƒ­æ›´æ–°</title>
    <url>/2020/03/25/RN%E4%BD%BF%E7%94%A8CodePush%E7%83%AD%E6%9B%B4%E6%96%B0/</url>
    <content><![CDATA[<h2 id="å‰æœŸå‡†å¤‡"><a href="#å‰æœŸå‡†å¤‡" class="headerlink" title="å‰æœŸå‡†å¤‡"></a>å‰æœŸå‡†å¤‡</h2><p><a href="https://docs.microsoft.com/en-us/appcenter/distribution/codepush/" target="_blank" rel="noopener">å®˜æ–¹é“¾æ¥</a></p>
<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><p>æœ¬æ–‡æµ‹è¯•éƒ½æ˜¯åŸºäºä»¥ä¸‹é…ç½®è¿›è¡Œæµ‹è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">info</span><br><span class="line">  React Native Environment Info:</span><br><span class="line">    System:</span><br><span class="line">      OS: macOS 10.14.5</span><br><span class="line">      CPU: (4) x64 Intel(R) Core(TM) i3-8100B CPU @ 3.60GHz</span><br><span class="line">      Memory: 192.60 MB / 8.00 GB</span><br><span class="line">      Shell: 5.3 - /bin/zsh</span><br><span class="line">    Binaries:</span><br><span class="line">      Node: 12.10.0 - /usr/local/bin/node</span><br><span class="line">      Yarn: 1.17.3 - ~/.yarn/bin/yarn</span><br><span class="line">      npm: 6.11.3 - /usr/local/bin/npm</span><br><span class="line">      Watchman: 4.9.0 - /usr/local/bin/watchman</span><br><span class="line">    SDKs:</span><br><span class="line">      iOS SDK:</span><br><span class="line">        Platforms: iOS 13.2, DriverKit 19.0, macOS 10.15, tvOS 13.2, watchOS 6.1</span><br><span class="line">      Android SDK:</span><br><span class="line">        API Levels: 23, 26, 27, 28</span><br><span class="line">        Build Tools: 23.0.1, 26.0.1, 27.0.3, 28.0.2, 28.0.3</span><br><span class="line">        System Images: android-23 | Intel x86 Atom_64, android-23 | Google APIs Intel x86 Atom, android-23 | Google APIs Intel x86 Atom_64, android-26 | Google APIs Intel x86 Atom, android-27 | Intel x86 Atom_64, android-27 | Google APIs Intel x86 Atom, android-27 | Google Play Intel x86 Atom, android-28 | Google Play Intel x86 Atom</span><br><span class="line">    IDEs:</span><br><span class="line">      Android Studio: 3.5 AI-191.8026.42.35.5977832</span><br><span class="line">      Xcode: 11.3.1/11C505 - /usr/bin/xcodebuild</span><br><span class="line">    npmPackages:</span><br><span class="line">      react: 16.8.3 =&gt; 16.8.3</span><br><span class="line">      react-native: 0.59.9 =&gt; 0.59.9</span><br><span class="line">    npmGlobalPackages:</span><br><span class="line">      react-native-cli: 2.0.1</span><br><span class="line">      react-native-demo-for-npm: 1.0.16</span><br><span class="line">      react-native-update-cli: 0.1.0</span><br></pre></td></tr></table></figure>

<h2 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h2><h3 id="1-Install-the-App-Center-CLI"><a href="#1-Install-the-App-Center-CLI" class="headerlink" title="1. Install the App Center CLI"></a>1. Install the App Center CLI</h3><p>è¦ç®¡ç†å¤§å¤šæ•°<strong>CodePush</strong>åŠŸèƒ½ï¼Œéœ€è¦ä½¿ç”¨<strong>App Center CLI</strong>ã€‚é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g appcenter-cli</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šå®˜æ–¹æç¤ºï¼Œä¸è¦ä½¿ç”¨<code>sudo</code>æƒé™æ¥æ‰§è¡Œå®‰è£…è¿™ä¸ªå‘½ä»¤ã€‚</p>
</blockquote>
<p>åœ¨æˆåŠŸå®‰è£…<strong>App Center CLI</strong>åï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ¥é…ç½®ä½ çš„<strong>App Center</strong>è´¦æˆ·è¯¦æƒ…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter login</span><br></pre></td></tr></table></figure>

<p>è´¦æˆ·ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Logged in as wankeenergy-gmail.com</span><br></pre></td></tr></table></figure>

<h5 id="1-1-åœ¨App-Centerä¸Šåˆ›å»ºApp"><a href="#1-1-åœ¨App-Centerä¸Šåˆ›å»ºApp" class="headerlink" title="1.1 åœ¨App Centerä¸Šåˆ›å»ºApp"></a>1.1 åœ¨App Centerä¸Šåˆ›å»ºApp</h5><ul>
<li>iOS</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter apps create -d PowerPlus-iOS -o iOS -p React-Native</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºæˆåŠŸè¾“å‡ºç±»ä¼¼å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  SolarEnergy git:(dev_chenlong) âœ— appcenter apps create -d PowerPlus-iOS -o iOS -p React-Native</span><br><span class="line">App Secret:            28a33816-6bc0-4b00-8947-97b28e7780e4</span><br><span class="line">Description:</span><br><span class="line">Display Name:          PowerPlus-iOS</span><br><span class="line">Name:                  PowerPlus-iOS</span><br><span class="line">OS:                    iOS</span><br><span class="line">Platform:              React-Native</span><br><span class="line">Release Type:</span><br><span class="line">Owner ID:              20273273-6efd-459d-bb13-5cf102ba28d4</span><br><span class="line">Owner Display Name:    Energy Wanke</span><br><span class="line">Owner Email:           wankeenergy@gmail.com</span><br><span class="line">Owner Name:            wankeenergy-gmail.com</span><br><span class="line">Azure Subscription ID:</span><br></pre></td></tr></table></figure>

<ul>
<li>Android</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter apps create -d PowerPlus-Android -o Android -p React-Native</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥æŠŠ<strong>App Center</strong>ä¸Šçš„åº”ç”¨ç¨‹åº<code>PowerPlus-iOS</code>è®¾ç½®ä¸ºå½“å‰çš„åº”ç”¨ç¨‹åº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter apps set-current wankeenergy-gmail.com/PowerPlus-iOS</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®æµ‹è¯•ï¼ˆ<code>Staging</code>ï¼‰)å’Œ ç”Ÿäº§ï¼ˆ<code>Production</code>ï¼‰ç¯å¢ƒå¯†é’¥ï¼Œè¿™æ ·çš„è¯é¿å…æµ‹è¯•çš„æ—¶å€™åº”ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter codepush deployment add -a &lt;ownerName&gt;/&lt;appName&gt; Staging</span><br><span class="line">appcenter codepush deployment add -a &lt;ownerName&gt;/&lt;appName&gt; Production</span><br></pre></td></tr></table></figure>

<p>ç”±äºæˆ‘ä»¬åˆšæ‰ä½¿ç”¨<code>appcenter apps set-current</code>è®¾ç½®äº†<code>PowerPlus-iOS</code>è®¾ç½®ä¸ºå½“å‰çš„åº”ç”¨ç¨‹åº, æ‰€ä»¥ç›´æ¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter codepush deployment add Staging</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºå¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  SolarEnergy git:(dev_chenlong) âœ— appcenter codepush deployment add Staging</span><br><span class="line">Deployment Staging has been created for wankeenergy-gmail.com/PowerPlus-iOS with key _aoveTNJlRogvD_AZL16sr1dYl-JIG-moOdTY</span><br></pre></td></tr></table></figure>

<p>éƒ¨ç½²ç”Ÿäº§ç¯å¢ƒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  SolarEnergy git:(dev_chenlong) âœ— appcenter codepush deployment add Production</span><br><span class="line">Deployment Production has been created for wankeenergy-gmail.com/PowerPlus-iOS with key ZqjsB9UA9BX5KylIOgNU4lCkSlDwCRVZudOoH</span><br></pre></td></tr></table></figure>

<p>å°†å½“å‰åº”ç”¨ç¨‹åºè®¾ç½®æˆ<code>Android</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter apps set-current wankeenergy-gmail.com/PowerPlus-Android</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  SolarEnergy git:(dev_chenlong) âœ— appcenter codepush deployment add Staging</span><br><span class="line">Deployment Staging has been created for wankeenergy-gmail.com/PowerPlus-Android with key tFRH5R1fNGA_BTQ_P4ixCiR4v6TsEUL4iSMZj</span><br><span class="line"></span><br><span class="line">âœ  SolarEnergy git:(dev_chenlong) âœ— appcenter codepush deployment add Production</span><br><span class="line">Deployment Production has been created for wankeenergy-gmail.com/PowerPlus-Android with key Daj3dgNAeyKYFzAqWGWfoV9PggYm8eX76vbMC</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰åº”ç”¨ç¨‹åºçš„éƒ¨ç½²<code>key</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  SolarEnergy git:(dev_chenlong) âœ— appcenter codepush deployment list --displayKeys</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºå¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Key</th>
</tr>
</thead>
<tbody><tr>
<td>Staging</td>
<td>tFRH5R1fNGA_BTQ_P4ixCiR4v6TsEUL4iSMZj</td>
</tr>
<tr>
<td>Production</td>
<td>Daj3dgNAeyKYFzAqWGWfoV9PggYm8eX76vbMC</td>
</tr>
</tbody></table>
<p>å¦‚æœæƒ³æ”¹å˜å·²å‘½åçš„åº”ç”¨ç¨‹åºåï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter apps update -n &lt;newName&gt; -a &lt;ownerName&gt;/&lt;appName&gt;</span><br></pre></td></tr></table></figure>

<p>è¦æƒ³ä»æœåŠ¡å™¨ä¸Šç§»é™¤<code>app</code>ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤(è¦æ³¨æ„ï¼Œå¦‚æœåˆ é™¤ï¼Œåˆ™æ— æ³•å†æ›´æ–°<code>app</code>ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter apps delete -a &lt;ownerName&gt;/&lt;appName&gt;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæƒ³è¦åˆ—ä¸¾æ‰€æœ‰åœ¨<strong>App Center</strong>æœåŠ¡å™¨ä¸Šçš„<code>app</code>ï¼Œå¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter apps list</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  SolarEnergy git:(dev_chenlong) âœ— appcenter apps list</span><br><span class="line">* wankeenergy-gmail.com/PowerPlus-Android (current app)</span><br><span class="line">  wankeenergy-gmail.com/PowerPlus-iOS</span><br></pre></td></tr></table></figure>

<p>å›æ»šç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter codepush rollback</span><br></pre></td></tr></table></figure>

<h3 id="2-CodePush-ifyä½ çš„app"><a href="#2-CodePush-ifyä½ çš„app" class="headerlink" title="2. CodePush-ifyä½ çš„app"></a>2. CodePush-ifyä½ çš„app</h3><p>æ·»åŠ <strong>CodePush client SDK</strong>åˆ°ä½ çš„<code>app</code>ï¼Œé€šè¿‡é…ç½®ï¼Œä»<strong>App Center</strong>ä¸­æ‹‰å–æ‰€éƒ¨ç½²çš„<code>app</code>æ›´æ–°, è¯¦æƒ…å¯å‚è€ƒ</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/appcenter/distribution/codepush/react-native#getting-started" target="_blank" rel="noopener">React Native</a></li>
</ul>
<h5 id="2-1-å¼€å§‹"><a href="#2-1-å¼€å§‹" class="headerlink" title="2.1 å¼€å§‹"></a>2.1 å¼€å§‹</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save react-native-code-push@5.7.0</span><br></pre></td></tr></table></figure>

<p><code>Android</code>å’Œ<code>iOS</code>çš„é…ç½®æ–¹å¼æœ‰æ‰€ä¸åŒï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œå®˜æ–¹æ¨èä¸ºæ¯ä¸€ä¸ªå¹³å°å•ç‹¬åˆ›å»ºä¸€ä¸ª<strong>CodePush</strong>åº”ç”¨ç¨‹åºã€‚å¦‚æœä½ æƒ³è¦çœ‹ä¸€ä¸‹å…¶ä»–å·¥ç¨‹å¦‚ä½•é›†æˆ<strong>CodePush</strong>ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ç¤¾åŒºæä¾›çš„ä¸€äº›æ ·ä¾‹<code>app</code>: <a href="https://docs.microsoft.com/en-us/appcenter/distribution/codepush/react-native#example-apps--starters" target="_blank" rel="noopener">example apps</a>ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ æƒ³å¿«é€Ÿç†Ÿæ‚‰<strong>CodePush + React Native</strong>ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™äº›äººåˆ¶ä½œçš„è§†é¢‘ï¼š<a href="https://www.youtube.com/watch?v=uN0FRWk-YW8&feature=youtu.be" target="_blank" rel="noopener">Bilal Budhani</a>å’Œ<a href="https://www.youtube.com/watch?v=f6I9y7V-Ibk" target="_blank" rel="noopener">Deepak Sisodiya</a>ã€‚</p>
<h5 id="2-2-iOSè®¾ç½®ï¼ˆè¿™é‡ŒæŒ‰RNç‰ˆæœ¬å°äº0-6æ¥å®‰è£…ï¼Œå› ä¸ºæˆ‘æ˜¯0-59-9ï¼‰"><a href="#2-2-iOSè®¾ç½®ï¼ˆè¿™é‡ŒæŒ‰RNç‰ˆæœ¬å°äº0-6æ¥å®‰è£…ï¼Œå› ä¸ºæˆ‘æ˜¯0-59-9ï¼‰" class="headerlink" title="2.2 iOSè®¾ç½®ï¼ˆè¿™é‡ŒæŒ‰RNç‰ˆæœ¬å°äº0.6æ¥å®‰è£…ï¼Œå› ä¸ºæˆ‘æ˜¯0.59.9ï¼‰"></a>2.2 iOSè®¾ç½®ï¼ˆè¿™é‡ŒæŒ‰RNç‰ˆæœ¬å°äº0.6æ¥å®‰è£…ï¼Œå› ä¸ºæˆ‘æ˜¯0.59.9ï¼‰</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">react-native link react-native-code-push</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ä¸ªå‘½ä»¤ä¼šæç¤ºè¾“å…¥ä¸€ä¸ªéƒ¨ç½²<code>key</code>(è¿™ä¸ª<code>key</code>å°±æ˜¯ä¸Šé¢å·²ç»æ·»åŠ çš„<code>Staging</code>å’Œ<code>Production</code>)ï¼Œå¯ä»¥æŒ‰å›è½¦é”®å¿½ç•¥ï¼Œåé¢å†é…ç½®ä¹Ÿå¯ä»¥ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥è·å–éƒ¨ç½²<code>key</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter codepush deployment list -a &lt;ownerName&gt;/&lt;appName&gt; --displayKeys</span><br></pre></td></tr></table></figure>

<h5 id="2-3-åˆ°è¿™é‡Œä¹‹åï¼Œæˆ‘ä»¬è¿è¡Œreact-native-run-androidå¯èƒ½ä¼šæŠ¥é”™å¦‚ä¸‹ï¼š"><a href="#2-3-åˆ°è¿™é‡Œä¹‹åï¼Œæˆ‘ä»¬è¿è¡Œreact-native-run-androidå¯èƒ½ä¼šæŠ¥é”™å¦‚ä¸‹ï¼š" class="headerlink" title="2.3 åˆ°è¿™é‡Œä¹‹åï¼Œæˆ‘ä»¬è¿è¡Œreact-native run-androidå¯èƒ½ä¼šæŠ¥é”™å¦‚ä¸‹ï¼š"></a>2.3 åˆ°è¿™é‡Œä¹‹åï¼Œæˆ‘ä»¬è¿è¡Œ<code>react-native run-android</code>å¯èƒ½ä¼šæŠ¥é”™å¦‚ä¸‹ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">* What went wrong:</span><br><span class="line">Execution failed for task &apos;:app:transformDexArchiveWithDexMergerForDebug&apos;.</span><br><span class="line">&gt; com.android.build.api.transform.TransformException: java.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives:</span><br><span class="line">  The number of method references in a .dex file cannot exceed 64K.</span><br><span class="line">  Learn how to resolve this issue at https://developer.android.com/tools/building/multidex.html</span><br></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•ï¼Œåœ¨<code>android/app/build.gradle</code>ä¸‹æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">android &#123;</span><br><span class="line"></span><br><span class="line">	...</span><br><span class="line">	</span><br><span class="line">	defaultConfig &#123;</span><br><span class="line">	</span><br><span class="line">	...</span><br><span class="line">	</span><br><span class="line">	   // Enabling multidex support.</span><br><span class="line">        multiDexEnabled true</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-4-åœ¨é¡¹ç›®æ ¹ç»„ä»¶æ·»åŠ CodePush"><a href="#2-4-åœ¨é¡¹ç›®æ ¹ç»„ä»¶æ·»åŠ CodePush" class="headerlink" title="2.4 åœ¨é¡¹ç›®æ ¹ç»„ä»¶æ·»åŠ CodePush"></a>2.4 åœ¨é¡¹ç›®æ ¹ç»„ä»¶æ·»åŠ CodePush</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import codePush from &quot;react-native-code-push&quot;;</span><br><span class="line"></span><br><span class="line">class MyApp extends Component &#123;</span><br><span class="line"></span><br><span class="line">	   componentDidMount() &#123;</span><br><span class="line">	   		  /* </span><br><span class="line">	   		    æ³¨æ„ï¼šå¦‚æœæˆ‘ä»¬åˆ†åˆ«åœ¨Androidå’ŒiOSä¸­é…ç½®äº† Staging å’Œ Production å¯†é’¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿™é‡Œå¯ä»¥</span><br><span class="line">	   		         ä¸éœ€è¦deploymentKeyï¼ï¼ï¼å½“ç„¶ï¼Œè¦ä¼ ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œä¼ çš„è¯å°±æ˜¯ä»£è¡¨åŠ¨æ€ä½¿ç”¨è¿™ä¸ª deploymentKeyï¼Œä¼šè¦†</span><br><span class="line">	   		         ç›–åœ¨å·¥ç¨‹ä¸­é…ç½®çš„keyï¼Œçœ‹ä¸ªäººçš„é€‰æ‹©ï¼</span><br><span class="line">	   		   */</span><br><span class="line">        	  const deploymentKey = isAndroid ? &apos;tFRH5R1fNGA_BTQ_P4ixCiR4v6TsEUL4iSMZj&apos; : &apos;_aoveTNJlRogvD_AZL16sr1dYl-JIG-moOdTY&apos;;</span><br><span class="line">        	  codePush.sync(&#123;</span><br><span class="line">                   updateDialog: false,</span><br><span class="line">                   installMode: codePush.InstallMode.ON_NEXT_RESTART,</span><br><span class="line">                   deploymentKey: deploymentKey,</span><br><span class="line">       	       &#125;, status =&gt; &#123;</span><br><span class="line">           		 	__DEV__ &amp;&amp; console.warn(`status: $&#123;status&#125;`)</span><br><span class="line">       	 	   &#125;, progress =&gt; &#123;</span><br><span class="line">           		 	const &#123;totalBytes, receivedBytes&#125; = progress;</span><br><span class="line">            		__DEV__ &amp;&amp; console.warn(`totalBytes: $&#123;totalBytes&#125;, receivedBytes: $&#123;receivedBytes&#125;`);</span><br><span class="line">        	   &#125;);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MyApp = codePush(MyApp);</span><br></pre></td></tr></table></figure>

<h3 id="3-éƒ¨ç½²æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒå¯†é’¥è¿›è¡Œå¤šç«¯æµ‹è¯•"><a href="#3-éƒ¨ç½²æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒå¯†é’¥è¿›è¡Œå¤šç«¯æµ‹è¯•" class="headerlink" title="3. éƒ¨ç½²æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒå¯†é’¥è¿›è¡Œå¤šç«¯æµ‹è¯•"></a>3. éƒ¨ç½²æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒå¯†é’¥è¿›è¡Œå¤šç«¯æµ‹è¯•</h3><p><a href="https://docs.microsoft.com/en-us/appcenter/distribution/codepush/react-native#multi-deployment-testing" target="_blank" rel="noopener">Multi-Deployment Testing</a></p>
<h3 id="4-å‘å¸ƒappæ›´æ–°"><a href="#4-å‘å¸ƒappæ›´æ–°" class="headerlink" title="4. å‘å¸ƒappæ›´æ–°"></a>4. å‘å¸ƒappæ›´æ–°</h3><p>æ³¨æ„ï¼š<code>Android</code>æ‰“åŒ…æµ‹è¯•çƒ­æ›´æ–°çš„æ—¶å€™ç”¨ä¸‹é¢è¿™ä¸ªå‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./gradlew assembleReleaseStaging</span><br></pre></td></tr></table></figure>

<p>å¦‚æœç”¨<code>./gradlew assembleRelease</code>çš„è¯ï¼Œé»˜è®¤èµ°çš„æ˜¯<code>Production</code>ã€‚</p>
<p>å¦‚æœéœ€è¦ç›´æ¥åœ¨æœ¬åœ°è°ƒè¯•å®‰è£…åœ¨<code>android</code>æ‰‹æœºä¸Šçš„<code>Staging</code>ç‰ˆæœ¬ï¼Œå¯ä»¥æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">react-native run-android --variant=releaseStaging</span><br></pre></td></tr></table></figure>

<p><code>iOS</code>æ‰“åŒ…éœ€è¦åœ¨<code>archive</code>çš„æ—¶å€™é€‰æ‹©<code>Staging</code>ï¼Œå¦åˆ™æ‰“çš„ä¹Ÿæ˜¯<code>Production</code>ã€‚</p>
<p>åœ¨æ›´æ–°ä»£ç åï¼Œä½¿ç”¨<strong>App Center CLI</strong>å‘å¸ƒæ›´æ–°åˆ°<strong>App Center</strong>ï¼Œæ ¹æ®ä¸‹é¢å‘å¸ƒå³å¯</p>
<h5 id="React-Native"><a href="#React-Native" class="headerlink" title="React Native"></a>React Native</h5><p>æ‰§è¡Œ<strong>App Center CLI</strong>çš„<code>release-react</code>å‘½ä»¤æ¥æ‰“åŒ…ä»£ç å’Œ<code>asset</code>æ–‡ä»¶ï¼Œç„¶åå‘å¸ƒåˆ°<strong>App Center server</strong>ä½œä¸ºä¸€ä¸ªæ–°çš„å‘å¸ƒã€‚ä¾‹å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter codepush release-react -a &lt;ownerName&gt;/MyApp</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>App Center CLI</strong>çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§å°±æ˜¯å¯ä»¥ä½¿ç”¨<code>appcenter apps set-current &lt;ownerName&gt;/&lt;appName&gt;</code>æŠŠä¸€ä¸ª<code>app</code>è®¾ç½®ä¸ºå½“å‰çš„<code>app</code>. é€šè¿‡æŠŠ<code>app</code>è®¾ç½®ä¸ºå½“å‰<code>app</code>ï¼Œå°±æ²¡æœ‰å¿…è¦ä½¿ç”¨<code>-a</code>æ ‡å¿—ã€‚ä¾‹å¦‚ï¼Œå‘½ä»¤<code>appcenter codepush deployment list -a &lt;ownerName&gt;/&lt;appName&gt;</code>å¯ä»¥ç”¨<code>appcenter codepush deployment list</code>æ¥ä»£æ›¿ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤<code>appcenter apps get-current</code>æ¥æŸ¥çœ‹å“ªä¸ª<code>app</code>è¢«è®¾ç½®æˆä½ è´¦å·çš„å½“å‰<code>app</code>ã€‚</p>
</blockquote>
<p>å‘å¸ƒä¸€ä¸ªæ›´æ–°(åŠ <code>-m</code>å°±æ˜¯å¼ºåˆ¶æ›´æ–°ï¼Œä¼šç«‹å³é‡å¯<code>app</code>)ï¼Œå¹¶å¸¦æœ‰æ—¥å¿—æè¿°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// å¼ºåˆ¶ç«‹å³é‡å¯</span><br><span class="line">appcenter codepush release-react -a &lt;ownerName&gt;/MyApp-iOS  -m --description &quot;Modified the header color&quot;</span><br><span class="line"></span><br><span class="line">// ä¸å¼ºåˆ¶ç«‹å³é‡å¯</span><br><span class="line">appcenter codepush release-react -a &lt;ownerName&gt;/MyApp-iOS  --description &quot;Modified the header color&quot;</span><br></pre></td></tr></table></figure>

<p>å‘å¸ƒæ›´æ–°åˆ°å…·ä½“çš„ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter codepush release-react -a &lt;ownerName&gt;/MyApp-Android  --target-binary-version &quot;1.1.0&quot;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥æŒ‡å®šèŒƒå›´è¦å‘å¸ƒåˆ°å“ªäº›ç‰ˆæœ¬ï¼Œå‚æ•°å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Range Expression	Who gets the update</span><br><span class="line">1.2.3				Only devices running the specific binary version 1.2.3 of your app</span><br><span class="line">*	    			Any device configured to consume updates from your CodePush app</span><br><span class="line">1.2.x				Devices running major version 1, minor version 2, and any patch version of your app</span><br><span class="line">1.2.3 - 1.2.7		Devices running any binary version between 1.2.3 (inclusive) and 1.2.7 (inclusive)</span><br><span class="line">&gt;=1.2.3 &lt;1.2.7		Devices running any binary version between 1.2.3 (inclusive) and 1.2.7 (exclusive)</span><br><span class="line">1.2	    			Equivalent to &gt;=1.2.0 &lt;1.3.0</span><br><span class="line">~1.2.3				Equivalent to &gt;=1.2.3 &lt;1.3.0</span><br><span class="line">^1.2.3				Equivalent to &gt;=1.2.3 &lt;2.0.0</span><br></pre></td></tr></table></figure>

<p>è¦å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯æµ‹è¯•ç¯å¢ƒï¼Œå¯ä»¥ä½¿ç”¨<code>--deployment-name æˆ– -d</code>ï¼Œé»˜è®¤æ˜¯<code>Staging</code>, ä¾‹å¦‚è¦å‘å¸ƒåˆ°ç‰ˆæœ¬<code>1.1.0</code>çš„ç”Ÿäº§ç¯å¢ƒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">appcenter codepush release-react -a &lt;ownerName&gt;/MyApp-Android  --target-binary-version &quot;1.1.0&quot; --deployment-name Production</span><br></pre></td></tr></table></figure>

<h3 id="5-è¿è¡Œä½ çš„app"><a href="#5-è¿è¡Œä½ çš„app" class="headerlink" title="5. è¿è¡Œä½ çš„app"></a>5. è¿è¡Œä½ çš„app</h3><p>ä¸€æ—¦è¿™äº›æ­¥éª¤å®Œæˆï¼Œæ‰€æœ‰è¿è¡Œ<code>app</code>çš„ç”¨æˆ·éƒ½ä¼šæ”¶åˆ°æ›´æ–°ã€‚</p>
]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native, react-native-code-push, çƒ­æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>RNé›†æˆGoogle Maps</title>
    <url>/2020/03/14/RN%E9%9B%86%E6%88%90Google%20Maps/</url>
    <content><![CDATA[<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">React Native Environment Info:</span><br><span class="line">  System:</span><br><span class="line">    OS: macOS 10.14.5</span><br><span class="line">    CPU: (4) x64 Intel(R) Core(TM) i3-8100B CPU @ 3.60GHz</span><br><span class="line">    Memory: 53.88 MB / 8.00 GB</span><br><span class="line">    Shell: 5.3 - /bin/zsh</span><br><span class="line">  Binaries:</span><br><span class="line">    Node: 12.10.0 - /usr/local/bin/node</span><br><span class="line">    Yarn: 1.17.3 - ~/.yarn/bin/yarn</span><br><span class="line">    npm: 6.11.3 - /usr/local/bin/npm</span><br><span class="line">    Watchman: 4.9.0 - /usr/local/bin/watchman</span><br><span class="line">  SDKs:</span><br><span class="line">    iOS SDK:</span><br><span class="line">      Platforms: iOS 12.2, macOS 10.14, tvOS 12.2, watchOS 5.2</span><br><span class="line">    Android SDK:</span><br><span class="line">      API Levels: 23, 26, 27, 28</span><br><span class="line">      Build Tools: 23.0.1, 26.0.1, 27.0.3, 28.0.2, 28.0.3</span><br><span class="line">      System Images: android-23 | Intel x86 Atom_64, android-23 | Google APIs Intel x86 Atom, android-23 | Google APIs Intel x86 Atom_64, android-26 | Google APIs Intel x86 Atom, android-27 | Intel x86 Atom_64, android-27 | Google APIs Intel x86 Atom, android-27 | Google Play Intel x86 Atom, android-28 | Google Play Intel x86 Atom</span><br><span class="line">  IDEs:</span><br><span class="line">    Android Studio: 3.5 AI-191.8026.42.35.5977832</span><br><span class="line">    Xcode: 10.2.1/10E1001 - /usr/bin/xcodebuild</span><br><span class="line">  npmPackages:</span><br><span class="line">    react: 16.8.3 =&gt; 16.8.3</span><br><span class="line">    react-native: 0.59.9 =&gt; 0.59.9</span><br><span class="line">  npmGlobalPackages:</span><br><span class="line">    react-native-cli: 2.0.1</span><br><span class="line">    react-native-demo-for-npm: 1.0.16</span><br><span class="line">    react-native-update-cli: 0.1.0</span><br></pre></td></tr></table></figure>

<h2 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h2><ul>
<li><ol>
<li>å®‰è£…</li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install react-native-maps@0.25.0</span><br></pre></td></tr></table></figure>

<ul>
<li><ol start="2">
<li>åœ¨android/settings.gradleä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rootProject.name = &apos;AndroidGoogleMaps&apos; </span><br><span class="line">include &apos;:react-native-maps&apos; </span><br><span class="line">project(&apos;:react-native-maps&apos;).projectDir = new File(rootProject.projectDir, &apos;../node_modules/react-native-maps/lib/android&apos;)</span><br><span class="line">include &apos;:app&apos;</span><br></pre></td></tr></table></figure>

<ul>
<li><ol start="3">
<li>åœ¨<code>android/app/build.gradle</code>æ·»åŠ ï¼š</li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])</span><br><span class="line">    implementation &quot;com.android.support:appcompat-v7:$&#123;rootProject.ext.supportLibVersion&#125;&quot;</span><br><span class="line">    implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules</span><br><span class="line">    implementation project(&apos;:react-native-maps&apos;) // æ·»åŠ è¿™è¡Œ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><ol start="4">
<li>åœ¨<code>android/build.gradle</code>æ·»åŠ ï¼š</li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ext &#123;</span><br><span class="line">       buildToolsVersion = &quot;28.0.3&quot;</span><br><span class="line">       minSdkVersion = 16</span><br><span class="line">       compileSdkVersion = 28</span><br><span class="line">       targetSdkVersion = 28</span><br><span class="line">       supportLibVersion = &quot;28.0.0&quot;</span><br><span class="line">       playServicesVersion = &quot;16.0.0&quot;  // æ·»åŠ è¿™è¡Œ</span><br><span class="line">       androidMapsUtilsVersion=&quot;0.5+&quot;  // æ·»åŠ è¿™è¡Œ</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><ol start="5">
<li>åœ¨<code>android/app/src/main/AndroidManifest.xml</code>æ·»åŠ </li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;application</span><br><span class="line">      .......</span><br><span class="line">	&lt;meta-data android:name=&quot;com.google.android.geo.API_KEY&quot; android:value=&quot;AIzaSyAZ7eaTLpbEmz7xWGst_-pSXYcv9SU6D_u&quot;/&gt;</span><br><span class="line">	&lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;</span><br><span class="line">&lt;/application&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ·»åŠ  <code>&lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;</code>çš„åŸå› æ˜¯ï¼š Androidç¿»å¢™åï¼Œä¼šå¥”æºƒï¼š<a href="https://github.com/react-native-community/react-native-maps/issues/2991#issuecomment-516765727" target="_blank" rel="noopener">https://github.com/react-native-community/react-native-maps/issues/2991#issuecomment-516765727</a>ã€‚</p>
</blockquote>
<ul>
<li><ol start="6">
<li>åœ¨<code>MainApplication.java</code>ä¸­æ·»åŠ </li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import com.airbnb.android.react.maps.MapsPackage;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected List&lt;ReactPackage&gt; getPackages() &#123;</span><br><span class="line">      return Arrays.&lt;ReactPackage&gt;asList(</span><br><span class="line">          new MainReactPackage(),</span><br><span class="line">          new MapsPackage()  // æ·»åŠ è¿™è¡Œ</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><ol start="7">
<li>åœ¨App.jsæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import MapView from &apos;react-native-maps&apos;;</span><br><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">  StyleSheet,</span><br><span class="line">  Dimensions,</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">  container: &#123;</span><br><span class="line">    position: &apos;absolute&apos;,</span><br><span class="line">    top: 0,</span><br><span class="line">    left: 0,</span><br><span class="line">    right: 0,</span><br><span class="line">    bottom: 0,</span><br><span class="line">    justifyContent: &apos;flex-end&apos;,</span><br><span class="line">    alignItems: &apos;center&apos;,</span><br><span class="line">  &#125;,</span><br><span class="line">  map: &#123;</span><br><span class="line">    // ...StyleSheet.absoluteFillObject</span><br><span class="line">    position: &apos;absolute&apos;,</span><br><span class="line">    top: 0,</span><br><span class="line">    left: 0,</span><br><span class="line">    right: 0,</span><br><span class="line">    bottom: 0,</span><br><span class="line">    //   width: Dimensions.get(&apos;window&apos;).width,</span><br><span class="line">    //   height: 500,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * è¿™ä¸ªå·¥ç¨‹ï¼Œåªé›†æˆã€æµ‹è¯•è¿‡Androidï¼Œ å¹¶ä¸”å¿…é¡»ç¿»å¢™ï¼Œä¸€äº›é…ç½®éœ€è¦å‚è€ƒè¿™é‡Œé¢çš„ã€‚</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">class App extends Component &#123;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;MapView</span><br><span class="line">            style=&#123;styles.map&#125;</span><br><span class="line">            initialRegion=&#123;&#123;</span><br><span class="line">              latitude: 30.2,</span><br><span class="line">              longitude: 120.2,</span><br><span class="line">              latitudeDelta: 0.0922,</span><br><span class="line">              longitudeDelta: 0.0421,</span><br><span class="line">            &#125;&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>

<h2 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h2><ul>
<li><ol>
<li>é“¾æ¥</li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">react-native link react-native-maps</span><br></pre></td></tr></table></figure>

<ul>
<li><ol start="2">
<li>åœ¨<code>AppDelegate.m</code>ä¸­æ·»åŠ </li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &lt;GoogleMaps/GoogleMaps.h&gt;</span><br><span class="line">[GMSServices provideAPIKey:@&quot;AIzaSyAZ7eaTLpbEmz7xWGst_-pSXYcv9SU6D_u&quot;];</span><br></pre></td></tr></table></figure>

<ul>
<li><ol start="3">
<li>æ‰‹åŠ¨é›†æˆ<code>Google Maps SDK</code></li>
</ol>
</li>
</ul>
<p><a href="https://developers.google.com/maps/documentation/ios-sdk/start" target="_blank" rel="noopener">Google Maps Platform iOS SDK Manually</a></p>
<p>1.ä¸‹è½½SDKï¼ˆè¿™é‡Œä¸‹è½½çš„æ˜¯GoogleMaps-3.7.0ï¼‰</p>
<p>2.è§£åŒ…SDK</p>
<p>3.æ‰“å¼€xcode</p>
<p>4.å°†ä¸‹é¢è§£å‹çš„æ–‡ä»¶æ‹–åˆ°å·¥ç¨‹é‡Œé¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GoogleMaps-x.x.x/Base/Frameworks/GoogleMapsBase.framework</span><br><span class="line">GoogleMaps-x.x.x/Maps/Frameworks/GoogleMaps.framework</span><br><span class="line">GoogleMaps-x.x.x/Maps/Frameworks/GoogleMapsCore.framework</span><br></pre></td></tr></table></figure>

<p>5.å³é”®<code>GoogleMaps.framework</code> -&gt; <code>Show In Finder</code></p>
<p>6.å°†<code>Resources/GoogleMaps.bundle</code>æ‹–å…¥å·¥ç¨‹ï¼Œå¹¶ä¸”å‹¾é€‰<code>Create Folder References</code></p>
<p>7.åœ¨<code>Build Phases/Link Binary With Libraries</code>ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GoogleMapsBase.framework</span><br><span class="line">GoogleMaps.framework</span><br><span class="line">GoogleMapsCore.framework</span><br><span class="line">Accelerate.framework</span><br><span class="line">CoreData.framework</span><br><span class="line">CoreGraphics.framework</span><br><span class="line">CoreImage.framework</span><br><span class="line">CoreLocation.framework</span><br><span class="line">CoreTelephony.framework</span><br><span class="line">CoreText.framework</span><br><span class="line">GLKit.framework</span><br><span class="line">ImageIO.framework</span><br><span class="line">libc++.tbd</span><br><span class="line">libz.tbd</span><br><span class="line">OpenGLES.framework</span><br><span class="line">QuartzCore.framework</span><br><span class="line">SystemConfiguration.framework</span><br><span class="line">UIKit.framework</span><br></pre></td></tr></table></figure>

<p>8.åœ¨<code>Info.plist</code>ä¸­æ·»åŠ éšç§å®šä½æè¿°</p>
<p>9.åœ¨<code>package.json</code>ä¸­æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;node node_modules/react-native/local-cli/cli.js start&quot;,</span><br><span class="line">    &quot;postinstall&quot;: &quot;./node_modules/react-native-maps/enable-google-maps &apos;./ios/**&apos;&quot;,</span><br><span class="line">    &quot;test&quot;: &quot;jest&quot;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>


<p>10.æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>


<p>ç»è¿‡ä»¥ä¸Šæ­¥éª¤ï¼ŒåŸºæœ¬å°±èƒ½åœ¨<code>Android</code>å’Œ<code>iOS</code>ç«¯æ˜¾ç¤ºè°·æ­Œåœ°å›¾äº†ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œéœ€è¦ç”³è¯·ç›¸åº”çš„<code>key</code>ï¼Œéœ€è¦åˆ°è°·æ­Œäº‘å¹³å°ç”³è¯·ï¼Œå¹¶ä¸”ç°åœ¨è°·æ­Œè¦æ±‚ä¿¡ç”¨å¡éªŒè¯è´¦å·æ‰å¯ä»¥ä½¿ç”¨ï¼Œéƒ¨åˆ†<code>API</code>éœ€è¦æ”¶è´¹ï¼Œä½†æ˜¯å¼€å§‹ä¼šæœ‰ä¸€å®šçš„å…è´¹é¢åº¦ï¼Œæ€»çš„æ¥è¯´å¾ˆå¤š<code>API</code>æ¯”è¾ƒè´µã€‚</p>
]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native, Google Maps, è°·æ­Œåœ°å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€iOSã€‘çœŸæœºè°ƒè¯•,The executable was signed with invalid entitlements</title>
    <url>/2020/02/27/%5BiOS%5D%E7%9C%9F%E6%9C%BA%E8%B0%83%E8%AF%95-The%20executable%20was%20signed%20with%20invalid%20entitlements./</url>
    <content><![CDATA[<h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>æ˜¨å¤©æ–°åˆ›å»ºäº†ä¸€ä¸ª<code>Demo</code>å·¥ç¨‹ï¼Œå‡†å¤‡æµ‹è¯•<code>iOS</code>çš„<code>Access WiFi Information</code>æƒé™åŠŸèƒ½ï¼Œä½¿ç”¨<code>iPhone X</code>çœŸæœºè°ƒè¯•çš„æ—¶å€™ï¼Œå‘ç°æ ¹æœ¬æ²¡æ³•è¿è¡Œï¼Œäºæ˜¯å°†<code>Access WiFi Information</code>æƒé™å…³æ‰ï¼Œå¹¶ä¸”åˆ é™¤äº†ä¹‹å‰æ‰“å¼€<code>Access WiFi Information</code>æƒé™è€Œè‡ªåŠ¨ç”Ÿæˆçš„<code>xxx.entitlements</code>æƒé™è¯ä¹¦æ–‡ä»¶ï¼Œå‘ç°è¿˜æ˜¯ä¸€æ ·çš„æŠ¥é”™ã€‚åœ¨ä¸€ä¸ªæ–°å·¥ç¨‹ä¸Šé¢çœŸæœºè°ƒè¯•ç«Ÿç„¶æŠ¥é”™ï¼Ÿåˆ°åº•æ˜¯å“ªé‡Œå‡ºäº†é—®é¢˜å‘¢ï¼Ÿ</p>
<p>ç»è¿‡ä¸€å¤©çš„è°ƒè¯•ï¼Œå°è¯•äº†å„ç§èƒ½æƒ³åˆ°çš„åŠæ³•ï¼Œä»¥åŠåœ¨ç½‘ä¸Šç™¾åº¦äº†ä¸€äº›èµ„æ–™ï¼Œä»ç„¶æ²¡æœ‰è§£å†³â€¦..</p>
<p>é”™è¯¯ä¿¡æ¯å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">The executable was signed with invalid entitlements.</span><br><span class="line"></span><br><span class="line">The entitlements specified in your applicationâ€™s Code Signing Entitlements file are invalid, </span><br><span class="line">not permitted, or do not match those specified in your provisioning profile. (0xE8008016).</span><br></pre></td></tr></table></figure>

<p>é”™è¯¯ä¿¡æ¯æˆªå›¾</p>
<p><img src="https://i.loli.net/2020/02/27/qfeY1iA3QUBDgZr.png" alt="error.png"></p>
<p>ä»Šå¤©è°ƒæ•´å¿ƒæ€ï¼Œä½¿ç”¨<code>Google</code>æŸ¥æ‰¾ï¼Œç»ˆäºåœ¨<strong>stack overflow</strong>æ‰¾åˆ°äº†é—®é¢˜æ‰€åœ¨</p>
<p>ç­”æ¡ˆé“¾æ¥ï¼š<a href="https://stackoverflow.com/a/54902044" target="_blank" rel="noopener">Entitlements file do not match those specified in your provisioning profile.(0xE8008016)</a></p>
<p>ç­”æ¡ˆæˆªå›¾</p>
<p><img src="https://i.loli.net/2020/02/27/rW9oAV4Gd6KOmpY.png" alt="answer.png"></p>
<p>åŸæ¥æ˜¯é¡¹ç›®ï¼ˆè¿™é‡Œå°±ä»¥æˆ‘çš„<code>demo</code>å·¥ç¨‹åä¸ºä¾‹ï¼‰çš„<strong>wifidemo</strong>ä¸<strong>wifidemoTests</strong>æ‰€é€‰æ‹©çš„å¼€å‘è€…å›¢é˜Ÿåä¸ä¸€æ ·æ‰€è‡´ï¼Œçœ‹äº†ä¸€ä¸‹è‡ªå·±çš„å·¥ç¨‹ï¼Œçš„ç¡®ä¸åŒï¼Œäºæ˜¯æŒ‰ç…§è¿™ä¸ªå›ç­”å°†å…¶æ”¹ä¸ºä¸€ç›´å°±å¥½äº†ã€‚</p>
<p><strong>å›¾ä¸€</strong></p>
<p><img src="https://i.loli.net/2020/02/27/MO4PSyeAnjXCcup.png" alt="wifidemo.png"></p>
<p><strong>å›¾äºŒ</strong><br><img src="https://i.loli.net/2020/02/27/en9GZPgtfXQkrOM.png" alt="wifidemoTests.png"></p>
<p>æ³¨ï¼š<em>å›¾ä¸€</em>å’Œ<em>å›¾äºŒ</em>çº¢æ¡†ä¸­çš„<code>Team</code>è¯·ä¿æŒä¸€è‡´ï¼Œå³å¯è§£å†³ä»¥ä¸Šå‡ºç°çš„é—®é¢˜ã€‚</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>çœŸæœºè°ƒè¯•æŠ¥é”™</tag>
        <tag>entitlements</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ä½¿ç”¨GitHub Packagesåˆ›å»ºnpmç§æœ‰åº“</title>
    <url>/2019/12/31/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8GitHub%20Packages%E5%88%9B%E5%BB%BAnpm%E7%A7%81%E6%9C%89%E5%BA%93/</url>
    <content><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p><code>GitHub Packages</code>æ˜¯<a href="https://github.com/" target="_blank" rel="noopener">GitHub</a>æä¾›çš„ç±»ä¼¼<code>npm</code>åŒ…ç®¡ç†å·¥å…·æˆ–å¹³å°ï¼Œé€šè¿‡<code>GitHub Packages</code>ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨<code>npm</code>ç›¸å…³çš„å‘½ä»¤ã€åŠŸèƒ½ï¼Œå¹¶ä¸”ä¸ç”¨å°†è‡ªå·±çš„<code>npm</code>åŒ…å‘å¸ƒåˆ°<code>npm</code>ä»“åº“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„<code>npm</code>åŒ…å°†æ‰˜ç®¡åœ¨<code>github</code>ä¸Šï¼Œå¹¶ä¸”å¯ä»¥å’Œæˆ‘ä»¬ç›¸åº”çš„ä»“åº“ä¿æŒåŒæ­¥ã€‚ä¹‹å‰ï¼Œæˆ‘ä»¬ä»‹ç»äº†<a href="https://www.clcoder.com/2019/12/18/%E5%A6%82%E4%BD%95%E5%8F%91%E5%B8%83%E4%BB%A3%E7%A0%81%E5%88%B0npm%E5%AE%98%E6%96%B9%E4%BB%93%E5%BA%93/" target="_blank" rel="noopener">å¦‚ä½•å‘å¸ƒä»£ç åˆ°npmå®˜æ–¹ä»“åº“</a>ã€<a href="https://www.clcoder.com/2019/12/20/verdaccio%20+%20ngrok%E5%8F%91%E5%B8%83npm%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/#more" target="_blank" rel="noopener">verdaccio+ngrokå‘å¸ƒnpmç§æœ‰ä»“åº“</a>ä»¥åŠ<a href="https://www.clcoder.com/2019/12/23/%E5%9F%BA%E4%BA%8Egithub%E5%AE%9E%E7%8E%B0npm%E7%A7%81%E6%9C%89%E5%BA%93%E7%9A%84%E6%90%AD%E5%BB%BA/#more" target="_blank" rel="noopener">åŸºäºgithubå®ç°npmç§æœ‰åº“çš„æ­å»º</a>ï¼Œé€šè¿‡è¿™ç¯‡æ–‡ç« ï¼š<a href="https://www.clcoder.com/2019/12/23/%E5%9F%BA%E4%BA%8Egithub%E5%AE%9E%E7%8E%B0npm%E7%A7%81%E6%9C%89%E5%BA%93%E7%9A%84%E6%90%AD%E5%BB%BA/#more" target="_blank" rel="noopener">åŸºäºgithubå®ç°npmç§æœ‰åº“çš„æ­å»º</a>å¯ä»¥çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±çš„<code>npmç§æœ‰åº“</code>ï¼Œä½†æ˜¯æˆ‘ä»¬åªèƒ½é€šè¿‡é“¾æ¥çš„æ–¹å¼å®‰è£…<code>npmç§æœ‰åŒ…</code>ï¼Œä¸èƒ½ä½¿ç”¨<code>npm</code>çš„ç›¸å…³å‘½ä»¤ï¼Œæ¯”å¦‚<code>npm version patch</code>ç­‰ç­‰ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬è¿˜ç»§ç»­è®²<code>npmç§æœ‰åº“</code>ï¼Œè¿˜æ˜¯åŸºäº<code>github</code>ï¼Œä¸<a href="https://www.clcoder.com/2019/12/23/%E5%9F%BA%E4%BA%8Egithub%E5%AE%9E%E7%8E%B0npm%E7%A7%81%E6%9C%89%E5%BA%93%E7%9A%84%E6%90%AD%E5%BB%BA/#more" target="_blank" rel="noopener">åŸºäºgithubå®ç°npmç§æœ‰åº“çš„æ­å»º</a>ä¸åŒçš„æ˜¯ï¼Œä»Šå¤©æˆ‘ä»¬è¦è®²çš„<code>npmç§æœ‰åº“</code>æ˜¯<a href="https://github.com/" target="_blank" rel="noopener">GitHub</a>å®˜æ–¹äº<code>2019å¹´5æœˆ</code>æ¨å‡ºçš„<code>GitHub Packages</code><strong>â€“</strong><code>ç±»ä¼¼npmåŒ…ç®¡ç†å™¨</code>ï¼Œé€šè¿‡<code>GitHub Packages</code>ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥åˆ›å»º<code>npmç§æœ‰åŒ…</code>ï¼Œä½¿ç”¨ç§æœ‰ä»“åº“ï¼Œå¹¶ä¸”è¿˜å¯ä»¥ä½¿ç”¨<code>npm</code>çš„ç›¸å…³å‘½ä»¤ï¼Œä¹Ÿèƒ½é€šè¿‡ä»¥åŒ…åçš„å½¢å¼æ¥å®‰è£…ä¾èµ–ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†å¤šä¸ªåŒ…ï¼ˆ<code>packages</code>ï¼‰æ”¾åœ¨åŒä¸€ä¸ªç§æœ‰ä»“åº“å½“ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥ç»Ÿä¸€ç®¡ç†ï¼Œè€Œä¸å¿…ä¸€ä¸ª<code>npmç§æœ‰åŒ…</code>å¯¹åº”ä¸€ä¸ª<code>githubä»“åº“</code>ï¼Œç®€ç›´å¤ªå®Œç¾äº†ã€‚</p>
<p><code>GitHub Packages</code>çœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­</p>
<p><img src="https://i.loli.net/2019/12/26/jED1BaIKRfrx2sW.png" alt="github packages.png"></p>
<h2 id="åˆ›å»ºç§æœ‰ä»“åº“"><a href="#åˆ›å»ºç§æœ‰ä»“åº“" class="headerlink" title="åˆ›å»ºç§æœ‰ä»“åº“"></a>åˆ›å»ºç§æœ‰ä»“åº“</h2><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><p><img src="https://i.loli.net/2019/12/26/3QG9BJF2VOEoLTn.png" alt="create repo.png"></p>
<h3 id="ç§æœ‰ä»“åº“çœ‹èµ·æ¥æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­"><a href="#ç§æœ‰ä»“åº“çœ‹èµ·æ¥æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­" class="headerlink" title="ç§æœ‰ä»“åº“çœ‹èµ·æ¥æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­"></a>ç§æœ‰ä»“åº“çœ‹èµ·æ¥æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­</h3><p><img src="https://i.loli.net/2019/12/26/E2f1OPhBr76Qvpj.png" alt="repo like.png"></p>
<blockquote>
<p>å¦‚æœä½ è¿˜æ˜¯ä¸æ¸…æ¥šæ€ä¹ˆåˆ›å»ºç§æœ‰ä»“åº“ï¼Œé‚£å°±åªèƒ½è‡ªå·±<code>Google</code>æˆ–è€…<code>ç™¾åº¦</code>äº†ã€‚</p>
</blockquote>
<h3 id="å…‹éš†ç§æœ‰ä»“åº“åˆ°æœ¬åœ°"><a href="#å…‹éš†ç§æœ‰ä»“åº“åˆ°æœ¬åœ°" class="headerlink" title="å…‹éš†ç§æœ‰ä»“åº“åˆ°æœ¬åœ°"></a>å…‹éš†ç§æœ‰ä»“åº“åˆ°æœ¬åœ°</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone git@github.com:lchenfox/npm-repo.git</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºPersonal-access-tokens"><a href="#åˆ›å»ºPersonal-access-tokens" class="headerlink" title="åˆ›å»ºPersonal access tokens"></a>åˆ›å»ºPersonal access tokens</h2><h3 id="è¿›å…¥githubè®¾ç½®ï¼Œç‚¹å‡»Developer-settings"><a href="#è¿›å…¥githubè®¾ç½®ï¼Œç‚¹å‡»Developer-settings" class="headerlink" title="è¿›å…¥githubè®¾ç½®ï¼Œç‚¹å‡»Developer settings"></a>è¿›å…¥githubè®¾ç½®ï¼Œç‚¹å‡»Developer settings</h3><p><img src="https://i.loli.net/2019/12/26/cpW3nwZOIirz6G4.png" alt="dev setting.png"></p>
<h3 id="ä¾æ¬¡ç‚¹å‡»1ã€2"><a href="#ä¾æ¬¡ç‚¹å‡»1ã€2" class="headerlink" title="ä¾æ¬¡ç‚¹å‡»1ã€2"></a>ä¾æ¬¡ç‚¹å‡»1ã€2</h3><p><img src="https://i.loli.net/2019/12/26/8hoPaexlVy9f3US.png" alt="tokens.png"></p>
<h3 id="å¦‚ä¸‹å›¾ï¼Œç„¶åå¾€ä¸‹æ»‘ï¼Œç‚¹å‡»åº•éƒ¨æŒ‰é’®-Generate-token"><a href="#å¦‚ä¸‹å›¾ï¼Œç„¶åå¾€ä¸‹æ»‘ï¼Œç‚¹å‡»åº•éƒ¨æŒ‰é’®-Generate-token" class="headerlink" title="å¦‚ä¸‹å›¾ï¼Œç„¶åå¾€ä¸‹æ»‘ï¼Œç‚¹å‡»åº•éƒ¨æŒ‰é’® Generate token"></a>å¦‚ä¸‹å›¾ï¼Œç„¶åå¾€ä¸‹æ»‘ï¼Œç‚¹å‡»åº•éƒ¨æŒ‰é’® <code>Generate token</code></h3><p><img src="https://i.loli.net/2019/12/26/aUNoGV7lFWCS3mn.png" alt="generate token.png"></p>
<h3 id="ä¿å­˜token"><a href="#ä¿å­˜token" class="headerlink" title="ä¿å­˜token"></a>ä¿å­˜token</h3><p><img src="https://i.loli.net/2019/12/26/IgfBTxej6n4C7Sl.png" alt="save token.png"></p>
<blockquote>
<p>æ³¨æ„ï¼šå›¾ä¸­çº¢æ¡†çš„<code>token</code>å¿…é¡»ä¿å­˜ï¼Œå› ä¸º<strong>åªä¼šåœ¨ç”Ÿæˆçš„æ—¶å€™æ˜¾ç¤ºä¸€æ¬¡</strong>ï¼Œåé¢ä½ æ˜¯çœ‹ä¸åˆ°çš„ï¼Œè€Œè¿™ä¸ª<code>token</code>ä¸€å®šä¼šç”¨åˆ°ï¼ï¼ï¼</p>
</blockquote>
<h2 id="åˆ›å»ºnpmåŒ…"><a href="#åˆ›å»ºnpmåŒ…" class="headerlink" title="åˆ›å»ºnpmåŒ…"></a>åˆ›å»ºnpmåŒ…</h2><h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><p><img src="https://i.loli.net/2019/12/26/TlPvWEz5cH2ZDhS.png" alt="init.png"></p>
<p>å‘½ä»¤<code>npm init --scope=lchenfox</code>ä¸­çš„<code>lchenfox</code>å¿…é¡»æ˜¯ä½ çš„<code>github</code>ç”¨æˆ·åï¼Œå…¶ä»–éšä¾¿å¡«å†™ä¸€äº›<code>description</code>å’Œ<code>author</code>ï¼Œç„¶åä¸€è·¯å›è½¦å°±å¥½ã€‚</p>
<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>æœ‰<code>2</code>ä¸­é…ç½®æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯åœ¨<code>package.json</code>æ‰€åœ¨ç›®å½•åˆ›å»ºä¸€ä¸ª<code>.npmrc</code>æ–‡ä»¶ï¼Œå¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥ä¿®æ”¹<code>package.json</code>æ–‡ä»¶å¹¶å¢åŠ <code>publishConfig</code>é¡¹ï¼Œä»»é€‰å…¶ä¸€å³å¯ã€‚</p>
<ul>
<li>æ–¹å¼1ï¼Œ åˆ›å»º<code>.npmrc</code>ï¼ˆæ¨èï¼‰</li>
</ul>
<p>åˆ›å»º<code>.npmrc</code>æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">registry=https://npm.pkg.github.com/lchenfox</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å†æ¬¡æé†’ä¸€æ¬¡ï¼Œ<code>lchenfox</code>æ˜¯ä½ çš„<code>github</code>ç”¨æˆ·åã€‚</p>
</blockquote>
<ul>
<li>æ–¹å¼2ï¼Œ æ·»åŠ <code>publishConfig</code></li>
</ul>
<p>åœ¨<code>package.json</code>ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;publishConfig&quot;: &#123;</span><br><span class="line">    &quot;registry&quot;:&quot;https://npm.pkg.github.com/&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å<code>package.json</code>çœ‹èµ·æ¥å†…å®¹ç±»ä¼¼ä¸‹é¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;@lchenfox/npm-repo&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;A npm demo&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;repository&quot;: &#123;</span><br><span class="line">    &quot;type&quot;: &quot;git&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;git+https://github.com/lchenfox/npm-repo.git&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;publishConfig&quot;: &#123;</span><br><span class="line">    &quot;registry&quot;:&quot;https://npm.pkg.github.com/&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;author&quot;: &quot;langke&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class="line">  &quot;bugs&quot;: &#123;</span><br><span class="line">    &quot;url&quot;: &quot;https://github.com/lchenfox/npm-repo/issues&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;homepage&quot;: &quot;https://github.com/lchenfox/npm-repo#readme&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h3><ul>
<li>æ–¹å¼1ï¼ˆæ¨èï¼‰</li>
</ul>
<p>åˆšæ‰å·²ç»åˆ›å»ºäº†<code>.npmrc</code>æ–‡ä»¶ï¼Œç°åœ¨ä¸ºäº†æˆæƒï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//npm.pkg.github.com/:_authToken=0fc31c688a4a75f9509444b4648ac8e5fbeb20c4</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ä»¥åï¼Œ<code>.npmrc</code>å†…å®¹åº”è¯¥åŒ…å«ä¸¤è¡Œï¼Œå¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">registry=https://npm.pkg.github.com/lchenfox</span><br><span class="line">//npm.pkg.github.com/:_authToken=0fc31c688a4a75f9509444b4648ac8e5fbeb20c4</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼š<code>0fc31c688a4a75f9509444b4648ac8e5fbeb20c4</code>æ˜¯<code>token</code>ï¼Œå¦å¤–å‰ç¼€<code>//</code>ä¸€å®šä¸èƒ½å°‘ï¼Œå¦åˆ™æˆæƒä¸€å®šå¤±è´¥ã€‚äº‹å®ä¸Šï¼Œæ— è®ºæ˜¯å‘å¸ƒ<code>npmåŒ…</code>è¿˜æ˜¯åœ¨é¡¹ç›®é‡Œé¢å®‰è£…<code>npmåŒ…</code>ï¼Œå½“å‰ç›®å½•ä¸‹çš„<code>.npmrc</code>é‡Œé¢çš„<code>//npm.pkg.github.com/:_authToken=0fc31c688a4a75f9509444b4648ac8e5fbeb20c4</code>åªé’ˆå¯¹å½“å‰<code>npm</code>åŒ…æˆ–å½“å‰é¡¹ç›®æœ‰æ•ˆï¼Œä½ åœ¨å¦ä¸€ä¸ª<code>npm</code>åŒ…ç›®å½•ä¸‹æˆ–å¦ä¸€ä¸ªé¡¹ç›®ä¸‹æ˜¯ä¸ç”Ÿæ•ˆçš„ã€‚æ¯”å¦‚ï¼Œå¦‚æœåœ¨<code>first-package</code>ç›®å½•ä¸‹çš„<code>.npmrc</code>ä¸­æ·»åŠ <code>//npm.pkg.github.com/:_authToken=0fc31c688a4a75f9509444b4648ac8e5fbeb20c4</code>çš„è¯ï¼Œä½ åœ¨<code>second-package</code>é‡Œé¢ä¹Ÿå¿…é¡»å•ç‹¬æ·»åŠ æ¥æˆæƒç‰¹å®šçš„åŒ…ã€‚é—®é¢˜æ¥äº†ï¼Œè¿™æ ·åšå²‚ä¸æ˜¯å¾ˆéº»çƒ¦ï¼Ÿå¦‚æœæˆ‘æƒ³è¦æˆ‘çš„æ‰€æœ‰é¡¹ç›®éƒ½ç”Ÿæ•ˆçš„æƒ…å†µä¸‹æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬è¿˜æœ‰å¦ä¸€ä¸ªåŠæ³•ï¼Œå°±æ˜¯å°†<code>//npm.pkg.github.com/:_authToken=0fc31c688a4a75f9509444b4648ac8e5fbeb20c4</code>æ·»åŠ åˆ°<code>~/.npmrc</code>ç”¨æˆ·ç›®å½•é‡Œé¢ï¼Œè¿™æ ·çš„è¯ï¼Œå®ƒå°±å±äºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œåœ¨è¿™å°ç”µè„‘ä¸Šæ— è®ºæ˜¯å“ªä¸€ä¸ªé¡¹ç›®æˆ–<code>npm</code>åŒ…ï¼Œéƒ½å¯ä»¥ä½¿ç”¨äº†ã€‚</p>
</blockquote>
<ul>
<li>æ–¹å¼2</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm login --registry=https://npm.pkg.github.com</span><br><span class="line">&gt; Username: USERNAME</span><br><span class="line">&gt; Password: TOKEN</span><br><span class="line">&gt; Email: PUBLIC-EMAIL-ADDRESS</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>USERNAME</code>æ˜¯ä½ çš„<code>github</code>ç”¨æˆ·åï¼Œ<code>Password</code>å°±æ˜¯åˆšæ‰çš„<code>token</code>ï¼Œé‚®ç®±è™½ç„¶å¯ä»¥éšä¾¿å¡«å†™ï¼Œä¸ºäº†è§„èŒƒï¼Œæœ€å¥½å¡«å†™ä½ çš„<code>github</code>é‚®ç®±ã€‚</p>
</blockquote>
<p>ç™»å½•æˆåŠŸç±»ä¼¼ä»¥ä¸‹è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  npm-repo git:(master) âœ— npm login --registry=https://npm.pkg.github.com</span><br><span class="line">Username: lchenfox</span><br><span class="line">Password:</span><br><span class="line">Email: (this IS public) lchenfox@foxmail.com</span><br><span class="line">Logged in as lchenfox on https://npm.pkg.github.com/.</span><br></pre></td></tr></table></figure>

<h3 id="å‘å¸ƒ"><a href="#å‘å¸ƒ" class="headerlink" title="å‘å¸ƒ"></a>å‘å¸ƒ</h3><p>æ‰§è¡Œ<code>npm publish</code>å‘½ä»¤å‘å¸ƒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  npm-repo git:(master) âœ— npm publish</span><br><span class="line">npm notice</span><br><span class="line">npm notice ğŸ“¦  @lchenfox/npm-repo@1.0.0</span><br><span class="line">npm notice === Tarball Contents ===</span><br><span class="line">npm notice 536B package.json</span><br><span class="line">npm notice 65B  README.md</span><br><span class="line">npm notice === Tarball Details ===</span><br><span class="line">npm notice name:          @lchenfox/npm-repo</span><br><span class="line">npm notice version:       1.0.0</span><br><span class="line">npm notice package size:  437 B</span><br><span class="line">npm notice unpacked size: 601 B</span><br><span class="line">npm notice shasum:        ac8fe26f6cdd65d9bf8f992d56e5f30cc09697ec</span><br><span class="line">npm notice integrity:     sha512-qMlraog/O+uv1[...]GC4/dRBwXgOnA==</span><br><span class="line">npm notice total files:   2</span><br><span class="line">npm notice</span><br><span class="line">+ @lchenfox/npm-repo@1.0.0</span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œ<code>@lchenfox/npm-repo@1.0.0</code>å‘å¸ƒæˆåŠŸï¼ŒåŒ…åæ˜¯<code>@lchenfox/npm-repo</code>ï¼Œç‰ˆæœ¬å·æ˜¯<code>1.0.0</code>ã€‚</p>
<blockquote>
<p>æç¤ºï¼šå½“ä½¿ç”¨<code>npm publish</code>å‘å¸ƒç»“æŸåï¼Œä¸€èˆ¬ä¹Ÿä¼šå°†ä»£ç ä¿®æ”¹åŒæ­¥æä¾›åˆ°<code>github</code>ä»“åº“ï¼Œè¿™æ ·çš„è¯ï¼Œ<code>npm</code>åŒ…å’Œ<code>github</code>ä»“åº“çš„å†…å®¹å°±ä¸€ç›´ä¼šä¿æŒä¸€è‡´ã€‚å½“ç„¶ï¼Œå¦‚æœä½ è¯´æˆ‘åªéœ€è¦<code>npm</code>åŒ…ï¼Œåˆä¸éœ€è¦ç®¡<code>github</code>ä»“åº“æ˜¯ä»€ä¹ˆï¼Œé‚£ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ï¼Œå¦‚æœä½ ä¸æäº¤åˆ°<code>github</code>ä»“åº“ï¼Œä½¿å…¶å’Œ<code>npm</code>åŒ…ä¿æŒä¸€è‡´çš„è¯ï¼Œé‚£ä¹ˆå½“ä½ æ¢ä¸€å°ç”µè„‘è¦ä¿®æ”¹å¹¶ä¸”å‘å¸ƒè¿™ä¸ª<code>npm</code>åŒ…æ—¶ï¼Œå°±æœ‰å¯èƒ½å‡ºç°ç‰ˆæœ¬å’Œå†…å®¹åœ¨ä¸¤å°ç”µè„‘ä¸Šéƒ½ä¸ä¸€æ ·çš„æƒ…å†µã€‚æ¯”å¦‚ï¼Œä½ åœ¨å½“å‰ç”µè„‘å‘å¸ƒäº†ä¸€ä¸ª<code>v1.1.0</code>ç‰ˆæœ¬çš„<code>npm</code>åŒ…ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œç‰ˆæœ¬å·æ˜¯<code>v1.0.3</code>ï¼Œå‘å¸ƒ<code>v1.1.0</code>ä¹‹åï¼Œä½ æ²¡æœ‰æäº¤åˆ°<code>github</code>è¿œç¨‹ä»“åº“ï¼Œå½“ä½ åœ¨å¦ä¸€å°ç”µè„‘ä¸ŠæŠŠä»“åº“å…‹éš†ä¸‹æ¥ï¼Œ<code>package.json</code>ç‰ˆæœ¬ä¾ç„¶æ˜¯<code>v1.0.3</code>ï¼ˆå› ä¸ºä½ çš„<code>v1.1.0</code>å¹¶æ²¡æœ‰æäº¤ï¼‰ï¼Œä½ ä¿®æ”¹äº†ç‚¹å†…å®¹ï¼Œç„¶å<code>npm version patch</code>å°†ç‰ˆæœ¬å·ä¿®æ”¹ä¸º<code>v1.0.4</code>ï¼Œç„¶å<code>npm publish</code>å‘å¸ƒåï¼Œä½ è¿œç¨‹çš„<code>npm</code>åŒ…å°†ä»¥æœ€æ–°çš„ä¸€æ¬¡å‘å¸ƒå³<code>v1.0.4</code>çš„å†…å®¹ä¸ºå‡†ï¼Œé‚£ä¹ˆä¹‹å‰ä¿®æ”¹çš„<code>v1.1.0</code>çš„å†…å®¹ä¸èµ·ä»»ä½•ä½œç”¨ï¼Œè¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å°±éš¾ä»¥ä¿è¯ç‰ˆæœ¬å·å’Œå†…å®¹çš„ç»Ÿä¸€ã€‚å› æ­¤ï¼Œå¼ºçƒˆå»ºè®®å‘å¸ƒ<code>npm</code>åŒ…åï¼Œç«‹å³å°†æ”¹åŠ¨çš„ä»£ç æäº¤åˆ°è¿œç¨‹çš„<code>github</code>ä»“åº“ã€‚</p>
</blockquote>
<h3 id="æŸ¥çœ‹å‘å¸ƒçš„npmåŒ…"><a href="#æŸ¥çœ‹å‘å¸ƒçš„npmåŒ…" class="headerlink" title="æŸ¥çœ‹å‘å¸ƒçš„npmåŒ…"></a>æŸ¥çœ‹å‘å¸ƒçš„npmåŒ…</h3><p><img src="https://i.loli.net/2019/12/26/KE68fdL5spavVe1.png" alt="publish success.png"></p>
<p>ç‚¹å‡»<code>npm-repo</code>ï¼ŒæŸ¥çœ‹åˆ°<code>npm</code>è¯¦æƒ…</p>
<p><img src="https://i.loli.net/2019/12/26/mZY4KWEaMjzPo1d.png" alt="npm repo.png"></p>
<h3 id="æäº¤ä»£ç åˆ°è¿œç¨‹ç§æœ‰ä»“åº“"><a href="#æäº¤ä»£ç åˆ°è¿œç¨‹ç§æœ‰ä»“åº“" class="headerlink" title="æäº¤ä»£ç åˆ°è¿œç¨‹ç§æœ‰ä»“åº“"></a>æäº¤ä»£ç åˆ°è¿œç¨‹ç§æœ‰ä»“åº“</h3><p>ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œæ·»åŠ ä¸€ä¸ª<code>index.js</code>æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export function printHello() &#123;</span><br><span class="line">	console.warn(&quot;Hello&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°†ä»£ç æä¾›åˆ°è¿œç¨‹ç§æœ‰ä»“åº“</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git add . &amp;&amp; git commit -m &quot;init commit&quot; &amp;&amp; git push</span><br></pre></td></tr></table></figure>

<p>è¿œç¨‹ä»“åº“çœ‹èµ·æ¥æ˜¯è¿™æ ·</p>
<p><img src="https://i.loli.net/2019/12/26/MDIf3ozEx5qj2bi.png" alt="remote repo.png"></p>
<h2 id="ä½¿ç”¨npmåŒ…"><a href="#ä½¿ç”¨npmåŒ…" class="headerlink" title="ä½¿ç”¨npmåŒ…"></a>ä½¿ç”¨npmåŒ…</h2><h3 id="åˆ›å»º-npmrc"><a href="#åˆ›å»º-npmrc" class="headerlink" title="åˆ›å»º.npmrc"></a>åˆ›å»º<code>.npmrc</code></h3><p>è¿™é‡Œåœ¨é¡¹ç›®é‡Œé¢åˆ›å»º<code>.npmrc</code>å’Œä¸Šé¢çš„<code>.npmrc</code>å®Œå…¨ä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ä¸­å°±è¡Œã€‚</p>
<p>é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼ˆ<code>node_modules</code>æ‰€åœ¨çš„ç›®å½•ï¼‰ï¼Œåˆ›å»º<code>.npmrc</code>æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">registry=https://npm.pkg.github.com/lchenfox</span><br></pre></td></tr></table></figure>

<h3 id="ç™»å½•ï¼ˆåŒåˆ›å»ºnpmåŒ…ä¸€æ ·ï¼Œæœ‰2ç§æ–¹å¼ï¼‰"><a href="#ç™»å½•ï¼ˆåŒåˆ›å»ºnpmåŒ…ä¸€æ ·ï¼Œæœ‰2ç§æ–¹å¼ï¼‰" class="headerlink" title="ç™»å½•ï¼ˆåŒåˆ›å»ºnpmåŒ…ä¸€æ ·ï¼Œæœ‰2ç§æ–¹å¼ï¼‰"></a>ç™»å½•ï¼ˆåŒåˆ›å»ºnpmåŒ…ä¸€æ ·ï¼Œæœ‰2ç§æ–¹å¼ï¼‰</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm login --registry=https://npm.pkg.github.com</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¦‚æœåœ¨åŒä¸€å°ç”µè„‘ä¸Šç™»å½•è¿‡å°±ä¸ç”¨å†ç™»å½•äº†ã€‚</p>
</blockquote>
<h3 id="å®‰è£…npmåŒ…"><a href="#å®‰è£…npmåŒ…" class="headerlink" title="å®‰è£…npmåŒ…"></a>å®‰è£…<code>npm</code>åŒ…</h3><p>æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install @lchenfox/npm-repo@1.0.0</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿˜å¯ä»¥æŒ‰ç…§ä¸Šå›¾ä¸­çš„ä¿®æ”¹<code>package.json</code>å®‰è£…ã€‚</p>
</blockquote>
<p>å®‰è£…æˆåŠŸå¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  testdemo npm install @lchenfox/npm-repo@1.0.0           </span><br><span class="line">+ @lchenfox/npm-repo@1.0.0</span><br><span class="line">added 1 package from 1 contributor in 9.556s</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2019/12/26/KgGMzYVCpkWNEca.png" alt="node-modules.png"></p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;printHello&#125; from &apos;@lchenfox/npm-repo&apos;;</span><br><span class="line"></span><br><span class="line">printHello(); // Hello</span><br></pre></td></tr></table></figure>

<h2 id="å‘å¸ƒå¤šä¸ªnpmåŒ…åˆ°åŒä¸€ä¸ªç§æœ‰ä»“åº“"><a href="#å‘å¸ƒå¤šä¸ªnpmåŒ…åˆ°åŒä¸€ä¸ªç§æœ‰ä»“åº“" class="headerlink" title="å‘å¸ƒå¤šä¸ªnpmåŒ…åˆ°åŒä¸€ä¸ªç§æœ‰ä»“åº“"></a>å‘å¸ƒå¤šä¸ªnpmåŒ…åˆ°åŒä¸€ä¸ªç§æœ‰ä»“åº“</h2><p>ä¸Šé¢æˆ‘ä»¬åªè®²äº†å¦‚ä½•å‘å¸ƒä¸€ä¸ª<code>npm</code>åŒ…åˆ°ä¸€ä¸ªç§æœ‰ä»“åº“, ä½†æ˜¯æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³å°†å¤šä¸ª<code>npm</code>åŒ…å‘å¸ƒåˆ°åŒä¸€ä¸ª<code>github</code>ç§æœ‰ä»“åº“ä¸­å­˜æ”¾ï¼Œå› ä¸ºä¸€ä¸ª<code>npm</code>åŒ…åˆ›å»ºä¸€ä¸ªç§æœ‰ä»“åº“ç®€ç›´å¤ª<strong>TM</strong>éº»çƒ¦äº†ï¼Œä¸€ä¸ªç§æœ‰ä»“åº“ç®¡ç†å¤šä¸ª<code>npm</code>åŒ…åœ¨ä½¿ç”¨ä¸Šéå¸¸æ–¹ä¾¿ï¼Œä¹Ÿä¾¿äºç®¡ç†ã€‚</p>
<h3 id="åˆ›å»ºnpmåŒ…-1"><a href="#åˆ›å»ºnpmåŒ…-1" class="headerlink" title="åˆ›å»ºnpmåŒ…"></a>åˆ›å»ºnpmåŒ…</h3><p>é¦–å…ˆæˆ‘ä»¬æŠŠä»“åº“å…‹éš†åˆ°æœ¬åœ°ï¼Œæ¯”å¦‚è¿™é‡Œçš„ä»“åº“åæ˜¯<code>npm-repo</code>ï¼Œè¿›å…¥åˆ°<code>/npm-repo</code>ç›®å½•ä¸‹ï¼Œç›®å‰æˆ‘ä»¬åªæœ‰ä¸€ä¸ª<code>README.md</code>æ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯åˆ›å»º<code>githubç§æœ‰ä»“åº“</code>çš„æ—¶å€™åˆå§‹åŒ–çš„ä¸€ä¸ªæ–‡ä»¶ã€‚ç„¶åï¼Œæˆ‘ä»¬åˆ›å»º<code>2</code>ä¸ªæ–‡ä»¶å¤¹æ¥ä½œä¸º<code>2</code>ä¸ª<code>npmåŒ…</code>çš„ç›®å½•ï¼Œåˆ†åˆ«ä¸º<code>first-package</code>ã€<code>second-package</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mkdir first-pacakge second-package</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥åˆ°<code>first-package</code>é‡Œé¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  first-pacakge git:(master) npm init --scope=lchenfox</span><br><span class="line">This utility will walk you through creating a package.json file.</span><br><span class="line">It only covers the most common items, and tries to guess sensible defaults.</span><br><span class="line"></span><br><span class="line">See `npm help json` for definitive documentation on these fields</span><br><span class="line">  1 &#123;</span><br><span class="line">and exactly what they do.</span><br><span class="line">  1 export function printHello1() &#123;</span><br><span class="line"></span><br><span class="line">  1 # Getting started</span><br><span class="line">Use `npm install &lt;pkg&gt;` afterwards to install a package and</span><br><span class="line">  1 registry=https://npm.pkg.github.com/lchenfox</span><br><span class="line">save it as a dependency in the package.json file.</span><br><span class="line"></span><br><span class="line">Press ^C at any time to quit.</span><br><span class="line">package name: (@lchenfox/first-pacakge)</span><br><span class="line">version: (1.0.0)</span><br><span class="line">description: first-pacakge</span><br><span class="line">entry point: (index.js)</span><br><span class="line">test command:</span><br><span class="line">git repository: git@github.com:lchenfox/npm-repo.git</span><br><span class="line">keywords: npmdemo</span><br><span class="line">author: langke</span><br><span class="line">license: (ISC)</span><br><span class="line">About to write to /Users/langke/TestReactNative/github-packages/npm-repo/first-pacakge/package.json:</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;@lchenfox/first-pacakge&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;first-pacakge&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;repository&quot;: &#123;</span><br><span class="line">    &quot;type&quot;: &quot;git&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;git+ssh://git@github.com/lchenfox/npm-repo.git&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;keywords&quot;: [</span><br><span class="line">    &quot;npmdemo&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;author&quot;: &quot;langke&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class="line">  &quot;bugs&quot;: &#123;</span><br><span class="line">    &quot;url&quot;: &quot;https://github.com/lchenfox/npm-repo/issues&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;homepage&quot;: &quot;https://github.com/lchenfox/npm-repo#readme&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Is this OK? (yes)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢æˆ‘é€‰å¡«äº†<code>description</code>ã€<code>author</code>ã€<code>keywords</code>ï¼Œå…¶å®è¿™äº›é¡¹ä¹Ÿå¯ä»¥ä¸å¡«ï¼Œä½†æ˜¯å¿…é¡»æ³¨æ„çš„æ˜¯ <code>git repository: git@github.com:lchenfox/npm-repo.git</code> æ˜¯å¿…å¡«é¡¹ï¼Œ<code>git@github.com:lchenfox/npm-repo.git</code>æ˜¯ä½ çš„<code>githubç§æœ‰ä»“åº“</code>åœ°å€ã€‚å¦‚æœä½ å¿˜è®°å¡«å†™<code>git repository</code>ï¼Œä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå¯ä»¥åˆå§‹åŒ–ç»“æŸåç¼–è¾‘<code>pacage.json</code>æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;repository&quot; : &#123;</span><br><span class="line">    &quot;type&quot; : &quot;git&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;ssh://git@github.com/lchenfox/npm-repo.git&quot;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>type</code>å°±æ˜¯<code>git</code>,  <code>url</code>å°±æ˜¯ç§æœ‰ä»“åº“åœ°å€ï¼Œå…¶ä¸­ï¼Œ<code>lchenfox</code>æ˜¯<code>github</code>ç”¨æˆ·åï¼Œ <code>npm-repo</code>æ˜¯ç§æœ‰ä»“åº“åã€‚</p>
<p>ç„¶åæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ä¾æ¬¡æ·»åŠ <code>publishConfig</code>åˆ°<code>pacage.json</code>ã€åˆ›å»º<code>.npmrc</code>æ–‡ä»¶ã€ç™»å½•ï¼Œå¦å¤–ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œåˆ†åˆ«åœ¨<br><code>first-package</code>ã€<code>second-package</code>åˆ›å»º<code>README.md</code>å’Œ<code>index.js</code>æ–‡ä»¶ã€‚</p>
<p>æœ€ç»ˆï¼Œ<code>first-package</code>å…±æœ‰<code>4</code>ä¸ªæ–‡ä»¶ï¼š<code>.npmrc</code>ã€<code>README.md</code>ã€<code>index.js</code>ã€<code>package.json</code>ï¼Œå†…å®¹å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  first-pacakge git:(master) âœ— l</span><br><span class="line">total 32</span><br><span class="line">drwxr-xr-x  6 langke  staff   192B Dec 27 09:32 .</span><br><span class="line">drwxr-xr-x  6 langke  staff   192B Dec 27 09:22 ..</span><br><span class="line">-rw-r--r--  1 langke  staff    45B Dec 27 09:32 .npmrc</span><br><span class="line">-rw-r--r--  1 langke  staff    33B Dec 27 09:32 README.md</span><br><span class="line">-rw-r--r--  1 langke  staff    59B Dec 27 09:32 index.js</span><br><span class="line">-rw-r--r--  1 langke  staff   581B Dec 27 09:31 package.json</span><br><span class="line"></span><br><span class="line">âœ  first-pacakge git:(master) âœ— cat .npmrc</span><br><span class="line">registry=https://npm.pkg.github.com/lchenfox</span><br><span class="line"></span><br><span class="line">âœ  first-pacakge git:(master) âœ— cat README.md</span><br><span class="line"># Getting started</span><br><span class="line"></span><br><span class="line">first package</span><br><span class="line"></span><br><span class="line">âœ  first-pacakge git:(master) âœ— cat index.js</span><br><span class="line">export function printHello1() &#123;</span><br><span class="line">	console.warn(&quot;hello1&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">âœ  first-pacakge git:(master) âœ— cat package.json</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;@lchenfox/first-pacakge&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;first-pacakge&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;publishConfig&quot;: &#123;</span><br><span class="line">    &quot;registry&quot;:&quot;https://npm.pkg.github.com/&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;repository&quot;: &#123;</span><br><span class="line">    &quot;type&quot;: &quot;git&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;git+ssh://git@github.com/lchenfox/npm-repo.git&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;keywords&quot;: [</span><br><span class="line">    &quot;npmdemo&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;author&quot;: &quot;langke&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class="line">  &quot;bugs&quot;: &#123;</span><br><span class="line">    &quot;url&quot;: &quot;https://github.com/lchenfox/npm-repo/issues&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;homepage&quot;: &quot;https://github.com/lchenfox/npm-repo#readme&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>second-package</code>å†…å®¹å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  second-package git:(master) âœ— l</span><br><span class="line">total 32</span><br><span class="line">drwxr-xr-x  6 langke  staff   192B Dec 27 10:05 .</span><br><span class="line">drwxr-xr-x  6 langke  staff   192B Dec 27 09:22 ..</span><br><span class="line">-rw-r--r--  1 langke  staff    45B Dec 27 10:05 .npmrc</span><br><span class="line">-rw-r--r--  1 langke  staff    34B Dec 27 09:54 README.md</span><br><span class="line">-rw-r--r--  1 langke  staff    59B Dec 27 09:54 index.js</span><br><span class="line">-rw-r--r--  1 langke  staff   583B Dec 27 09:54 package.json</span><br><span class="line"></span><br><span class="line">âœ  second-package git:(master) âœ— cat .npmrc</span><br><span class="line">registry=https://npm.pkg.github.com/lchenfox</span><br><span class="line"></span><br><span class="line">âœ  second-package git:(master) âœ— cat README.md</span><br><span class="line"># Getting started</span><br><span class="line"></span><br><span class="line">second package</span><br><span class="line"></span><br><span class="line">âœ  second-package git:(master) âœ— cat index.js</span><br><span class="line">export function printHello2() &#123;</span><br><span class="line">	console.warn(&quot;hello2&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">âœ  second-package git:(master) âœ— cat package.json</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;@lchenfox/second-pacakge&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;second-pacakge&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;publishConfig&quot;: &#123;</span><br><span class="line">    &quot;registry&quot;:&quot;https://npm.pkg.github.com/&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;repository&quot;: &#123;</span><br><span class="line">    &quot;type&quot;: &quot;git&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;git+ssh://git@github.com/lchenfox/npm-repo.git&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;keywords&quot;: [</span><br><span class="line">    &quot;npmdemo&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;author&quot;: &quot;langke&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class="line">  &quot;bugs&quot;: &#123;</span><br><span class="line">    &quot;url&quot;: &quot;https://github.com/lchenfox/npm-repo/issues&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;homepage&quot;: &quot;https://github.com/lchenfox/npm-repo#readme&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¦å¤–ä¸€èˆ¬ä¼šæ·»åŠ ä¸€ä¸ª<code>.gitignore</code>æ–‡ä»¶ç”¨äºå¿½ç•¥æ‰å¦‚<code>.idea</code>ã€<code>.DS_Store</code>æ–‡ä»¶ï¼Œè¿˜ä¼šæ·»åŠ ä¸€ä¸ª<code>CHANGELOG.md</code>æ–‡ä»¶ç”¨äºæè¿°æ¯ä¸€ä¸ªç‰ˆæœ¬çš„å˜æ›´ï¼Œè¿™æ ·æ‰æ›´æ–¹ä¾¿<code>npm</code>ä½¿ç”¨è€…ã€‚</p>
</blockquote>
<p>ç„¶åæ‰§è¡Œ<code>npm publish</code>å‘å¸ƒåˆ°<code>GitHub Packages</code>ï¼Œ å¦‚å›¾</p>
<p><img src="https://i.loli.net/2019/12/27/RGM3LIpBzlvDgP7.png" alt="mul-packages.png"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ª<code>npmåŒ…</code>åˆ†åˆ«ä¸º<code>first-package</code>ã€<code>second-package</code>ï¼Œéƒ½å‘å¸ƒåˆ°äº†<code>GitHub Packages</code>ï¼Œå¹¶ä¸”éƒ½æ”¾åˆ°åŒä¸€ä¸ªä»“åº“ï¼ˆ<code>npm-repo</code>ï¼‰å½“ä¸­ï¼Œæœ€ååˆ«å¿˜è®°äº†å°†ä»£ç æäº¤åˆ°è¿œç¨‹çš„ç§æœ‰ä»“åº“ä¸­ã€‚</p>
<h3 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>å’Œä¸Šé¢çš„ä½¿ç”¨æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬æ¥å®‰è£…ä¸€ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install @lchenfox/first-pacakge@1.0.0</span><br><span class="line">npm install @lchenfox/second-pacakge@1.0.0</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æˆåŠŸåï¼Œåœ¨é¡¹ç›®çš„<code>node_modules</code>é‡Œé¢çœ‹èµ·æ¥å¦‚ä¸‹</p>
<p><img src="https://i.loli.net/2019/12/27/xjsqrG6ocCmJeFp.png" alt="multiple-packages.png"></p>
<p>å¯¼å…¥ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;printHello1&#125; from &apos;@lchenfox/first-pacakge&apos;;</span><br><span class="line">import &#123;printHello2&#125; from &apos;@lchenfox/second-pacakge&apos;;</span><br><span class="line"></span><br><span class="line">printHello1(); // hello1</span><br><span class="line">printHello2(); // hello2</span><br></pre></td></tr></table></figure>

<p>åˆ°æ­¤ï¼Œæˆ‘ä»¬å°±çŸ¥é“å¦‚ä½•ä½¿ç”¨<code>GitHub Packages</code>æ¥åˆ›å»º<code>npm</code>ç§æœ‰åº“äº†ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><strong>å¿…é¡»æ³¨æ„</strong>ï¼šæœ¬æ–‡æ‰€æœ‰<code>lchenfox</code>ä¸€å®šæ˜¯ä½ è‡ªå·±çš„<code>github</code>ç”¨æˆ·åï¼Œæ‰€æœ‰<code>_authToken</code>ä¸€å®šæ˜¯ä½ è‡ªå·±çš„<code>Personal access tokens</code>ã€‚</p>
<h3 id="å‘å¸ƒnpmåŒ…å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶"><a href="#å‘å¸ƒnpmåŒ…å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶" class="headerlink" title="å‘å¸ƒnpmåŒ…å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶"></a>å‘å¸ƒnpmåŒ…å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶</h3><ul>
<li>ç¬¬<code>1</code>ç‚¹ï¼Œè¦ä¹ˆåˆ›å»º<code>.npmrc</code>æ–‡ä»¶ï¼Œé‡Œé¢æ·»åŠ <code>registry=https://npm.pkg.github.com/lchenfox</code>ï¼Œè¦ä¹ˆå°±ç›´æ¥åœ¨<code>package.json</code>ä¸­æ·»åŠ <code>publishConfig</code></li>
<li>ç¬¬<code>2</code>ç‚¹ï¼Œè¦ä¹ˆåœ¨<code>.npmrc</code>ï¼ˆå¦‚æœæ²¡æœ‰å°±åˆ›å»ºä¸€ä¸ªï¼‰æ–‡ä»¶ä¸­æ·»åŠ <code>//npm.pkg.github.com/:_authToken=0fc31c688a4a75f9509444b4648ac8e5fbeb20c4</code>æˆæƒï¼Œè¦ä¹ˆä½¿ç”¨<code>npm login --registry=https://npm.pkg.github.com</code>ç™»å½•æˆæƒ</li>
</ul>
<h3 id="å®‰è£…npmåŒ…å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶"><a href="#å®‰è£…npmåŒ…å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶" class="headerlink" title="å®‰è£…npmåŒ…å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶"></a>å®‰è£…npmåŒ…å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶</h3><ul>
<li>ç¬¬<code>1</code>ç‚¹ï¼Œå¿…é¡»åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼ˆ<code>node_modules</code>æ‰€åœ¨ç›®å½•ï¼‰åˆ›å»º<code>.npmrc</code>å¹¶ä¸”æ·»åŠ <code>registry=https://npm.pkg.github.com/lchenfox</code></li>
<li>ç¬¬<code>2</code>ç‚¹ï¼ŒåŒä»¥ä¸Šå‘å¸ƒnpmåŒ…çš„ç¬¬<code>2</code>ç‚¹</li>
</ul>
<p>ä½¿ç”¨<code>GitHub Packages</code>æ¥åˆ›å»ºå’Œæ‰˜ç®¡<code>npm</code>åŒ…éå¸¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>npm</code>çš„ç›¸å…³å‘½ä»¤ï¼Œå‘å¸ƒã€å®‰è£…æ–¹å¼åŸºæœ¬å’Œ<code>npm</code>ä¸€æ ·ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼æ¥åˆ›å»ºå±äºæˆ‘ä»¬è‡ªå·±çš„ç§æœ‰åº“ï¼Œç»´æŠ¤èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œå’Œä¹‹å‰çš„å‡ ç§æ–¹å¼æ¯”èµ·æ¥ï¼Œæˆ‘ä¸ªäººè§‰å¾—è¿™ç§æ–¹å¼å¾ˆé€‚åˆæ­å»º(æˆ–è®¸åªèƒ½è¯´åˆ›å»ºï¼Ÿ)å…¬å¸å†…éƒ¨çš„<code>npm</code>ç§æœ‰åº“ã€‚</p>
<p>æ³¨æ„ï¼šè™½ç„¶æˆ‘ä»¬ä½¿ç”¨äº†<code>.npmrc</code>æ–‡ä»¶ï¼Œä½†æ˜¯ï¼Œä¸è¦æŠŠ<code>//npm.pkg.github.com/:_authToken=0fc31c688a4a75f9509444b4648ac8e5fbeb20c4</code>æä¾›åˆ°<code>github</code>ä»“åº“ï¼Œå› ä¸º<code>GitHub</code>å®˜æ–¹ä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œä¸å…è®¸æäº¤åˆ°ä»“åº“ï¼Œå¦‚æœä½ æäº¤äº†ï¼Œ<code>GitHub</code>ä¼šè‡ªåŠ¨æ£€æµ‹ï¼Œå¹¶ä¸”æ’¤é”€è¿™ä¸ª<code>token</code>ï¼Œé‚£ä¹ˆä½ ä¸‹æ¬¡å®‰è£…ã€å‘å¸ƒéƒ½æ²¡ç”¨äº†ï¼Œåªèƒ½é‡æ–°ç”Ÿæˆ<code>token</code>!!! ä½ å¯ä»¥æ·»åŠ åœ¨<code>.gitignore</code>æ–‡ä»¶é‡Œé¢æ·»åŠ å¿½ç•¥<code>.npmrc</code>æ–‡ä»¶å°±å¥½äº†ï¼Œä¹Ÿå°±æ˜¯è¯´<code>.npmrc</code>æ–‡ä»¶åªèƒ½æ”¾åœ¨æœ¬åœ°ï¼</p>
<p>æ›´å¤šè¯¦æƒ…ï¼Œæ¯”å¦‚å¦‚ä½•åœ¨ä¸€ä¸ªé¡¹ç›®ä»å¤šä¸ª<code>GitHub</code>è´¦å·æ‹‰å–å¤šä¸ªä¸åŒæ¥æºçš„<code>npm</code>ä¾èµ–åŒ…ï¼Œè¯·æŸ¥çœ‹å®˜æ–¹ï¼š<a href="https://help.github.com/en/github/managing-packages-with-github-packages/configuring-npm-for-use-with-github-packages#installing-packages-from-other-organizations" target="_blank" rel="noopener">Installing packages from other organizations</a>ã€<a href="https://help.github.com/en/github/managing-packages-with-github-packages" target="_blank" rel="noopener">Managing packages with GitHub Packages</a>ã€‚</p>
]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native</tag>
        <tag>npm</tag>
        <tag>ç§æœ‰ä»“åº“</tag>
        <tag>npmç§æœ‰åº“</tag>
        <tag>GitHub Packages</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºgithubå®ç°npmç§æœ‰åº“çš„æ­å»º</title>
    <url>/2019/12/23/%E5%9F%BA%E4%BA%8Egithub%E5%AE%9E%E7%8E%B0npm%E7%A7%81%E6%9C%89%E5%BA%93%E7%9A%84%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« <a href="https://www.clcoder.com/2019/12/20/verdaccio%20+%20ngrok%E5%8F%91%E5%B8%83npm%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/" target="_blank" rel="noopener">verdaccio+ngrokå‘å¸ƒnpmç§æœ‰ä»“åº“</a>ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨<code>verdaccio + ngrok</code>æ¥æ­å»ºæˆ‘ä»¬çš„<code>npm</code>ç§æœ‰åº“ï¼Œè™½ç„¶åŸºæœ¬å®ç°äº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œä½†æ˜¯é‚£ç§æ–¹å¼å¹¶ä¸ä¸€å®šæ˜¯æœ€å¥½çš„ï¼Œä¹Ÿæœªå¿…è¢«ä¸€éƒ¨åˆ†äººæ¥å—ï¼Œæ¯•ç«Ÿå…¶ä¸€äº›ç¼ºé™·è¿˜æ˜¯æœ‰äº›éº»çƒ¦ï¼Œéš¾ä»¥ç®¡ç†ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦ä¸€ç§æ­å»º<code>npmç§æœ‰åº“</code>çš„æ–¹å¼ï¼š<code>npm + github</code>æ¥å®ç°æ­å»º<code>npmç§æœ‰åº“</code>ã€‚</p>
<h2 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h2><h4 id="åœ¨githubä¸Šåˆ›å»ºä¸€ä¸ªç§æœ‰ä»“åº“ï¼Œå¦‚ä¸‹å›¾"><a href="#åœ¨githubä¸Šåˆ›å»ºä¸€ä¸ªç§æœ‰ä»“åº“ï¼Œå¦‚ä¸‹å›¾" class="headerlink" title="åœ¨githubä¸Šåˆ›å»ºä¸€ä¸ªç§æœ‰ä»“åº“ï¼Œå¦‚ä¸‹å›¾"></a>åœ¨<code>github</code>ä¸Šåˆ›å»ºä¸€ä¸ªç§æœ‰ä»“åº“ï¼Œå¦‚ä¸‹å›¾</h4><p><img src="https://i.loli.net/2019/12/23/4sAjfh18EuTdgxe.png" alt="private_repo.png"></p>
<h4 id="å…‹éš†githubä»“åº“åˆ°æœ¬åœ°"><a href="#å…‹éš†githubä»“åº“åˆ°æœ¬åœ°" class="headerlink" title="å…‹éš†githubä»“åº“åˆ°æœ¬åœ°"></a>å…‹éš†<code>github</code>ä»“åº“åˆ°æœ¬åœ°</h4><p><img src="https://i.loli.net/2019/12/23/V23ozIhFWsrNS6x.png" alt="git clone.png"></p>
<h4 id="åˆå§‹åŒ–ä»“åº“"><a href="#åˆå§‹åŒ–ä»“åº“" class="headerlink" title="åˆå§‹åŒ–ä»“åº“"></a>åˆå§‹åŒ–ä»“åº“</h4><p>è¿›å…¥åˆ°åˆšæ‰å…‹éš†ä¸‹æ¥çš„ä»“åº“ç›®å½•ï¼Œè¿™é‡Œæ¼”ç¤ºçš„è·¯å¾„æ˜¯<code>/Users/langke/TestReactNative/github-npm-dir/rn-npm-demo</code>ï¼Œå…¶ä¸­<code>/Users/langke/TestReactNative/github-npm-dir</code>æ˜¯æˆ‘æœ¬åœ°æ–‡ä»¶å¤¹è·¯å¾„ï¼Œä½ å¯ä»¥éšä¾¿é€‰ä¸€ä¸ªè‡ªå·±çš„è·¯å¾„å³å¯ï¼Œ<code>/rn-npm-demo</code>å°±æ˜¯å…‹éš†ä¸‹æ¥çš„ä»“åº“ã€‚ä½¿ç”¨<code>npm init --scope=å…¬å¸å</code>æ¥åˆå§‹åŒ–ä»“åº“</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  rn-npm-demo git:(master) âœ— npm init --scope=mycompany</span><br><span class="line">This utility will walk you through creating a package.json file.</span><br><span class="line">It only covers the most common items, and tries to guess sensible defaults.</span><br><span class="line"></span><br><span class="line">See `npm help json` for definitive documentation on these fields</span><br><span class="line">and exactly what they do.</span><br><span class="line"></span><br><span class="line">Use `npm install &lt;pkg&gt;` afterwards to install a package and</span><br><span class="line">save it as a dependency in the package.json file.</span><br><span class="line"></span><br><span class="line">Press ^C at any time to quit.</span><br><span class="line">package name: (@mycompany/rn-npm-demo)</span><br><span class="line">version: (1.0.0)</span><br><span class="line">description: A private npm package demo</span><br><span class="line">entry point: (index.js)</span><br><span class="line">test command:</span><br><span class="line">git repository: (https://github.com/lchenfox/rn-npm-demo.git)</span><br><span class="line">keywords:</span><br><span class="line">author: langke</span><br><span class="line">license: (ISC)</span><br><span class="line">About to write to /Users/langke/TestReactNative/github-npm-dir/rn-npm-demo/package.json:</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;@mycompany/rn-npm-demo&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;A private npm package demo&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;repository&quot;: &#123;</span><br><span class="line">    &quot;type&quot;: &quot;git&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;git+https://github.com/lchenfox/rn-npm-demo.git&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;author&quot;: &quot;langke&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class="line">  &quot;bugs&quot;: &#123;</span><br><span class="line">    &quot;url&quot;: &quot;https://github.com/lchenfox/rn-npm-demo/issues&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;homepage&quot;: &quot;https://github.com/lchenfox/rn-npm-demo#readme&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Is this OK? (yes) yes</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šåœ¨<code>npm init --scope=å…¬å¸å</code>æ¥åˆå§‹åŒ–ä»“åº“çš„è¿‡ç¨‹ä¸­ï¼Œä½ åªéœ€è¦å¡«å†™<code>description</code>å’Œ<code>author</code>é¡¹ï¼Œç”šè‡³è¿™ä¸¤é¡¹éƒ½æ˜¯å¯é€‰çš„ï¼Œå…¶ä»–çš„ä¿¡æ¯ä½ ä¸éœ€è¦å¡«å†™ç›´æ¥ä¸€è·¯å›è½¦å°±å¥½ã€‚<code>name</code>ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„<code>npm</code>åŒ…åï¼Œå½“ä½¿ç”¨<code>npm init --scope=å…¬å¸å</code>æ¥åˆå§‹åŒ–æ—¶ï¼Œé»˜è®¤çš„ç”Ÿæˆçš„åŒ…åæ˜¯<code>@å…¬å¸å/githunä¸Šçš„ä»“åº“åç§°</code>ï¼Œæ¯”å¦‚ä¸Šé¢æˆ‘å¡«å†™çš„å…¬å¸åæ˜¯<code>mycompany</code>ï¼Œ<code>rn-npm-demo</code>æ˜¯<code>github</code>ä¸Šé¢çš„ä»“åº“åï¼Œæ‰€ä»¥æœ€ç»ˆåˆ›å»ºçš„é»˜è®¤çš„<code>npm</code>åŒ…åå°±æ˜¯<code>@mycompany/rn-npm-demo</code>ã€‚å¦‚æœä½ å¡«å†™äº†å…¶ä»–çš„åç§°ï¼Œé‚£ä¹ˆæœ€ç»ˆçš„åŒ…åå°†ä¸å†æ˜¯<code>@mycompany/rn-npm-demo</code>ï¼Œè€Œæ˜¯ä½ å¡«äº†ä»€ä¹ˆï¼Œå°±æ˜¯ä»€ä¹ˆï¼ä¸è¿‡ï¼Œä¸å»ºè®®å¡«å†™è¿™ä¸€é¡¹ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨<code>npm init --scope=å…¬å¸å</code>çš„ç›®çš„å°±æ˜¯ä¸ºäº†ä½¿ç”¨<code>å…¬å¸å</code>æ¥åŒºåˆ†æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„ç§æœ‰åº“å’Œå…¶ä»–çš„<code>npm</code>åº“ï¼Œæ¯”å¦‚æˆ‘ä¸€çœ‹åˆ°å¯¼å…¥çš„æ˜¯å¸¦æœ‰<code>@mycompany</code>çš„<code>npm</code>åŒ…ï¼Œé‚£ä¹ˆæˆ‘ä¸€çœ‹å°±çŸ¥é“è¿™æ˜¯å…¬å¸è‡ªå·±å†™çš„ç§æœ‰åº“ï¼Œå¦‚æœé‡æ–°å¡«å†™äº†<code>name</code>é¡¹ï¼Œé‚£ä½¿ç”¨<code>npm init --scope=å…¬å¸å</code>å°±æ²¡æœ‰å¤šå¤§æ„ä¹‰äº†ã€‚</p>
</blockquote>
<h4 id="åˆ›å»ºindex-jsæ–‡ä»¶"><a href="#åˆ›å»ºindex-jsæ–‡ä»¶" class="headerlink" title="åˆ›å»ºindex.jsæ–‡ä»¶"></a>åˆ›å»º<code>index.js</code>æ–‡ä»¶</h4><p>åˆ›å»º<code>index.js</code>æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi index.js</span><br></pre></td></tr></table></figure>

<p>å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">exports.putMsg = function() &#123;</span><br><span class="line">	console.warn(&quot;Great! you got a private npm package on github!&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>ls</code>å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰ä»“åº“æ‰€æœ‰çš„æ–‡ä»¶ï¼Œåº”è¯¥å¦‚ä¸‹<code>4</code>ä¸ªæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  rn-npm-demo git:(master) âœ— ls</span><br><span class="line">LICENSE      README.md    index.js     package.json</span><br></pre></td></tr></table></figure>

<h4 id="æäº¤åˆ°è¿œç¨‹"><a href="#æäº¤åˆ°è¿œç¨‹" class="headerlink" title="æäº¤åˆ°è¿œç¨‹"></a>æäº¤åˆ°è¿œç¨‹</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  rn-npm-demo git:(master) âœ— git add . &amp;&amp; git commit -m &quot;init commit&quot; &amp;&amp; git push</span><br><span class="line">[master 6dd0afa] init commit</span><br><span class="line"> 2 files changed, 22 insertions(+)</span><br><span class="line"> create mode 100644 index.js</span><br><span class="line"> create mode 100644 package.json</span><br><span class="line">Enumerating objects: 5, done.</span><br><span class="line">Counting objects: 100% (5/5), done.</span><br><span class="line">Delta compression using up to 4 threads</span><br><span class="line">Compressing objects: 100% (4/4), done.</span><br><span class="line">Writing objects: 100% (4/4), 686 bytes | 686.00 KiB/s, done.</span><br><span class="line">Total 4 (delta 0), reused 0 (delta 0)</span><br><span class="line">To github.com:lchenfox/rn-npm-demo.git</span><br><span class="line">   9cbf75a..6dd0afa  master -&gt; master</span><br></pre></td></tr></table></figure>

<h2 id="å®‰è£…æ–¹å¼-npm-vs-yarn"><a href="#å®‰è£…æ–¹å¼-npm-vs-yarn" class="headerlink" title="å®‰è£…æ–¹å¼ npm vs yarn"></a>å®‰è£…æ–¹å¼ npm vs yarn</h2><h4 id="ä½¿ç”¨npm"><a href="#ä½¿ç”¨npm" class="headerlink" title="ä½¿ç”¨npm"></a>ä½¿ç”¨npm</h4><ul>
<li>ä¸éœ€è¦æ·»åŠ <code>ssh key</code>ï¼ˆä»»ä½•äººéƒ½å¯ä»¥å®‰è£…ï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install https://github.com/lchenfox/rn-npm-demo.git</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install git+https://github.com/lchenfox/rn-npm-demo.git</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install lchenfox/rn-npm-demo</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install github:lchenfox/rn-npm-demo</span><br></pre></td></tr></table></figure>

<ul>
<li>å¿…é¡»æ·»åŠ <code>ssh key</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install git+ssh://git@github.com:lchenfox/rn-npm-demo.git</span><br></pre></td></tr></table></figure>

<ul>
<li>å®‰è£…å…·ä½“çš„ç‰ˆæœ¬</li>
</ul>
<p>å¦‚æœéœ€è¦å®‰è£…å…·ä½“çš„ç‰ˆæœ¬ï¼Œå¿…é¡»è¦æ‰“<code>tag</code>ï¼Œæ¯ä¸€ä¸ª<code>tag</code>å°±ä»£è¡¨ä¸€ä¸ªç‰ˆæœ¬ï¼Œå› æ­¤å»ºè®®æ˜¯æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½è¦å¢åŠ <code>tagç‰ˆæœ¬å·</code>ã€‚æ¯”å¦‚å·²ç»æœ‰ä¸€ä¸ªæ‰“å¥½çš„<code>tag</code>ç‰ˆæœ¬ä¸º<code>2.0</code>ï¼Œè¦å®‰è£…å…·ä½“<code>2.0</code>ç‰ˆæœ¬ï¼Œå¯ä»¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install https://github.com/lchenfox/private_demo.git#2.0</span><br></pre></td></tr></table></figure>


<p>æˆ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install git+https://github.com/lchenfox/private_demo.git#2.0</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨yarn"><a href="#ä½¿ç”¨yarn" class="headerlink" title="ä½¿ç”¨yarn"></a>ä½¿ç”¨yarn</h4><ul>
<li>ä¸éœ€è¦æ·»åŠ <code>ssh key</code>ï¼ˆä»»ä½•äººéƒ½å¯ä»¥å®‰è£…ï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add https://github.com/lchenfox/rn-npm-demo.git</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add git+https://github.com/lchenfox/rn-npm-demo.git</span><br></pre></td></tr></table></figure>

<ul>
<li>å¿…é¡»æ·»åŠ <code>ssh key</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add lchenfox/rn-npm-demo</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add github:lchenfox/rn-npm-demo</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add git+ssh://git@github.com:lchenfox/rn-npm-demo.git</span><br></pre></td></tr></table></figure>

<h4 id="é’ˆå¯¹ä»¥ä¸Šå¿…é¡»æ·»åŠ ssh-keyçš„å‘½ä»¤ä½¿ç”¨æƒé™æ—¶ï¼Œå¦‚ä½•å¤„ç†å‘¢ï¼Ÿ"><a href="#é’ˆå¯¹ä»¥ä¸Šå¿…é¡»æ·»åŠ ssh-keyçš„å‘½ä»¤ä½¿ç”¨æƒé™æ—¶ï¼Œå¦‚ä½•å¤„ç†å‘¢ï¼Ÿ" class="headerlink" title="é’ˆå¯¹ä»¥ä¸Šå¿…é¡»æ·»åŠ ssh keyçš„å‘½ä»¤ä½¿ç”¨æƒé™æ—¶ï¼Œå¦‚ä½•å¤„ç†å‘¢ï¼Ÿ"></a>é’ˆå¯¹ä»¥ä¸Š<strong>å¿…é¡»æ·»åŠ <code>ssh key</code>çš„å‘½ä»¤</strong>ä½¿ç”¨æƒé™æ—¶ï¼Œå¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</h4><p>ç¬¬ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥å°†ç”µè„‘ä¸Šçš„<code>ssh keyï¼ˆå…¬é’¥ï¼‰</code>æ·»åŠ åˆ°<code>github</code>ç§æœ‰ä»“åº“æ‰€æœ‰è€…ï¼Œè¿™æ ·ä½ å°±å¯ä»¥è®¿é—®æ‰€æœ‰ä»“åº“ï¼ˆåŒ…å«ç§æœ‰ä»“åº“ï¼‰çš„æƒé™ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="https://i.loli.net/2019/12/23/rBLmD2jpiCPGOqw.png" alt="sshkey.png"></p>
<p>å¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥å°†ç”µè„‘ä¸Šçš„<code>ssh keyï¼ˆå…¬é’¥ï¼‰</code>æ·»åŠ åˆ°<code>github</code>çš„ç§æœ‰ä»“åº“ï¼Œè¿™æ ·ä½ ä»…ä»…åªèƒ½å¤Ÿè®¿é—®è¿™ä¸ªç§æœ‰ä»“åº“ï¼Œå¦‚ä¸‹ï¼ˆæ¨èï¼Œä¸ºäº†å®‰å…¨ï¼Œé™åˆ¶æƒé™ï¼‰ï¼š</p>
<p><img src="https://i.loli.net/2019/12/23/UnFskeNHtG6OBvr.png" alt="ssh-key.png"></p>
<blockquote>
<p>äº‹å®ä¸Šï¼Œè¿˜æœ‰ç¬¬ä¸‰ç§æ–¹å¼ï¼Œå¦‚ä¸Šå›¾ï¼Œåœ¨ç§æœ‰ä»“åº“é‡Œé¢è¿˜æœ‰ä¸€ä¸ª<code>Collaborators</code>ï¼Œä½ å¯ä»¥ä¸ºè¿™ä¸ªä»“åº“æ·»åŠ å›¢é˜Ÿæˆå‘˜ï¼Œè¿™æ ·åˆåˆ†2ç§æƒ…å†µï¼Œç¬¬ä¸€ç§æƒ…å†µï¼šå¦‚æœè¢«æ·»åŠ çš„æˆå‘˜ä½¿ç”¨<code>CLIï¼ˆå‘½ä»¤è¡Œæ¨¡å¼ï¼‰</code>ï¼Œé‚£ä¹ˆä»–ä¹Ÿè¦å°†ä»–è‡ªå·±ç”µè„‘ä¸Šçš„<code>ssh key</code>æ·»åŠ åˆ°ä»–è‡ªå·±çš„<code>github</code>çš„<code>SSH and GPG keys</code>ä¸­ï¼ˆä¸Šé¢çš„ç¬¬ä¸€ç§æ–¹å¼ï¼‰ï¼›ç¬¬äºŒç§æƒ…å†µï¼šè¢«æ·»åŠ çš„æˆå‘˜ä¸å–œæ¬¢ä½¿ç”¨<code>CLIï¼ˆå‘½ä»¤è¡Œæ¨¡å¼ï¼‰</code>ï¼Œè€Œæ˜¯ä½¿ç”¨<code>IDEï¼ˆæ¯”å¦‚WebStormï¼‰</code>ç™»å½•ä»–è‡ªå·±çš„<code>github</code>è´¦å·æ¥æ‰§è¡Œ<code>pull</code>ã€<code>push</code>ã€<code>npm install</code>ç­‰ç­‰æ“ä½œï¼Œé‚£ä¹ˆ<strong>ä»–å°±æ²¡æœ‰å¿…è¦å°†ä»–è‡ªå·±ç”µè„‘ä¸Šçš„<code>ssh key</code>æ·»åŠ åˆ°ä»–è‡ªå·±çš„<code>github</code>çš„<code>SSH and GPG keys</code>ä¸­</strong>ã€‚è¿™å¬èµ·æ¥ä¼¼ä¹å¾ˆåˆ«æ‰­ï¼Œä½†æ˜¯äº‹å®å°±æ˜¯å¦‚æ­¤ï¼Œå› ä¸ºä»–ç›´æ¥ä½¿ç”¨ä»–è‡ªå·±çš„è´¦å·è®¿é—®è‡ªå·±ä»“åº“å¹¶æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯ä½¿ç”¨<code>CLI</code>æ¨¡å¼çš„è¯ï¼Œå°±è·Ÿä»–æ˜¯å¦ç™»å½•<code>github</code>æ²¡æœ‰å…³ç³»äº†ã€‚ç®€å•æ¥è¯´å°±æ˜¯ï¼Œåªè¦ä½¿ç”¨<code>CLI</code>æ¨¡å¼ï¼Œä¸ç®¡æ˜¯è¢«æ·»åŠ çš„æˆå‘˜è¿˜æ˜¯ä»“åº“æŒæœ‰è€…ï¼Œéƒ½å¿…é¡»æ·»åŠ <code>ssh key</code>ã€‚</p>
</blockquote>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>å’Œæ­£å¸¸ä½¿ç”¨<code>npm install</code>ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯åé¢è·Ÿçš„ä¸æ˜¯å…·ä½“çš„åŒ…åï¼Œè€Œæ˜¯ä¸€ä¸ª<code>github</code>ä¸Šçš„<code>https</code>é“¾æ¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install https://github.com/lchenfox/rn-npm-demo.git</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç¬¬ä¸€æ¬¡å®‰è£…å¯èƒ½ä¼šæœ‰ç‚¹æ…¢ï¼Œæˆ‘è¿™é‡Œç”¨äº†å¤§æ¦‚<code>3</code>åˆ†é’Ÿæ—¶é—´æ‰å®‰è£…æˆåŠŸã€‚</p>
</blockquote>
<p>æŸ¥çœ‹ä¸€ä¸‹<code>package.json</code>æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  testnpm cat package.json</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;@mycompany/rn-npm-demo&quot;: &quot;git+https://github.com/lchenfox/rn-npm-demo.git&quot;,</span><br><span class="line">    &quot;react&quot;: &quot;16.8.3&quot;,</span><br><span class="line">    &quot;react-native&quot;: &quot;0.59.9&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2019/12/23/jbiN5sLc3r1mgtd.png" alt="success.png"></p>
<p>å¯ä»¥çœ‹åˆ°<code>@mycompany/rn-npm-demo</code>è¿™ä¸ªæˆ‘ä»¬è‡ªå·±çš„<code>npm</code>ç§æœ‰åº“å·²ç»å®‰è£…æˆåŠŸã€‚</p>
<blockquote>
<p>æç¤ºï¼šä½¿ç”¨<code>npm install https://github.com/lchenfox/rn-npm-demo.git</code>å’Œ<code>yarn add https://github.com/lchenfox/rn-npm-demo.git</code>ç”Ÿæˆçš„åœ¨<code>node_modules</code>ä¸­çš„ä¾èµ–<code>package.json</code>ï¼ˆä¹Ÿå°±æ˜¯<code>node_modules/@mycompany/rn-npm-demo/package.json</code>ï¼‰å†…å®¹æ˜¯ä¸ä¸€æ ·çš„ï¼Œ<code>npm install</code>ä¼šè‡ªåŠ¨ç»™ä½ é…ç½®ä¸€äº›å…¶ä»–è·¯å¾„æˆ–å‚æ•°ï¼Œç”¨<code>yarn add</code>çš„æ–¹å¼ç”Ÿæˆçš„æ–¹å¼çœ‹èµ·æ¥æ¯”è¾ƒæ­£å¸¸ï¼Œè™½ç„¶éƒ½ä¸å½±å“æ­£å¸¸å®‰è£…ä½¿ç”¨ï¼Œä½†æ˜¯æˆ‘ä¸ªäººæ›´æ¨èä½¿ç”¨<code>yarn</code>å·¥å…·æ¥å®‰è£…ä¾èµ–ï¼Œåœ¨é€Ÿåº¦ã€æ•ˆç‡ä¸Šéƒ½æ¯”<code>npm</code>è¦å¥½ï¼Œå½“ç„¶ï¼Œè¿™å–å†³äºä½ çš„å–œå¥½ï¼</p>
</blockquote>
<p>ç°åœ¨ï¼Œåœ¨ä½ çš„é¡¹ç›®ä¸­å¯¼å…¥ä½¿ç”¨è¯•è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;putMsg&#125; from &apos;@mycompany/rn-npm-demo&apos;;</span><br><span class="line"></span><br><span class="line">putMsg(); // Great! you got a private npm package on github!</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡æœ¬æ–‡ï¼Œæˆ‘ä»¬åŸºæœ¬äº†è§£äº†å¦‚ä½•ä»¥<code>npm + github</code>çš„å½¢å¼æ¥æ­å»º<code>npm</code>ç§æœ‰åº“ï¼Œä½†æ˜¯åŒæ ·åœ°ï¼Œå®ƒä¹Ÿæœ‰ç€ä¼˜ç¼ºç‚¹ã€‚</p>
<h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ul>
<li>åŸºäº<code>github</code>ç§æœ‰åº“æ¥æ­å»º<code>npm</code>ç§æœ‰åº“ï¼Œæ­å»ºç®€å•</li>
<li>ç®¡ç†æ–¹ä¾¿ï¼Œåªéœ€è¦ç»´æŠ¤<code>github</code>ç§æœ‰åº“ï¼Œä¸éœ€è¦æœ¬åœ°æ­å»ºæœåŠ¡å™¨ã€æ•°æ®åº“ç­‰</li>
</ul>
<h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul>
<li>åœ¨<code>package.json</code>è®¾ç½®<code>private</code>ä¸º<code>true</code>(ä¸ºäº†ä¿è¯ä¸å°å¿ƒå‘å¸ƒåˆ°<code>npm</code>å®˜æ–¹åº“ï¼‰</li>
<li>å®‰è£…ä¹‹åï¼Œæƒ³è¦æ›´æ–°ï¼Œåªèƒ½é‡æ–°<code>npm install xxx</code></li>
<li>å‘å¸ƒçš„æ—¶å€™ä¸èƒ½ä½¿ç”¨<code>npm</code>çš„ç›¸å…³å‘½ä»¤ï¼Œæ¯”å¦‚<code>npm version patch</code>ã€<code>npm publish</code></li>
<li>æœ‰æ—¶å€™æ‹‰å–éƒ½æ¯”è¾ƒæ…¢ï¼Œæœ‰æ—¶å®¹æ˜“å¤±è´¥</li>
</ul>
]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native</tag>
        <tag>npm</tag>
        <tag>ç§æœ‰ä»“åº“</tag>
        <tag>npm-github</tag>
      </tags>
  </entry>
  <entry>
    <title>verdaccio+ngrokå‘å¸ƒnpmç§æœ‰ä»“åº“</title>
    <url>/2019/12/20/verdaccio%20+%20ngrok%E5%8F%91%E5%B8%83npm%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/</url>
    <content><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>åœ¨ä¸Šä¸€ç¯‡(<a href="https://www.clcoder.com/2019/12/18/%E5%A6%82%E4%BD%95%E5%8F%91%E5%B8%83%E4%BB%A3%E7%A0%81%E5%88%B0npm%E5%AE%98%E6%96%B9%E4%BB%93%E5%BA%93/#more" target="_blank" rel="noopener">å¦‚ä½•å‘å¸ƒä»£ç åˆ°npmå®˜æ–¹ä»“åº“</a>)æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•å°†è‡ªå·±çš„ä»£ç å‘å¸ƒåˆ°<code>npm</code>å®˜æ–¹ä»“åº“ï¼Œé€šè¿‡é‚£ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†è‡ªå·±å†™çš„ä»»ä½•ç»„ä»¶å¼€æºç»™åˆ«äººç”¨ï¼Œå’Œæˆ‘ä»¬æ—¥å¸¸åœ¨<code>github</code>ä¸Šä½¿ç”¨çš„ä¸‰æ–¹åº“æ˜¯ä¸€ä¸ªé“ç†ã€‚æˆ‘ä»¬ä¹Ÿè¯´è¿‡ï¼Œæˆ‘ä»¬å‘å¸ƒçš„ç»„ä»¶æˆ–åŒ…éƒ½æ˜¯å¼€æºçš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è®¿é—®å¹¶ä¸”å¯ä»¥åœ¨<a href="https://www.npmjs.com/" target="_blank" rel="noopener">npmå®˜æ–¹ä»“åº“</a>æœç´¢åˆ°çš„ï¼Œè™½ç„¶<code>npm</code>å®˜æ–¹æä¾›çš„æ”¶è´¹ç‰ˆä¹Ÿå¯ä»¥å‘å¸ƒç§æœ‰ä»“åº“ï¼Œç‰¹åˆ«æ–¹ä¾¿ï¼Œä½†æ˜¯ï¼Œå¤ª<code>TM</code>è´µäº†ï¼æ‰€ä»¥ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ç»§ç»­ä»‹ç»å¦ä¸€ç§ä¸ä½¿ç”¨<code>npmå®˜æ–¹æä¾›çš„æ”¶è´¹ç‰ˆç§æœ‰ä»“åº“</code>çš„æ–¹å¼ï¼Œæ¥æ­å»ºå±äºæˆ‘ä»¬è‡ªå·±çš„ä»…ä»…å…¬å¸å†…éƒ¨å¯ä½¿ç”¨çš„<code>npm</code>ç§æœ‰ä»“åº“ â€“ <code>verdaccio &amp; ngrok</code>ã€‚</p>
<h4 id="verdaccio"><a href="#verdaccio" class="headerlink" title="verdaccio"></a>verdaccio</h4><p>ä¸€ä¸ªè½»é‡çº§çš„<a href="https://github.com/verdaccio/verdaccio" target="_blank" rel="noopener">ç§æœ‰npmä»£ç†æ³¨å†Œè¡¨</a>ï¼Œä½ å¯ä»¥å°†<code>verdaccio</code>ç†è§£ä¸ºä¸€ä¸ª<strong>ç§æœ‰npmä»“åº“æœåŠ¡å™¨</strong>ï¼Œå› ä¸ºä½¿ç”¨<code>verdaccio</code>ï¼Œä½ å¯ä»¥å°†<code>npm</code>åŒ…å‘å¸ƒåˆ°ä½ çš„æœ¬åœ°ä»“åº“ï¼Œæ­¤æ—¶ä½ è‡ªå·±çš„ç”µè„‘å°±æ˜¯ä¸€å°<code>npm</code>ç§æœ‰ä»“åº“æœåŠ¡å™¨ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ç”µè„‘å‘å¸ƒ<code>npm</code>åŒ…ï¼Œå¹¶ä¸”é€šè¿‡<code>npm install</code>æ¥å®‰è£…ä½¿ç”¨ã€‚</p>
<h4 id="ngrok"><a href="#ngrok" class="headerlink" title="ngrok"></a>ngrok</h4><p><a href="https://ngrok.com/" target="_blank" rel="noopener">ngrok</a>å°±æ˜¯ä¸€ä¸ª<a href="https://baike.baidu.com/item/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86" target="_blank" rel="noopener">æ–¹å‘ä»£ç†</a>ï¼Œè¿™é‡Œçš„ä¸»è¦ä½œç”¨æ˜¯å®ç°<a href="https://baike.baidu.com/item/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F" target="_blank" rel="noopener">å†…ç½‘ç©¿é€</a>ï¼Œå› ä¸ºä½¿ç”¨<code>verdaccio</code>æ­å»ºæœ¬åœ°ç§æœ‰<code>npm</code>ä»“åº“æœåŠ¡å™¨åï¼Œä½ çš„ç”µè„‘å°±æ˜¯ä½œä¸ºæœåŠ¡å™¨ä½¿ç”¨ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ç”µè„‘ä¸Šä¸‹è½½ï¼ˆ<code>npm install</code>ï¼‰ã€ä½¿ç”¨ä½ å‘å¸ƒçš„ç§æœ‰<code>npm</code>ä»“åº“ï¼Œä½†æ˜¯å¦ä¸€å°ç”µè„‘æˆ–æœåŠ¡å™¨ä¸Šæ˜¯ä¸èƒ½è®¿é—®çš„ï¼Œä¹Ÿå°±æ˜¯é™¤äº†ä½ ï¼Œå…¶ä»–ä»»ä½•äººéƒ½æ²¡æ³•ä½¿ç”¨ä½ å‘å¸ƒçš„<code>npm</code>ç§æœ‰ä»“åº“ï¼Œå¦‚æœä½ æƒ³è¦åˆ«äººä¹Ÿèƒ½å¤Ÿä½¿ç”¨ä½ å‘å¸ƒçš„<code>npm</code>ç§æœ‰ä»“åº“çš„è¯ï¼Œä½ å¿…é¡»å°†ç±»ä¼¼ç”±<code>verdaccio</code>æœåŠ¡ç”Ÿæˆçš„ç±»ä¼¼<code>http://localhost:4873</code>çš„<code>url</code>æš´éœ²ç»™ä»–äººï¼Œé€šè¿‡<code>ngrok</code>ä½ å¯ä»¥å°†ä½ è‡ªå·±ç”µè„‘ä¸Šçš„æœ¬åœ°<code>url</code>æ˜ å°„åˆ°å¤§åƒä¸–ç•Œï¼Œä»¥è‡³äºåˆ«äººèƒ½å¤Ÿé€šè¿‡æ˜ å°„çš„<code>æ–°url</code>è®¿é—®ä½ çš„<code>npm</code>ç§æœ‰ä»“åº“ã€‚</p>
<h2 id="æ­å»ºnpmç§æœ‰æœ¬åœ°ä»“åº“"><a href="#æ­å»ºnpmç§æœ‰æœ¬åœ°ä»“åº“" class="headerlink" title="æ­å»ºnpmç§æœ‰æœ¬åœ°ä»“åº“"></a>æ­å»ºnpmç§æœ‰æœ¬åœ°ä»“åº“</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>é¦–å…ˆè¦å…¨å±€å®‰è£…<code>verdaccio</code>ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --global verdaccio</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ç®€å†™<code>npm install -g verdaccio</code>ï¼Œä¸¤è€…å¹¶æ²¡åŒºåˆ«ã€‚</p>
</blockquote>
<p>å®‰è£…æˆåŠŸåï¼Œæ¥ç€å¯åŠ¨<code>verdaccio</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">verdaccio</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨ä¹‹åï¼Œä½ åº”è¯¥å°±èƒ½çœ‹åˆ°</p>
<p><img src="https://i.loli.net/2019/12/20/U8CBgPXKbti9d6x.png" alt="verdaccio.png"></p>
<p>å›¾ä¸­çš„<code>http://localhost:4873</code>å°±æ˜¯å¯åŠ¨åçš„æœ¬åœ°æœåŠ¡çš„<code>url</code>ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å®ƒï¼Œä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°</p>
<p><img src="https://i.loli.net/2019/12/20/5zcIlg2ZHdS3raQ.png" alt="verdaccio url.png"></p>
<p>å†…å®¹å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">No Package Published Yet.</span><br><span class="line">To publish your first package just:</span><br><span class="line">1. Login</span><br><span class="line">npm adduser --registry http://localhost:4873</span><br><span class="line"></span><br><span class="line">2. Publish</span><br><span class="line">npm publish --registry http://localhost:4873</span><br><span class="line"></span><br><span class="line">3. Refresh this page.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šè™½ç„¶è¿™é‡Œç™»é™†&amp;å‘å¸ƒéƒ½åœ¨åç¼€æ·»åŠ äº†<code>--registry http://localhost:4873</code>ï¼Œä¹Ÿå°±æ˜¯ä¸ºäº†æŒ‡å®šå‘å¸ƒåœ¨æœ¬åœ°æœåŠ¡<code>http://localhost:4873</code>ä¸Šï¼Œè¿™æ ·ä¹Ÿæ˜¯ä¸ºäº†è¯¯æ“ä½œå‘å¸ƒåˆ°å®˜æ–¹<code>npm</code>ä»“åº“ã€‚ä½†æ˜¯ä¸ºäº†åé¢ä¸æ·»åŠ åç¼€å°±å¯ä»¥å’Œæ­£å¸¸çš„<code>npm</code>æ“ä½œä¸€æ ·ï¼Œä¸ç”¨æ·»åŠ ä»»ä½•åç¼€ï¼Œæˆ‘ä»¬ä¼šç›´æ¥æ›´æ–°<code>npm</code>é»˜è®¤æºï¼Œè§ä¸‹é¢ğŸ‘‡<code>æ›´æ–°é»˜è®¤npmæº</code>ã€‚</p>
</blockquote>
<h3 id="æ›´æ–°é»˜è®¤npmæº"><a href="#æ›´æ–°é»˜è®¤npmæº" class="headerlink" title="æ›´æ–°é»˜è®¤npmæº"></a>æ›´æ–°é»˜è®¤npmæº</h3><p>è®¾ç½®<code>http://localhost:4873</code>ä¸º<code>npm</code>é»˜è®¤æº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config set registry http://localhost:4873</span><br></pre></td></tr></table></figure>

<p>ä¸ºä»€ä¹ˆè¦è®¾ç½®<code>http://localhost:4873</code>ä¸º<code>npm</code>é»˜è®¤æºï¼Ÿ</p>
<p>é¦–å…ˆè¦æ¸…æ¥šçš„æ˜¯ï¼Œæˆ‘ä»¬ç”µè„‘ä¸Š<code>npm</code>çš„é•œåƒæºæ˜¯å®˜æ–¹çš„<code>http://registry.npmjs.org/</code>ï¼Œå› æ­¤å½“æˆ‘ä»¬ä½¿ç”¨<code>npm publish</code>æˆ–è€…<code>npm install</code>çš„æ—¶å€™ï¼Œéƒ½æ˜¯å‘å¸ƒæˆ–å®‰è£…åˆ°<code>npm</code>å®˜æ–¹ä»“åº“ï¼Œå¦‚æœè¿™æ ·çš„è¯ï¼Œä½¿ç”¨<code>verdaccio</code>è¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿæˆ‘ä»¬è¿˜æ€ä¹ˆå‘å¸ƒç§æœ‰åº“ï¼Ÿæ‰€ä»¥æˆ‘ä»¬è¦æœ¬åœ°å‘å¸ƒã€å®‰è£…<code>npm</code>ç§æœ‰ä»“åº“ï¼Œå°±å¿…é¡»è¦ä½¿ç”¨<code>verdaccio</code>çš„é•œåƒæºï¼Œä¹Ÿå°±æ˜¯åˆšæ‰çš„æœ¬åœ°<code>url</code> <strong>â€“</strong> <code>http://localhost:4873</code>ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å½“å‰çš„é•œåƒæº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°é»˜è®¤<code>npm</code>é•œåƒæºåï¼Œä½ åº”è¯¥çœ‹åˆ°èƒ½å¤Ÿçœ‹åˆ°è¾“å‡ºçš„é•œåƒæºæ˜¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ npm config get registry</span><br><span class="line">http://localhost:4873/</span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºç§æœ‰npmç”¨æˆ·"><a href="#åˆ›å»ºç§æœ‰npmç”¨æˆ·" class="headerlink" title="åˆ›å»ºç§æœ‰npmç”¨æˆ·"></a>åˆ›å»ºç§æœ‰npmç”¨æˆ·</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm adduser</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨<code>npm adduser</code>ï¼ˆä½ ä¹Ÿå¯ä»¥ä½¿ç”¨<code>npm login</code>ï¼‰ä¹‹åä¼šè¦æ±‚ä½ è¾“å…¥<code>ç”¨æˆ·å</code>ã€<code>å¯†ç </code>ã€<code>é‚®ç®±</code>ä¸‰ä¸ªä¿¡æ¯ï¼Œç„¶åä¼šåˆ›å»ºä¸€ä¸ª<code>npmæœ¬åœ°è´¦æˆ·</code>ï¼Œä¸ºä»€ä¹ˆè¯´æ˜¯<code>npmæœ¬åœ°è´¦æˆ·</code>ï¼Ÿå› ä¸ºè¿™ä¸ªè´¦å·çš„é•œåƒæºæ˜¯<code>http://localhost:4873</code>è€Œä¸æ˜¯å®˜æ–¹çš„<code>http://registry.npmjs.org/</code>ï¼Œå› æ­¤å¦‚æœä½ ä½¿ç”¨è¿™ä¸ª<code>npmæœ¬åœ°è´¦æˆ·</code>åˆ°å®˜æ–¹ç½‘ç«™ç™»å½•çš„è¯ï¼Œä½ ä¼šå‘ç°ä½ æ— æ³•ç™»å½•ï¼Œæ¢å¥è¯è¯´ï¼Œè¿™ä¸ªè´¦å·å±äºæœ¬åœ°æ‰€æœ‰ï¼Œä¸è¢«å®˜æ–¹<code>npm</code>æ‰€æ‰¿è®¤ï¼Œä¸¤è€…æ˜¯ä¸åŒçš„<code>npm</code>è´¦å·ã€‚</p>
</blockquote>
<h2 id="åˆ›å»ºæœ¬åœ°ç§æœ‰npmåŒ…"><a href="#åˆ›å»ºæœ¬åœ°ç§æœ‰npmåŒ…" class="headerlink" title="åˆ›å»ºæœ¬åœ°ç§æœ‰npmåŒ…"></a>åˆ›å»ºæœ¬åœ°ç§æœ‰npmåŒ…</h2><p>åˆ›å»º<code>npm</code>åŒ…å’Œæˆ‘ä»¬å®˜æ–¹çš„<code>npm</code>åˆ›å»ºå‘å¸ƒåˆ°<code>npm</code>å®˜æ–¹ä»“åº“çš„å‘½ä»¤åŸºæœ¬ä¸€æ ·ï¼Œå¦‚æœä½ è¿˜ä¸ç†Ÿæ‚‰å‘å¸ƒå…¬æœ‰ä»“åº“åˆ°<code>npm</code>å®˜æ–¹ä»“åº“ï¼Œå»ºè®®è¿˜æ˜¯å…ˆçœ‹ä¸€ä¸‹<a href="https://www.clcoder.com/2019/12/18/%E5%A6%82%E4%BD%95%E5%8F%91%E5%B8%83%E4%BB%A3%E7%A0%81%E5%88%B0npm%E5%AE%98%E6%96%B9%E4%BB%93%E5%BA%93/#more" target="_blank" rel="noopener">å¦‚ä½•å‘å¸ƒä»£ç åˆ°npmå®˜æ–¹ä»“åº“</a></p>
<h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><p>åœ¨ä½ æƒ³è¦åˆ›å»º<code>npm</code>ç§æœ‰ä»“åº“çš„æ–‡ä»¶å¤¹ç›®å½•ä¸‹ï¼Œæˆ‘çš„æ˜¯<code>/Users/langke/TestReactNative/verdaccio-dir</code>ï¼Œæ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>

<p>å¡«å†™ç›¸åº”ä¿¡æ¯ï¼Œæˆ‘çš„è¾“å‡ºå¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">This utility will walk you through creating a package.json file.</span><br><span class="line">It only covers the most common items, and tries to guess sensible defaults.</span><br><span class="line"></span><br><span class="line">See `npm help json` for definitive documentation on these fields</span><br><span class="line">and exactly what they do.</span><br><span class="line"></span><br><span class="line">Use `npm install &lt;pkg&gt;` afterwards to install a package and</span><br><span class="line">save it as a dependency in the package.json file.</span><br><span class="line"></span><br><span class="line">Press ^C at any time to quit.</span><br><span class="line">package name: (verdaccio-dir) first-verdaccio-npm-demo</span><br><span class="line">version: (1.0.0)</span><br><span class="line">description: This is the first private npm demo for verdaccio.</span><br><span class="line">entry point: (index.js)</span><br><span class="line">test command:</span><br><span class="line">git repository:</span><br><span class="line">keywords: verdaccio-npm-demo</span><br><span class="line">author: langke</span><br><span class="line">license: (ISC)</span><br><span class="line">About to write to /Users/langke/TestReactNative/verdaccio-dir/package.json:</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;first-verdaccio-npm-demo&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;This is the first private npm demo for verdaccio.&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;keywords&quot;: [</span><br><span class="line">    &quot;verdaccio-npm-demo&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;author&quot;: &quot;langke&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Is this OK? (yes) yes</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä¸€ä¸ª<code>index.js</code>å’Œ<code>README.md</code>æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å†…å®¹ï¼ˆè¿™ä¸€æ­¥éå¿…é¡»ï¼Œæˆ‘è¿™é‡Œåªæ˜¯æ©é¥°ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  verdaccio-dir vi index.js</span><br><span class="line">âœ  verdaccio-dir ls</span><br><span class="line">index.js     package.json</span><br><span class="line">âœ  verdaccio-dir vi README.md</span><br><span class="line">âœ  verdaccio-dir cat README.md</span><br><span class="line"># Getting started</span><br><span class="line"></span><br><span class="line">Hello, world!</span><br></pre></td></tr></table></figure>

<p><code>package.json</code>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;first-verdaccio-npm-demo&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;This is the first private npm demo for verdaccio.&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;keywords&quot;: [</span><br><span class="line">    &quot;verdaccio-npm-demo&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;author&quot;: &quot;langke&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‘å¸ƒæœ¬åœ°npmåŒ…"><a href="#å‘å¸ƒæœ¬åœ°npmåŒ…" class="headerlink" title="å‘å¸ƒæœ¬åœ°npmåŒ…"></a>å‘å¸ƒæœ¬åœ°npmåŒ…</h2><p>å†æ¬¡æé†’ï¼Œè¿™é‡Œå‘å¸ƒçš„<code>npm</code>åŒ…åªåœ¨è‡ªå·±çš„ç”µè„‘ä¸Šï¼Œä¹Ÿå°±æ˜¯æœ¬åœ°çš„<code>http://localhost:4873ï¼ˆè¿™æ˜¯æˆ‘ä»¬åˆšæ‰ç”¨æ¥æ›¿æ¢npmå®˜æ–¹çš„registryæºï¼‰</code>ï¼Œå‘å¸ƒçš„æ˜¯ä¸€ä¸ªåœ¨æœ¬åœ°ç§æœ‰æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªç§æœ‰<code>npm</code>åŒ…ã€‚æ­¤æ—¶ï¼Œåªæœ‰è‡ªå·±èƒ½å¤ŸæŸ¥çœ‹ã€ä¸‹è½½ã€å®‰è£…ï¼Œåˆ«äººæ²¡æœ‰ä»»ä½•æƒé™çš„ã€‚</p>
<p>å‘å¸ƒå‘½ä»¤å’Œæ­£å¸¸<code>npm</code>å‘½ä»¤ä¸€æ ·</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm publish</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç±»ä¼¼å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm notice</span><br><span class="line">npm notice ğŸ“¦  first-verdaccio-npm-demo@1.0.0</span><br><span class="line">npm notice === Tarball Contents ===</span><br><span class="line">npm notice 91B  index.js</span><br><span class="line">npm notice 321B package.json</span><br><span class="line">npm notice 33B  README.md</span><br><span class="line">npm notice === Tarball Details ===</span><br><span class="line">npm notice name:          first-verdaccio-npm-demo</span><br><span class="line">npm notice version:       1.0.0</span><br><span class="line">npm notice package size:  455 B</span><br><span class="line">npm notice unpacked size: 445 B</span><br><span class="line">npm notice shasum:        df639fd12218accfa1949cb933e496ddea020078</span><br><span class="line">npm notice integrity:     sha512-N4TmHO2xcNSL9[...]SINM/KD+TR5EA==</span><br><span class="line">npm notice total files:   3</span><br><span class="line">npm notice</span><br><span class="line">+ first-verdaccio-npm-demo@1.0.0</span><br></pre></td></tr></table></figure>

<p>åˆ°è¿™é‡Œï¼Œè¯´æ˜æœ¬åœ°çš„<code>npm</code>ç§æœ‰åº“å‘å¸ƒæˆåŠŸï¼</p>
<p>åœ¨åˆšæ‰æ‰“å¼€<code>http://localhost:4873</code>çš„é¡µé¢ä¸Šï¼Œåˆ·æ–°é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°</p>
<p><img src="https://i.loli.net/2019/12/20/SGtie3qgHLvf5nu.png" alt="npm publish.png"></p>
<p>çœ‹åˆ°äº†æ²¡ï¼Œè¿™ä¸ª<code>first-verdaccio-npm-demo</code>å°±æ˜¯æˆ‘ä»¬åˆšåˆšå‘å¸ƒçš„<code>npm</code>ç§æœ‰åº“ï¼Œç°åœ¨è‡ªå·±å°±å¯ä»¥åƒæ­£å¸¸ä½¿ç”¨<code>npm</code>å®˜æ–¹çš„å‘½ä»¤é‚£æ ·å®‰è£…åˆ°æœ¬åœ°ä¾èµ–ä½¿ç”¨äº†ã€‚</p>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>æ‰¾åˆ°ä½ çš„é¡¹ç›®ï¼ˆæœ€å¥½æ˜¯æµ‹è¯•é¡¹ç›®ï¼‰ï¼Œå®‰è£…è¯•è¯•(æˆ‘ä½¿ç”¨çš„æ˜¯<code>yarn</code>ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨<code>npm</code>)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add first-verdaccio-npm-demo</span><br></pre></td></tr></table></figure>

<p>ç„¶åå‡ºç°ç±»ä¼¼ä¸‹é¢è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add v1.17.3</span><br><span class="line">[1/4] ğŸ”  Resolving packages...</span><br><span class="line">[2/4] ğŸšš  Fetching packages...</span><br><span class="line">[3/4] ğŸ”—  Linking dependencies...</span><br><span class="line">warning &quot;@react-native-community/eslint-config &gt; @typescript-eslint/eslint-plugin@1.13.0&quot; has incorrect peer dependency &quot;eslint@^5.0.0&quot;.</span><br><span class="line">warning &quot;@react-native-community/eslint-config &gt; @typescript-eslint/parser@1.13.0&quot; has incorrect peer dependency &quot;eslint@^5.0.0&quot;.</span><br><span class="line">warning &quot;@react-native-community/eslint-config &gt; eslint-plugin-react@7.12.4&quot; has incorrect peer dependency &quot;eslint@^3.0.0 || ^4.0.0 || ^5.0.0&quot;.</span><br><span class="line">warning &quot;@react-native-community/eslint-config &gt; eslint-plugin-react-native@3.6.0&quot; has incorrect peer dependency &quot;eslint@^3.17.0 || ^4 || ^5&quot;.</span><br><span class="line">warning &quot;@react-native-community/eslint-config &gt; @typescript-eslint/eslint-plugin &gt; tsutils@3.17.1&quot; has unmet peer dependency &quot;typescript@&gt;=2.8.0 || &gt;= 3.2.0-dev || &gt;= 3.3.0-dev || &gt;= 3.4.0-dev || &gt;= 3.5.0-dev || &gt;= 3.6.0-dev || &gt;= 3.6.0-beta || &gt;= 3.7.0-dev || &gt;= 3.7.0-beta&quot;.</span><br><span class="line">[4/4] ğŸ”¨  Building fresh packages...</span><br><span class="line">success Saved lockfile.</span><br><span class="line">success Saved 1 new dependency.</span><br><span class="line">info Direct dependencies</span><br><span class="line">â””â”€ first-verdaccio-npm-demo@1.0.0</span><br><span class="line">info All dependencies</span><br><span class="line">â””â”€ first-verdaccio-npm-demo@1.0.0</span><br><span class="line">âœ¨  Done in 2.73s.</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2019/12/20/FO8SRPxKa3yXdtM.png" alt="yarn add.png"></p>
<p>å¤ªæ£’äº†ï¼Œåœ¨<code>package.json</code>ä¸­çš„<code>dependencies</code>ä¾èµ–ä¸­ç»ˆäºæˆåŠŸå®‰è£…æˆ‘ä»¬çš„<code>npm</code>ç§æœ‰åº“<code>first-verdaccio-npm-demo</code>äº†ï¼Œç»§ç»­çœ‹ä¸‹<code>node_modules</code>ä¸­</p>
<p><img src="https://i.loli.net/2019/12/20/XNHfdu1MDsSKgWm.png" alt="node_modules.png"></p>
<p>ç°åœ¨ï¼Œå°½æƒ…åœ°åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨è¿™ä¸ªç»„ä»¶å§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;putMsg&#125; from &apos;first-verdaccio-npm-demo&apos;;</span><br><span class="line"></span><br><span class="line">putMsg(); // Great, you got a private npm repository!</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œè¿™æ ·è¿˜ä¸å¤Ÿå•Šï¼åªæœ‰æˆ‘è‡ªå·±å¯ä»¥ä½¿ç”¨ï¼Œé‚£åˆ«äººï¼ˆæ¯”å¦‚å…¬å¸å†…éƒ¨çš„å›¢é˜Ÿæˆå‘˜ï¼‰è¦æ€ä¹ˆæ‰èƒ½å®‰è£…æˆ‘çš„è¿™ä¸ªç§æœ‰åº“å‘¢ï¼Ÿæ˜¯æ—¶å€™ç¥­å‡ºæˆ‘ä»¬çš„å°šæ–¹å®å‰‘<code>ngrok</code>äº†ã€‚</p>
<h2 id="ä½¿ç”¨ngrokè®©æœ¬åœ°npmç§æœ‰åº“å…¬æœ‰åŒ–"><a href="#ä½¿ç”¨ngrokè®©æœ¬åœ°npmç§æœ‰åº“å…¬æœ‰åŒ–" class="headerlink" title="ä½¿ç”¨ngrokè®©æœ¬åœ°npmç§æœ‰åº“å…¬æœ‰åŒ–"></a>ä½¿ç”¨ngrokè®©æœ¬åœ°npmç§æœ‰åº“å…¬æœ‰åŒ–</h2><h4 id="å®‰è£…ngrok"><a href="#å®‰è£…ngrok" class="headerlink" title="å®‰è£…ngrok"></a>å®‰è£…ngrok</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i ngrok -g</span><br></pre></td></tr></table></figure>

<h4 id="æš´éœ²4873ç«¯å£"><a href="#æš´éœ²4873ç«¯å£" class="headerlink" title="æš´éœ²4873ç«¯å£"></a>æš´éœ²4873ç«¯å£</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ngrok http 4873</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç±»ä¼¼å¦‚ä¸‹</p>
<p><img src="https://i.loli.net/2019/12/20/DZ5vGkVdRqtFzLb.png" alt="ngrok.png"></p>
<p>åœ¨ä¸Šå›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>http://8f76570f.ngrok.io -&gt; http://localhost:4873ï¼ˆå½“ç„¶è¿˜æœ‰httpsï¼‰</code>ï¼Œå…¶ä¸­<code>http://8f76570f.ngrok.io</code>å°±æ˜¯æˆ‘ä»¬é€šè¿‡<code>ngrok</code>åå‘ä»£ç†å°†æœ¬åœ°<code>http://localhost:4873</code>å…¬å¼€ç»™å¤–éƒ¨ç¯å¢ƒï¼Œè¿™æ ·ï¼Œåˆ«äººä¹Ÿå¯ä»¥è®¿é—®ä½ åˆšæ‰å‘å¸ƒçš„<code>npm</code>ç§æœ‰åº“<code>first-verdaccio-npm-demo</code>ã€‚ä½ å¯ä»¥åœ¨å¦ä¸€å°ç”µè„‘ä¸Šè®¿é—®<code>http://8f76570f.ngrok.io</code>ï¼Œå®ƒå’Œæˆ‘ä»¬åˆšæ‰åœ¨è‡ªå·±ç”µè„‘ä¸Šè®¿é—®<code>http://localhost:4873</code>æ˜¯ä¸€æ ·çš„ï¼Œå¹¶ä¸”èƒ½å¤Ÿçœ‹åˆ°åˆšåˆšå‘å¸ƒçš„ç§æœ‰åº“ã€‚</p>
<h4 id="ä½¿ç”¨ç§æœ‰åº“"><a href="#ä½¿ç”¨ç§æœ‰åº“" class="headerlink" title="ä½¿ç”¨ç§æœ‰åº“"></a>ä½¿ç”¨ç§æœ‰åº“</h4><p>ç°åœ¨ï¼Œåˆ«äººèƒ½å¤Ÿè®¿é—®æˆ‘ä»¬åˆšæ‰å‘å¸ƒçš„ç§æœ‰åº“äº†ï¼Œä½†æ˜¯ï¼Œè¦æƒ³ä½¿ç”¨åˆšæ‰å‘å¸ƒçš„ç§æœ‰åº“è¿˜éœ€è¦åœ¨ç›¸åº”ç”µè„‘ä¸Šè®¾ç½®<code>npm</code>é•œåƒæºä¸º<code>http://8f76570f.ngrok.io</code>ï¼Œå› ä¸ºé»˜è®¤çš„æ˜¯å®˜æ–¹çš„<code>http://registry.npmjs.org/</code>ï¼Œè¿™å¾ˆå¥½ç†è§£ã€‚</p>
<p>åœ¨è¦è®¿é—®å½“å‰ç”µè„‘ä¸Šçš„<code>npm</code>ç§æœ‰åº“ï¼Œåœ¨å¦ä¸€å°ç”µè„‘ä¸Šæ›´æ–°<code>npm</code>é•œåƒæº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config set registry http://8f76570f.ngrok.io</span><br></pre></td></tr></table></figure>

<p>ç„¶åå®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install first-verdaccio-npm-demo</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œå°±èƒ½å¤Ÿå®ç°é™¤äº†åœ¨æœ¬ç”µè„‘çš„æœåŠ¡ä¸Šä½¿ç”¨<code>npm</code>ç§æœ‰åº“å¤–ï¼Œå›¢é˜Ÿæˆå‘˜ä¹Ÿèƒ½å¤Ÿä½¿ç”¨ç›¸åº”ç§æœ‰åº“äº†ã€‚</p>
<h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><p>è™½ç„¶ä½¿ç”¨ <code>verdaccio + ngrok</code> æ¥éƒ¨ç½²<code>npm</code>ç§æœ‰åº“ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ã€‚</p>
<h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ul>
<li>å®ç°npmç§æœ‰åº“å‘å¸ƒï¼Œä¸å¯¹å¤–å…¬å¼€ï¼ˆé™¤éä½ æŠŠä»£ç†æºæ¯”å¦‚<code>http://8f76570f.ngrok.io</code>ç»™å¤–éƒ¨äººå‘˜ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨<code>~/.config/verdaccio/config.yaml</code>æ·»åŠ è®¿é—®æƒé™ï¼Œé»˜è®¤<code>access: $all</code>ï¼Œè¿™æ ·æœ€ä¿é™©ï¼ˆ<code>verdaccio</code>çš„å…·ä½“é…ç½®ï¼Œè‡ªå·±å»å®˜æ–¹ç½‘ç«™çœ‹å³å¯ï¼‰</li>
</ul>
<p>è¿™é‡Œè¿˜æ˜¯é¡ºä¾¿æä¸€ä¸‹<code>access</code>å­—æ®µï¼Œå¦‚æœä½ è®¾ç½®ä¸º<code>access: $authenticated</code>ï¼Œæ„å‘³ç€ä½ åœ¨ç½‘é¡µæ‰“å¼€ä¹Ÿå¿…é¡»è¦ç™»å½•æ‰èƒ½æŸ¥çœ‹ã€å®‰è£…ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸Šé¢è¯´çš„<code>npm adduser</code>åˆ›å»ºçš„è´¦æˆ·ï¼‰ï¼Œå¦‚æœä½ å·²ç»åœ¨<code>terminal</code>ä¸Šç™»å½•ï¼Œå¹¶ä¸”åœ¨æ‰§è¡Œ<code>npm install</code>çš„æ—¶å€™è¿˜æ˜¯æŠ¥é”™ç±»ä¼¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add v1.17.3</span><br><span class="line">[1/4] ğŸ”  Resolving packages...</span><br><span class="line">error An unexpected error occurred: &quot;http://localhost:4873/first-verdaccio-npm-demo: </span><br><span class="line">authorization required to access package first-verdaccio-npm-demo&quot;.</span><br><span class="line">info If you think this is a bug, please open a bug report with the information </span><br><span class="line">provided in &quot;/Users/langke/TestReactNative/fuckmap/yarn-error.log&quot;.</span><br><span class="line">info Visit https://yarnpkg.com/en/docs/cli/add for documentation about this command.</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆè¯·æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config set always-auth=true</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·çš„è¯ï¼Œä½ åªè¦ç™»å½•ä½ çš„è´¦å·ï¼ˆæ— è®ºæ˜¯æµè§ˆå™¨è¿˜æ˜¯ç»ˆç«¯ï¼‰ï¼Œå°±èƒ½æŸ¥çœ‹/ä¸‹è½½äº†ã€‚é‡è¦çš„æ˜¯ï¼Œå¦‚æœä½ ç”¨<code>npm adduserï¼ˆæˆ–npm loginï¼‰</code>åˆ›å»ºäº†å¤šä¸ªè´¦å·ï¼Œæ¯”å¦‚<code>test1/test123ã€test2/test234</code>ï¼Œé‚£ä¹ˆåœ¨æˆæƒçš„æ—¶å€™ï¼Œä½ å¯ä»¥ç™»å½•å…¶ä¸­ä»»æ„ä¸€ä¸ªçš„è´¦å·éƒ½å¯ä»¥è®¿é—®å’Œä¸‹è½½ï¼ˆå› ä¸ºä½ æ³¨å†Œçš„å¤šä¸ªè´¦å·éƒ½åœ¨ä½ æœ¬æœºçš„<code>verdaccio</code>æœåŠ¡ä¸Šï¼‰ã€‚</p>
<ul>
<li><p>å¯ä»¥ä½¿ç”¨å’Œå®˜æ–¹<code>npm</code>ä¸€æ ·çš„å‘½ä»¤ï¼Œæ¯”å¦‚<code>npm version patch</code></p>
</li>
<li><p>æ“ä½œã€é…ç½®ç®€å•ï¼ŒåŸºæœ¬æ— éš¾åº¦</p>
</li>
<li><p>verdaccioæœ¬èº«è‡ªå¸¦å°å‹æ•°æ®åº“ï¼Œå¯ç¼“å­˜å·²ç»<code>npm install</code>è¿‡çš„ç§æœ‰åº“ï¼ˆå¦‚æœç½‘ç»œä¸å¥½æˆ–è·å–ä¸åˆ°æœ¬å°ç”µè„‘ä¸Šçš„ç§æœ‰åº“çš„è¯ï¼Œä¼šä»ç¼“å­˜ä¸­è·å–ï¼‰</p>
</li>
</ul>
<h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul>
<li><p>å¯èƒ½ä¼šç»å¸¸è¦åˆ‡æ¢<code>npm</code>ä»£ç†æºï¼Œå› ä¸ºæœ‰æ—¶å€™ä½ å¯èƒ½ä¼šä½¿ç”¨å®˜æ–¹ä»“åº“ï¼Œå°±å¾—åˆ‡æ¢å®˜æ–¹æˆ–å…¶ä»–ä»£ç†æºï¼Œå†ç”¨ç§æœ‰åº“çš„æ—¶å€™åˆå¾—åˆ‡æ¢å›æ¥ï¼ˆå›¢é˜Ÿæˆå‘˜è¦å®‰è£…å·²æ›´æ–°çš„<code>npm</code>åŒ…ä¸€æ ·è¦è®¾ç½®ï¼‰</p>
</li>
<li><p><code>verdaccio</code>æœåŠ¡å’Œ<code>ngrok</code>æœåŠ¡è¦ä¿æŒå¼€ç€ï¼Œä¸€æ—¦æ–­å¼€ï¼Œä»»ä½•äººï¼ˆåŒ…æ‹¬æœ¬æœºï¼‰éƒ½æ— æ³•å®‰è£…å’Œå‘å¸ƒï¼Œåªèƒ½é‡æ–°å¯åŠ¨<code>verdaccio</code>å’Œ<code>ngrok</code>æœåŠ¡ï¼Œå¯¹æ–¹å¦‚æœæƒ³è¦æ›´æ–°æœ€æ–°å‘å¸ƒçš„ç§æœ‰åº“ç‰ˆæœ¬ï¼Œä¹Ÿè¦é‡æ–°è®¾ç½®<code>ngrok</code>äº§ç”Ÿçš„ç±»ä¼¼<code>http://8f76570f.ngrok.io</code>çš„é•œåƒæºï¼ˆæœ¬æœºå¦‚æœè®¾ç½®<code>npm config set registry http://localhost:4873</code>å°±ä¸ç”¨ï¼Œå› ä¸º<code>http://localhost:4873</code>æ˜¯ä¸å˜çš„ï¼Œå˜çš„åªæ˜¯æ˜ å°„å‡ºå»çš„<code>http://8f76570f.ngrok.io</code>ï¼‰</p>
</li>
<li><p>ngrokæœåŠ¡å™¨åœ¨å›½å¤–ï¼Œæœ‰æ—¶ä¼šæ¯”è¾ƒæ…¢</p>
</li>
<li><p>ngrokä»£ç†çš„é•œåƒæºæ¯”å¦‚<code>http://8f76570f.ngrok.io</code>æ²¡æœ‰å›ºå®š<code>url</code>ï¼Œæ¯ä¸€æ¬¡æ‰§è¡Œ<code>ngrok http 4873</code>ï¼Œéƒ½ä¼šæ”¹å˜ã€‚å› æ­¤å¦‚æœåœ¨æ–°ç”µè„‘æˆ–è€…å…¶ä»–äººè®¾ç½®è¿‡<code>http://8f76570f.ngrok.io</code>ä½œä¸ºé•œåƒæºï¼Œåœ¨æœ¬æœºä¸Šå†æ¬¡æ‰§è¡Œ<code>ngrok http 4873</code>åï¼Œå¯¹æ–¹ä¹Ÿè¦è·Ÿç€é‡æ–°è®¾ç½®ç±»ä¼¼çš„<code>npm config set registry http://8f76570f.ngrok.io</code>æ“ä½œï¼Œè¿™æ˜¾ç„¶å¾ˆéº»çƒ¦ï¼ˆå› ä¸ºä½¿ç”¨çš„æ˜¯å…è´¹ç‰ˆï¼Œæ”¶è´¹ç‰ˆå¯ä»¥ä»£ç†å›ºå®šçš„<code>url</code>ï¼Œä½†å¦‚æœé‚£æ ·çš„è¯ï¼Œé‚£ä¸ºä½•ä¸ä½¿ç”¨<code>npm</code>å®˜æ–¹æä¾›çš„æ”¶è´¹ç‰ˆå‘¢ï¼Ÿï¼‰</p>
</li>
<li><p><code>http://8f76570f.ngrok.io</code>åœ¨æ¯åˆ†é’Ÿå†…è®¿é—®æœ‰é™åˆ¶ï¼Œè®¿é—®å¤ªå¿«ï¼Œæµè§ˆå™¨ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯(æ¢å¤ä¹Ÿè¾ƒå¿«ï¼Œ30ç§’å·¦å³ï¼Œå¯è‡ªå·±å°è¯•)ï¼š</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Too Many Connections</span><br><span class="line">Too many connections! The tunnel session &apos;1VF8JMx9QsgS6GcWS9gPBZyQQO4&apos; has violated </span><br><span class="line">the rate-limit policy of 20 connections per minute by initiating 37 connections in </span><br><span class="line">the last 60 seconds. Please decrease your inbound connection volume or upgrade to </span><br><span class="line">a paid plan for additional capacity.</span><br><span class="line"></span><br><span class="line">The error encountered was: ERR_NGROK_702</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä½¿ç”¨<code>verdaccio + ngrok</code>é…ç½®èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œä¹Ÿèƒ½è¿åˆ<code>npm</code>çš„ç›¸å…³å‘½ä»¤ï¼Œå®‰è£…å’Œæ“ä½œéƒ½ç‰¹åˆ«ç®€å•ï¼Œ<code>verdaccio</code>ä¹Ÿæä¾›æœ¬åœ°ç¼“å­˜ï¼Œè¿™ä¸ªå¾ˆæ£’ã€‚ä½†æ˜¯é€Ÿåº¦è¿™ä¸€å—ä»¥åŠ<code>ngrok</code>äº§ç”Ÿçš„ä»£ç†æºä¸å›ºå®šï¼Œå›¢é˜Ÿåä½œå®‰è£…è¾ƒä¸ºéº»çƒ¦ï¼Œè¿™ä¸ªæœ‰æ—¶å€™çœŸçš„ä¸èƒ½å¿å—ï¼ˆå¯ä»¥çœ‹ä¸Šé¢çš„ä¼˜ç¼ºç‚¹ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœèƒ½æ¥å—çš„è¯ï¼Œè¿™ä¹Ÿä¸å¤±ä¸ºä¸€ä¸ªé€‰æ‹©ã€‚å¦‚æœä½ æœ‰æ¯”<code>ngrok</code>æ›´å¥½ç”¨çš„åä»£ç†æˆ–è€…å…¶ä»–å·¥å…·ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚ä¸‹ä¸€ç« æˆ‘ä¼šä»‹ç»<a href="http://www.clcoder.com/2019/12/23/%E5%9F%BA%E4%BA%8Egithub%E5%AE%9E%E7%8E%B0npm%E7%A7%81%E6%9C%89%E5%BA%93%E7%9A%84%E6%90%AD%E5%BB%BA/#more" target="_blank" rel="noopener">åŸºäºgithubå®ç°npmç§æœ‰åº“çš„æ­å»º</a>ã€‚</p>
<p>å‚è€ƒæ–‡ç« ï¼š<a href="https://medium.com/strapi/testing-your-npm-package-before-releasing-it-using-verdaccio-ngrok-28e2832c850a" target="_blank" rel="noopener">Testing your npm package before releasing it using Verdaccio + ngrok</a></p>
]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native</tag>
        <tag>npm</tag>
        <tag>ç§æœ‰ä»“åº“</tag>
        <tag>verdaccio-ngrok</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€RNã€‘å¦‚ä½•å‘å¸ƒä»£ç åˆ°npmå®˜æ–¹ä»“åº“</title>
    <url>/2019/12/18/%E5%A6%82%E4%BD%95%E5%8F%91%E5%B8%83%E4%BB%A3%E7%A0%81%E5%88%B0npm%E5%AE%98%E6%96%B9%E4%BB%93%E5%BA%93/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬æƒ³æŠŠè‡ªå·±çš„ç»„ä»¶åƒåœ¨<code>github</code>ä¸Šæä¾›çš„ä»¥<code>npm</code>æ–¹å¼å®‰è£…åˆ°æœ¬åœ°çš„æ–¹å¼ç»™åˆ«äººç”¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ°<a href="https://www.npmjs.com/" target="_blank" rel="noopener">npmå®˜æ–¹ç½‘ç«™</a>æ³¨å†Œè‡ªå·±çš„è´¦å·å¹¶ä»¥<code>CLI</code>çš„å½¢å¼å°†è‡ªå·±çš„ä»£ç å‘å¸ƒåˆ°<code>npmå®˜æ–¹ä»“åº“</code>ã€‚</p>
<p>ä½†æ˜¯ï¼Œç›®å‰æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å‘å¸ƒåˆ°<code>npmå®˜æ–¹ä»“åº“</code>çš„ç»„ä»¶æˆ–åº“éƒ½æ˜¯<strong>å…¬å¼€çš„</strong>ï¼Œè¿™æ„å‘³ç€æ˜¯å¼€æºçš„ï¼Œä¹Ÿå°±æ˜¯<strong>ä»»ä½•äººéƒ½å¯ä»¥æœç´¢åˆ°ä½ å‘å¸ƒçš„è¿™ä¸ªä»“åº“å¹¶ä¸”å®‰è£…ä½¿ç”¨</strong>ã€‚</p>
<p>å®˜æ–¹ç›®å‰æä¾›<code>2</code>ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯å…è´¹çš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åˆšæ‰è¯´çš„å…¬å¼€çš„ï¼Œè¿™ç§æ–¹å¼ä¸ä¼šé™åˆ¶ä½ å‘å¸ƒå¤šå°‘åŒ…åˆ°<code>npm</code>ï¼Œä½ å‘å¸ƒåä¸ªã€ç™¾ä¸ªç”šè‡³ä¸Šåƒä¸ªéƒ½è¡Œï¼Œåªè¦ä½ å¼€å¿ƒï¼Œæƒ³å‘å°±å‘ï¼›å¦ä¸€ç§æ–¹å¼æ˜¯æ”¶è´¹çš„ï¼Œå…·ä½“çš„ä»·æ ¼<a href="https://www.npmjs.com/products" target="_blank" rel="noopener">npmå®˜æ–¹ä»·æ ¼è¯´æ˜</a>ï¼Œå½“ç„¶ï¼Œè¿™ç§æ”¶è´¹çš„å¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å‘å¸ƒ<strong>ç§æœ‰ä»“åº“</strong>ï¼Œè¿™ç§<strong>ç§æœ‰ä»“åº“</strong>åˆ«äººæœªç»æˆæƒæ˜¯çœ‹ä¸åˆ°æ‘¸ä¸ç€ã€‚å¦‚æœä½ åªæ˜¯æƒ³æŠŠè‡ªå·±çš„ç»„ä»¶å¼€æºç»™åˆ«äººç”¨ï¼Œå‘æ‰¬å¼€æºç²¾ç¥ï¼Œé‚£ä¹ˆä½¿ç”¨å…è´¹çš„å°±å¯ä»¥äº†ï¼Œå¦‚æœä½ ä¸æƒ³æä¾›ç»™åˆ«äººç”¨ï¼Œæ¯”å¦‚è¯´æ˜¯å…¬å¸å†…éƒ¨çš„ä¸€äº›ä¸šåŠ¡ç»„ä»¶ã€åŠŸèƒ½ç»„ä»¶ç­‰ï¼Œé‚£ä¹ˆé™¤äº†<code>npm</code>å®˜æ–¹æ”¶è´¹çš„æ–¹å¼ä»¥å¤–ï¼Œä¹Ÿæœ‰ä¸€äº›å…¶ä»–åˆ›å»º<strong>ç§æœ‰npmä»“åº“</strong>çš„æ–¹å¼ã€‚ä½†æ˜¯åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œåªè®²å‘å¸ƒ<strong>å…è´¹ç‰ˆ</strong>çš„ä»“åº“ã€‚</p>
<h2 id="æ³¨å†Œ"><a href="#æ³¨å†Œ" class="headerlink" title="æ³¨å†Œ"></a>æ³¨å†Œ</h2><p>é¦–å…ˆç¬¬ä¸€ä»¶äº‹å°±æ˜¯æ³¨å†Œï¼Œ<strong>ä½ å¿…é¡»æ‹¥æœ‰ä¸€ä¸ªnpmè´¦å·æ‰èƒ½å‘å¸ƒåŒ…</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªå¿…é¡»çš„æ­¥éª¤ã€‚</p>
<ul>
<li>1.<a href="https://www.npmjs.com/" target="_blank" rel="noopener">npmå®˜æ–¹ç½‘ç«™</a>ï¼Œç‚¹å‡»<code>Sign Up</code></li>
</ul>
<p><img src="https://i.loli.net/2019/12/18/ZhRYnaHIl1MNcG3.png" alt="Sign Up.png"></p>
<ul>
<li>2.å¡«å†™æ³¨å†Œä¿¡æ¯ï¼Œç„¶åç‚¹å‡»<code>Create an Account</code></li>
</ul>
<p><img src="https://i.loli.net/2019/12/18/Vwar9YP3XB5OGy4.png" alt="Sign Up.png"></p>
<ul>
<li>3.ç™»å½•é‚®ç®±ï¼Œå°†ç±»ä¼¼çº¢æ¡†ä¸­çš„é“¾æ¥å¤åˆ¶åˆ°ä½ çš„æµè§ˆå™¨ä¸­ï¼Œå›è½¦ï¼ŒéªŒè¯å®Œæ¯•</li>
</ul>
<p><img src="https://i.loli.net/2019/12/18/4KdZJtUsyYQmqXA.png" alt="Verify Email.png"></p>
<ul>
<li>4.æ³¨å†ŒæˆåŠŸï¼Œä½ å°†çœ‹åˆ°å¦‚ä¸‹ç•Œé¢</li>
</ul>
<p><img src="https://i.loli.net/2019/12/18/R5H94eqfsn3J1Uh.png" alt="Success.png"></p>
<h2 id="åˆ›å»º-amp-å‘å¸ƒåŒ…"><a href="#åˆ›å»º-amp-å‘å¸ƒåŒ…" class="headerlink" title="åˆ›å»º&amp;å‘å¸ƒåŒ…"></a>åˆ›å»º&amp;å‘å¸ƒåŒ…</h2><ul>
<li>1.æ‰“å¼€<code>terminal</code>ï¼Œéšä¾¿æ‰¾ä¸€ä¸ªæ–‡ä»¶å¤¹ä½œä¸ºæµ‹è¯•ä»“åº“ï¼Œæ‰§è¡Œ<code>npm adduser</code></li>
</ul>
<p><img src="https://i.loli.net/2019/12/18/TDpUZVaYlxEArmb.png" alt="init.png"></p>
<blockquote>
<p>å›¾ä¸­çš„<code>langke_npm</code>æ˜¯æˆ‘è‡ªå·±éšä¾¿åˆ›å»ºçš„æ–‡ä»¶å¤¹ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±éšæ„å‘½ååˆ›å»ºï¼Œå¼€å¿ƒå°±å¥½ã€‚å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨<code>npm login</code>æ¥ä»£æ›¿å‘½ä»¤<code>npm adduser</code>ï¼Œä¸¤è€…å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå¦‚æœä¸ä¿¡ï¼Œé‚£å°±çœ‹è¿™é‡Œ<a href="https://docs.npmjs.com/cli/adduser.html" target="_blank" rel="noopener">è§è¯†ä¸€ä¸‹å®˜æ–¹npm login &amp; npm adduser</a>ã€‚ç„¶åï¼Œè¾“å…¥ç”¨æˆ·åã€å¯†ç ã€é‚®ç®±ï¼Œæ³¨æ„ï¼Œè¾“å…¥å¯†ç çš„æ—¶å€™ä½ æ˜¯çœ‹ä¸è§çš„ï¼Œè¿™æ˜¯<code>terminal</code>ä¸ºäº†ä¿æŠ¤ä½ çš„å®‰å…¨ï¼Œåšäº†éšè—ï¼Œå‡ºç°ç±»ä¼¼<code>Logged in as langke007 on http://registry.npmjs.org/.</code>ï¼Œä½ å·²ç»ç™»å½•æˆåŠŸã€‚</p>
</blockquote>
<ul>
<li>2.åˆå§‹åŒ–ä»“åº“ï¼Œæ‰§è¡Œ<code>npm init</code></li>
</ul>
<p><img src="https://i.loli.net/2019/12/18/LEk45XIV8bUORMA.gif" alt="npm init.gif"></p>
<blockquote>
<p>æ‰§è¡Œ<code>npm init</code>åï¼Œä¼šå¡«å†™ä¸€äº›ç›¸åº”ä¿¡æ¯ï¼Œæ ¹æ®æç¤ºå¡«å†™å³å¯ï¼Œæ²¡ä»€ä¹ˆéš¾åº¦ï¼Œç»“æŸåä¼šç”Ÿæˆä¸€ä¸ª<code>package.json</code>æ–‡ä»¶ï¼Œé‡Œé¢å°±åŒ…å«ä½ å¡«å†™çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p>
</blockquote>
<ul>
<li>3.åˆ›å»º<code>README.md</code>ã€<code>index.js</code>æ–‡ä»¶</li>
</ul>
<p><img src="https://i.loli.net/2019/12/18/nEWZzSJy3u9Hq6V.png" alt="instruction.png"></p>
<ul>
<li>4.å‘å¸ƒï¼Œæ‰§è¡Œ<code>npm publish</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  langke_npm npm publish</span><br><span class="line">npm notice</span><br><span class="line">npm notice ğŸ“¦  langke_npm_demo@1.0.0</span><br><span class="line">npm notice === Tarball Contents ===</span><br><span class="line">npm notice 60B  index.js</span><br><span class="line">npm notice 292B package.json</span><br><span class="line">npm notice 33B  README.md</span><br><span class="line">npm notice === Tarball Details ===</span><br><span class="line">npm notice name:          langke_npm_demo</span><br><span class="line">npm notice version:       1.0.0</span><br><span class="line">npm notice package size:  410 B</span><br><span class="line">npm notice unpacked size: 385 B</span><br><span class="line">npm notice shasum:        730c17ff5fd22e05d0a1e05088b74066667c292d</span><br><span class="line">npm notice integrity:     sha512-+80RanxwwDwTv[...]ZJDWYN+EDm37w==</span><br><span class="line">npm notice total files:   3</span><br><span class="line">npm notice</span><br><span class="line">+ langke_npm_demo@1.0.0</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2019/12/18/6HcM3zBEU5DCPIk.gif" alt="npm publish.gif"></p>
<blockquote>
<p>è¿›å…¥åˆ°ç½‘é¡µï¼Œä½ å°±å¯ä»¥çœ‹åˆ°åˆšæ‰æ‰€å‘å¸ƒçš„åŒ…ï¼Œå…·ä½“è§ä¸Šå›¾ã€‚å¦‚æœå‘å¸ƒé‡åˆ°ç±»ä¼¼<code>npm ERR! no_perms Private mode enable, only admin can publish this module</code>çš„é”™è¯¯ï¼Œåº”è¯¥æ˜¯é•œåƒæºçš„é—®é¢˜ï¼Œä½¿ç”¨å®˜æ–¹é•œåƒæºï¼Œæ‰§è¡Œ<code>npm config set registry http://registry.npmjs.org</code>ã€‚</p>
</blockquote>
<h2 id="ä½¿ç”¨åˆšæ‰å‘å¸ƒçš„åŒ…"><a href="#ä½¿ç”¨åˆšæ‰å‘å¸ƒçš„åŒ…" class="headerlink" title="ä½¿ç”¨åˆšæ‰å‘å¸ƒçš„åŒ…"></a>ä½¿ç”¨åˆšæ‰å‘å¸ƒçš„åŒ…</h2><p>æˆ‘è¿™é‡Œæ˜¯<code>React Native</code>é¡¹ç›®ï¼Œä½†æ˜¯éƒ½æ˜¯ä¸€æ ·çš„é“ç†ï¼Œåˆ°æ ¹ç›®å½•ä¸‹æ‰§è¡Œ</p>
<ul>
<li>1.å®‰è£…</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install langke_npm_demo</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨é¡¹ç›®ä¸­çš„æ–‡ä»¶é‡Œå¯¼å…¥</p>
<ul>
<li>2.ä½¿ç”¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;printHello&#125; from &apos;langke_npm_demo&apos;;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">printHello()</span><br></pre></td></tr></table></figure>

<h2 id="å–æ¶ˆå‘å¸ƒ"><a href="#å–æ¶ˆå‘å¸ƒ" class="headerlink" title="å–æ¶ˆå‘å¸ƒ"></a>å–æ¶ˆå‘å¸ƒ</h2><p>ä½¿ç”¨å‘½ä»¤<code>npm unpublish &lt;package-name&gt; -f</code>æ¥å–æ¶ˆå‘å¸ƒï¼Œè¿™æ ·çš„è¯ï¼Œä½ åˆšæ‰å‘å¸ƒçš„åŒ…å°±ä¼šè¢«æ’¤å›ï¼Œç­‰äºæ²¡æœ‰å‘å¸ƒï¼</p>
<p><img src="https://i.loli.net/2019/12/18/nP2IotwfBvAJESK.gif" alt="npm unpublish.gif"></p>
<h2 id="åœ¨æ–°ç”µè„‘æˆ–è€…æ–°ç›®å½•ä¸‹æ›´æ–°å¹¶å‘å¸ƒå·²æœ‰çš„npmåŒ…"><a href="#åœ¨æ–°ç”µè„‘æˆ–è€…æ–°ç›®å½•ä¸‹æ›´æ–°å¹¶å‘å¸ƒå·²æœ‰çš„npmåŒ…" class="headerlink" title="åœ¨æ–°ç”µè„‘æˆ–è€…æ–°ç›®å½•ä¸‹æ›´æ–°å¹¶å‘å¸ƒå·²æœ‰çš„npmåŒ…"></a>åœ¨æ–°ç”µè„‘æˆ–è€…æ–°ç›®å½•ä¸‹æ›´æ–°å¹¶å‘å¸ƒå·²æœ‰çš„npmåŒ…</h2><p>å¦‚æœä½ æ¢äº†ä¸€å°æ–°ç”µè„‘ï¼Œæˆ–è€…åˆ é™¤äº†åˆšæ‰æ‰€åˆ›å»ºçš„<code>npm</code>åŒ…ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨æ–°ç”µè„‘æˆ–è€…æ–°ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install &lt;package-name&gt;</span><br></pre></td></tr></table></figure>

<p>å®‰è£…ç»“æŸåï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ª<code>node_modules</code>æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä½ åˆšæ‰åˆ›å»ºçš„<code>npm</code>åŒ…ï¼Œç„¶åä¸€åˆ‡éƒ½å’Œå‰é¢çš„å‘å¸ƒä¸€æ ·ï¼Œä¿®æ”¹ä»»æ„ä½ æƒ³ä¿®æ”¹çš„æ–‡ä»¶ï¼Œåœ¨æœ‰<code>package.json</code>æ–‡ä»¶çš„ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ<code>npm publish</code>å°±å¯ä»¥äº†ã€‚ä½†æ˜¯è¦è®°ä½ï¼Œæ¯ä¸€æ¬¡å‘å¸ƒ<code>npm</code>åŒ…éƒ½éœ€è¦ä¿®æ”¹ç‰ˆæœ¬å·ï¼Œå¦åˆ™ä½ å°†å‘å¸ƒå¤±è´¥ï¼å…·ä½“ä¿®æ”¹ç‰ˆæœ¬å·åé¢ä¹Ÿæœ‰å¸¸ç”¨çš„é…å¥—å‘½ä»¤ä»‹ç»ï¼Œå¾€ä¸‹çœ‹ï¼Œæ²¡å…´è¶£çš„è¯ï¼Œå°±åˆ°æ­¤ä¸ºæ­¢ã€‚</p>
<h2 id="å…³è”github"><a href="#å…³è”github" class="headerlink" title="å…³è”github"></a>å…³è”github</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬çœ‹åˆ°åˆ«äººå‘å¸ƒåˆ°<code>npm</code>å®˜æ–¹ä»“åº“çš„åŒ…ï¼Œå…·æœ‰å¦‚ä¸‹çº¢æ¡†ä¸­çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯å…³è”åˆ°<code>github</code>ï¼ŒåŒ…æ‹¬<code>Issues</code>ã€<code>Pull Requests</code>ç­‰ç­‰</p>
<p><img src="https://i.loli.net/2019/12/18/zvshy1cAudSNgfJ.png" alt="sample.png"></p>
<p>ä¸ºäº†è®©æˆ‘ä»¬çš„å…¬å…±ä»“åº“ä¹Ÿèƒ½å…³è”åˆ°<code>github</code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»º<code>npm</code>åŒ…çš„æ—¶å€™å¡«å†™<code>git repository</code>ä¸€æ å¡«å†™<code>github</code>çš„æŸä¸ªä»“åº“çš„<code>https</code>åœ°å€ï¼Œå¦‚ä¸‹</p>
<p><img src="https://i.loli.net/2019/12/18/iqIJEYM1fSTalsQ.gif" alt="npm github.gif"></p>
<blockquote>
<p>è¿™é‡Œæˆ‘å·²ç»æå‰åœ¨<code>github</code>ä¸Šåˆ›å»ºäº†ä¸€ä¸ª<code>langke-npm-demo1</code>çš„ä»“åº“äº†ï¼Œæ‰€ä»¥å…³è”åœ°å€çš„æ—¶å€™ï¼Œä¹‹åå¤åˆ¶è¿‡å»å°±å¥½äº†ã€‚</p>
</blockquote>
<h2 id="ä¸€äº›å¸¸ç”¨npmå‘½ä»¤ä»‹ç»"><a href="#ä¸€äº›å¸¸ç”¨npmå‘½ä»¤ä»‹ç»" class="headerlink" title="ä¸€äº›å¸¸ç”¨npmå‘½ä»¤ä»‹ç»"></a>ä¸€äº›å¸¸ç”¨npmå‘½ä»¤ä»‹ç»</h2><ul>
<li>æŸ¥çœ‹å½“å‰ç™»å½•çš„npmç”¨æˆ·</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm whoami</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹npmé…ç½®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config ls</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„npmé•œåƒæº</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ‡æ¢npmé•œåƒæº</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config set registry ã€è¿™é‡Œæ˜¯é•œåƒæºurlã€‘</span><br></pre></td></tr></table></figure>

<h3 id="npmä¿®æ”¹ç‰ˆæœ¬å·"><a href="#npmä¿®æ”¹ç‰ˆæœ¬å·" class="headerlink" title="npmä¿®æ”¹ç‰ˆæœ¬å·"></a>npmä¿®æ”¹ç‰ˆæœ¬å·</h3><p>æ¯”å¦‚è¦å°†ç‰ˆæœ¬å·ä»<code>1.0.0</code>ä¿®æ”¹ä¸º<code>2.0.0</code>ï¼Œæœ‰<code>2</code>ç§æ–¹å¼</p>
<h4 id="ä¸€-æ‰‹åŠ¨ä¿®æ”¹"><a href="#ä¸€-æ‰‹åŠ¨ä¿®æ”¹" class="headerlink" title="ä¸€ æ‰‹åŠ¨ä¿®æ”¹"></a>ä¸€ æ‰‹åŠ¨ä¿®æ”¹</h4><p>ç›´æ¥ä¿®æ”¹<code>package.json</code>æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·</p>
<p>åŸæ¥çš„<code>package.json</code>å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;react-native-demo-for-npm&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;this is just a npm demo&quot;,</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä¸º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;react-native-demo-for-npm&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;2.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;this is just a npm demo&quot;,</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="äºŒ-å‘½ä»¤ä¿®æ”¹"><a href="#äºŒ-å‘½ä»¤ä¿®æ”¹" class="headerlink" title="äºŒ å‘½ä»¤ä¿®æ”¹"></a>äºŒ å‘½ä»¤ä¿®æ”¹</h4><ul>
<li>1.ä¿®æ”¹æŒ‡å®šç‰ˆæœ¬å·</li>
</ul>
<p>åœ¨æœ‰<code>package.json</code>çš„å½“å‰ç›®å½•ä¸‹ï¼Œä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm version æ–°ç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm version 2.0.0</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·çš„è¯ï¼Œåœ¨å‘å¸ƒä¹‹å‰ï¼Œå°±å¯ä»¥å°†ç‰ˆæœ¬å·ä»<code>1.0.0</code>ä¿®æ”¹ä¸º<code>2.0.0</code>äº†ã€‚</p>
<ul>
<li>2.ç”±npmå‘½ä»¤ç”Ÿæˆæœ‰åºç‰ˆæœ¬å·</li>
</ul>
<p>2.1) ä¿®æ”¹ä¸»ç‰ˆæœ¬å·ï¼Œå¦‚æœå½“å‰ç‰ˆæœ¬å·æ˜¯<code>1.0.0</code>ï¼Œè¦ä¿®æ”¹ä¸º<code>2.0.0</code>ï¼Œä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm version major</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ç§æ–¹å¼ä¸€èˆ¬ç”¨äºåŒ…çš„å¤§å¹…åº¦æ”¹åŠ¨ï¼Œå¦‚å¢åŠ äº†å¤§é‡äº†<code>API</code>æˆ–è€…å‘ç”Ÿå…¶ä»–å¤§é‡çš„å†…å®¹ä¿®æ”¹ã€‚</p>
</blockquote>
<p>2.2) ä¿®æ”¹æ¬¡ç‰ˆæœ¬å·ï¼Œæ¯”å¦‚å½“å‰ç‰ˆæœ¬å·æ˜¯<code>1.0.0</code>ï¼Œè¦ä¿®æ”¹ä¸º<code>1.1.0</code>ï¼Œä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm version minor</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ç§æ–¹å¼ä¸€èˆ¬ç”¨äºåŒ…çš„å°å¹…åº¦æ”¹åŠ¨ï¼Œæ¯”å¦‚å¢åŠ äº†ä¸€äº›<code>API</code>çš„å‰åå…¼å®¹ï¼Œæ‰©å±•ç­‰ç­‰ã€‚</p>
</blockquote>
<p>2.3ï¼‰ä¿®æ”¹è¡¥ä¸ç‰ˆæœ¬å·ï¼Œæ¯”å¦‚å½“å‰ç‰ˆæœ¬å·æ˜¯<code>1.0.0</code>ï¼Œè¦ä¿®æ”¹ä¸º<code>1.0.1</code>ï¼Œä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm version patch</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ç§æ–¹å¼ä¸€èˆ¬ç”¨äºæ‰“è¡¥ä¸ï¼Œä¹Ÿå°±æ˜¯ä¸€äº›<code>bug</code>ä¿®å¤ï¼Œæ²¡æœ‰åšå…¶ä»–å¤ªå¤§çš„å†…å®¹å˜åŒ–ã€‚</p>
</blockquote>
<ul>
<li>æŸ¥çœ‹å·²å‘å¸ƒçš„npmåŒ…æ‰€æœ‰ç‰ˆæœ¬</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm view react-native-demo-for-npm versions</span><br></pre></td></tr></table></figure>

<h3 id="æ’¤é”€å·²ç»å‘å¸ƒçš„åŒ…"><a href="#æ’¤é”€å·²ç»å‘å¸ƒçš„åŒ…" class="headerlink" title="æ’¤é”€å·²ç»å‘å¸ƒçš„åŒ…"></a>æ’¤é”€å·²ç»å‘å¸ƒçš„åŒ…</h3><ul>
<li>ä¸€ æ’¤é”€æ•´ä¸ªåŒ…</li>
</ul>
<p>1.1ï¼‰å¦‚æœå·²ç»å°†<code>npm</code>åŒ…å‘å¸ƒåˆ°è¿œç¨‹<code>npm</code>ä»“åº“ï¼Œä½†æ˜¯åˆæƒ³æ’¤é”€å‘å¸ƒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm unpublish &lt;package-name&gt; -f</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚ï¼Œå·²ç»å‘å¸ƒåˆ°<code>npm</code>ä»“åº“çš„åŒ…åå«åš<code>react-native-demo</code>ï¼Œé‚£ä¹ˆè¿è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm unpublish react-native-demo -f</span><br></pre></td></tr></table></figure>

<p>åˆ™<code>react-native-demo</code>å°±ä»<code>npm</code>ä»“åº“ä¸Šåˆ é™¤äº†ï¼Œä½ ä¹Ÿæ— æ³•å†ä»<code>npm</code>ä»“åº“æœç´¢åˆ°è¿™ä¸ªåŒ…ã€‚</p>
<p>1.2ï¼‰å¦‚æœå¼€å¯äº†<code>2FA(two-factor authentication)</code>ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨<code>publish</code>åé¢åŠ ä¸Š<code>--otp=123456</code>ï¼Œè¿™é‡Œçš„<code>123456</code>æ˜¯æ‰‹æœºä¸Š<code>appï¼ˆappåç§°å«åš Authenticatorï¼‰</code>è·å–çš„æˆæƒç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm unpublish --otp=123456 react-native-demo -f</span><br></pre></td></tr></table></figure>

<ul>
<li>äºŒ æ’¤é”€å…·ä½“çš„ç‰ˆæœ¬</li>
</ul>
<p>2.1ï¼‰å¦‚æœæƒ³è¦æ’¤é”€å·²ç»å‘å¸ƒçš„å…·ä½“ç‰ˆæœ¬ï¼Œåˆ™å¯ä»¥ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm unpublish &lt;package-name&gt;@&lt;version&gt;</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚ï¼Œç°åœ¨æœ‰<code>2</code>ä¸ªç‰ˆæœ¬ï¼Œåˆ†åˆ«æ˜¯<code>v1.0.0</code>ã€<code>v1.2.0</code>ï¼Œæƒ³è¦æ’¤é”€<code>v1.2.0</code>ï¼Œå¯ä»¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm unpublish react-native-demo@1.2.0</span><br></pre></td></tr></table></figure>

<p>2.2ï¼‰åŒæ ·åœ°ï¼Œå¦‚æœå¼€å¯äº†<code>2FA(two-factor authentication)</code>ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨<code>publish</code>åé¢åŠ ä¸Š<code>--otp=123456</code>ï¼Œè¿™é‡Œçš„<code>123456</code>æ˜¯æ‰‹æœºä¸Š<code>appï¼ˆappåç§°å«åš Authenticatorï¼‰</code>è·å–çš„æˆæƒç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm unpublish react-native-demo@1.2.0 --otp=123456</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šæ’¤é”€æ•´ä¸ªåŒ…æˆ–å…·ä½“çš„ç‰ˆæœ¬åªæœ‰åœ¨ä»å¼€å§‹å‘å¸ƒå†…çš„<code>72</code>å°æ—¶å†…æœ‰æ•ˆï¼Œå…·ä½“è§ <a href="https://docs.npmjs.com/unpublishing-packages-from-the-registry" target="_blank" rel="noopener">å®˜ç½‘ï¼šUnpublishing packages from the registry</a></p>
</blockquote>
<p>ä¸‹ä¸€ç¯‡æ–‡ç« å°†ä»‹ç» <a href="http://www.clcoder.com/2019/12/20/verdaccio%20+%20ngrok%E5%8F%91%E5%B8%83npm%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/#more" target="_blank" rel="noopener">verdaccio+ngrokå‘å¸ƒnpmç§æœ‰ä»“åº“</a></p>
]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native</tag>
        <tag>npm</tag>
        <tag>ç§æœ‰ä»“åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>RNä¹‹[pod install] Error installing DoubleConversion</title>
    <url>/2019/12/13/pod%20install-Error%20installing%20DoubleConversion/</url>
    <content><![CDATA[<h2 id="ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« ï¼Ÿ</h2><p>åœ¨<code>RN</code>å·¥ç¨‹ä¸­ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨<code>cocoapods</code>æ¥å®‰è£…ä¸€äº›<code>RN</code>å¿…é¡»çš„ç¬¬ä¸‰æ–¹ç¼–è¯‘åº“ï¼ˆæ¯”å¦‚<code>Folly</code>ã€<code>boost</code>ï¼‰ï¼Œç”±äºè¿™äº›ç¼–è¯‘åº“æ˜¯åœ¨å›½å¤–ï¼Œå¹¶ä¸”æ— è®ºç¿»å¢™ä¸å¦ï¼Œå¾ˆå¤šæ—¶å€™ç›´æ¥ä½¿ç”¨<code>cocoapods</code>æ¥è‡ªåŠ¨ä¸‹è½½å®‰è£…åŸºæœ¬éƒ½ä¼šå¤±è´¥ï¼Œæœ€è¿‘å°è¯•åœ¨åŸæ¥çš„<code>RN</code>å·¥ç¨‹å’Œæ–°å»ºçš„<code>RN</code>å·¥ç¨‹ä¸Šé¢éƒ½åšäº†å°è¯•ï¼Œç»“æœå°è¯•äº†<code>3</code>å¤©ï¼ŒåŸºæœ¬éƒ½æ˜¯å¤±è´¥çš„ï¼ŒæŠ¥é”™çš„åŸå› éƒ½æ˜¯ä¸€æ ·ï¼Œè¿™æ ·çš„è¯ï¼Œé¡¹ç›®æ ¹æœ¬æ²¡æ³•è¿è¡Œã€‚å› æ­¤ï¼Œåœ¨è¿™ç§è‡ªåŠ¨å®‰è£…ç»å¸¸å¤±è´¥ç”šè‡³ä¸€ç›´å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œäº†è§£æ‰‹åŠ¨ä¸‹è½½å®‰è£…å°±å¿…ä¸å¯å°‘äº†ã€‚</p>
<h4 id="æŠ¥é”™ï¼š"><a href="#æŠ¥é”™ï¼š" class="headerlink" title="æŠ¥é”™ï¼š"></a>æŠ¥é”™ï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ios pod install</span><br><span class="line">Analyzing dependencies</span><br><span class="line">Fetching podspec for `DoubleConversion` from `../node_modules/react-native/third-party-podspecs/DoubleConversion.podspec`</span><br><span class="line">Fetching podspec for `Folly` from `../node_modules/react-native/third-party-podspecs/Folly.podspec`</span><br><span class="line">Fetching podspec for `glog` from `../node_modules/react-native/third-party-podspecs/glog.podspec`</span><br><span class="line">Downloading dependencies</span><br><span class="line">Installing DoubleConversion (1.1.6)</span><br><span class="line"></span><br><span class="line">[!] Error installing DoubleConversion</span><br><span class="line">[!] /usr/local/bin/git clone https://github.com/google/double-conversion.git /var/folders/mn/7jdnkyy91_n0bxkrgjgjk17c0000gn/T/d20191212-36568-33nxni --template= --single-branch --depth 1 --branch v1.1.6</span><br><span class="line"></span><br><span class="line">Cloning into &apos;/var/folders/mn/7jdnkyy91_n0bxkrgjgjk17c0000gn/T/d20191212-36568-33nxni&apos;...</span><br><span class="line">error: RPC failed; curl 56 LibreSSL SSL_read: SSL_ERROR_SYSCALL, errno 54</span><br><span class="line">fatal: the remote end hung up unexpectedly</span><br><span class="line">fatal: early EOF</span><br><span class="line">fatal: unpack-objects failed</span><br></pre></td></tr></table></figure>

<h4 id="æŠ¥é”™åŸå› ï¼š"><a href="#æŠ¥é”™åŸå› ï¼š" class="headerlink" title="æŠ¥é”™åŸå› ï¼š"></a>æŠ¥é”™åŸå› ï¼š</h4><p><code>RPC(Remote Procedure Call)</code>è¿æ¥å¤±è´¥ï¼ŒåŸºæœ¬å¯ä»¥åˆ¤å®šæ˜¯ç”±äºç½‘ç»œåŸå› ï¼Œè¿™ç§å¯èƒ½æ€§å¾ˆå¤šï¼Œä»£ç†ã€å±€åŸŸç½‘ç­‰ç­‰ï¼Œå°¤å…¶æ˜¯é’ˆå¯¹å›½å¤–çš„ä¸€äº›èµ„æºï¼Œå¯¹äºå›½å†…çš„å¼€å‘è€…æ¥è¯´ï¼Œå¾ˆä¸å‹å¥½ã€‚</p>
<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">info Fetching system and libraries information...</span><br><span class="line">System:</span><br><span class="line">    OS: macOS Mojave 10.14.5</span><br><span class="line">    CPU: (4) x64 Intel(R) Core(TM) i3-8100B CPU @ 3.60GHz</span><br><span class="line">    Memory: 221.88 MB / 8.00 GB</span><br><span class="line">    Shell: 5.3 - /bin/zsh</span><br><span class="line">  Binaries:</span><br><span class="line">    Node: 12.10.0 - /usr/local/bin/node</span><br><span class="line">    Yarn: 1.17.3 - ~/.yarn/bin/yarn</span><br><span class="line">    npm: 6.11.3 - /usr/local/bin/npm</span><br><span class="line">    Watchman: 4.9.0 - /usr/local/bin/watchman</span><br><span class="line">  SDKs:</span><br><span class="line">    iOS SDK:</span><br><span class="line">      Platforms: iOS 12.2, macOS 10.14, tvOS 12.2, watchOS 5.2</span><br><span class="line">    Android SDK:</span><br><span class="line">      API Levels: 23, 26, 27, 28</span><br><span class="line">      Build Tools: 23.0.1, 26.0.1, 27.0.3, 28.0.2, 28.0.3</span><br><span class="line">      System Images: android-23 | Intel x86 Atom_64, android-23 | Google APIs Intel x86 Atom, android-23 | Google APIs Intel x86 Atom_64, android-26 | Google APIs Intel x86 Atom, android-27 | Intel x86 Atom_64, android-27 | Google APIs Intel x86 Atom, android-27 | Google Play Intel x86 Atom, android-28 | Google Play Intel x86 Atom</span><br><span class="line">  IDEs:</span><br><span class="line">    Android Studio: 3.5 AI-191.8026.42.35.5977832</span><br><span class="line">    Xcode: 10.2.1/10E1001 - /usr/bin/xcodebuild</span><br><span class="line">  npmPackages:</span><br><span class="line">    react: 16.9.0 =&gt; 16.9.0</span><br><span class="line">    react-native: 0.61.5 =&gt; 0.61.5</span><br><span class="line">  npmGlobalPackages:</span><br><span class="line">    react-native-cli: 2.0.1</span><br><span class="line">    react-native-update-cli: 0.1.0</span><br></pre></td></tr></table></figure>

<h2 id="é‡ç°"><a href="#é‡ç°" class="headerlink" title="é‡ç°"></a>é‡ç°</h2><p>æˆ‘ä»¬å°±åŸºäºç°æœ‰çš„ç¯å¢ƒæ–°å»ºä¸€ä¸ªé¡¹ç›®æ¥é‡ç°è¿™ä¸ª<code>RPC</code>é”™è¯¯ã€‚</p>
<h4 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h4><p>ä½¿ç”¨<code>CLI</code>æ–°å»ºä¸€ä¸ª<code>RN</code>é¡¹ç›®ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">react-native init demo</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯é»˜è®¤æ–°å»ºæœ€æ–°ç‰ˆæœ¬ï¼Œç›®å‰<code>RN</code>çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ <code>0.61.5</code>ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨<code>react-native init å·¥ç¨‹å --version ç‰ˆæœ¬</code>æŒ‡å®šæŸä¸€ä¸ªå…·ä½“çš„<code>RN</code>ç‰ˆæœ¬ï¼Œæ¯”å¦‚è¦åˆ›å»ºä¸€ä¸ª<code>0.59.9</code>çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨<code>react-native init demo --version 0.59.9</code>ã€‚</p>
</blockquote>
<h4 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h4><p>è¿›å…¥åˆ°è¯¥<code>/demo/ios</code>ç›®å½•ä¸‹ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pod install</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šåœ¨<code>RN</code>ç‰ˆæœ¬å¤§äº<code>0.6</code>çš„æƒ…å†µä¸‹ï¼Œ<code>iOS</code>å·¥ç¨‹é»˜è®¤ä½¿ç”¨<code>cocoapods</code>æ¥é›†æˆé¡¹ç›®ç¯å¢ƒï¼Œå› æ­¤ï¼Œåœ¨è¿è¡Œé¡¹ç›®ä¹‹å‰ï¼Œå¿…é¡»å…ˆä½¿ç”¨<code>cocoapods</code>å®‰è£…æ‰€éœ€ä¾èµ–ï¼Œå› æ­¤è¦è¿è¡Œ<code>pod install</code>å‘½ä»¤ã€‚å¯¹äº<code>0.6</code>ä»¥ä¸‹çš„<code>RN</code>é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥è¿›å…¥åˆ°<code>/ios</code>ç›®å½•ä¸‹è¿è¡Œ<code>pod init</code>ç”Ÿæˆä¸€ä¸ª<code>Podfile</code>æ–‡ä»¶ï¼Œåœ¨<code>Podfile</code>æ–‡ä»¶é‡Œé¢æ·»åŠ ä¾èµ–ï¼Œç„¶åè¿è¡Œ<code>pod install</code>å®‰è£…ä¾èµ–ï¼ŒåŸç†æ˜¯ä¸€æ ·çš„ã€‚</p>
</blockquote>
<h4 id="é”™è¯¯äº§ç”ŸâŒ"><a href="#é”™è¯¯äº§ç”ŸâŒ" class="headerlink" title="é”™è¯¯äº§ç”ŸâŒ"></a>é”™è¯¯äº§ç”ŸâŒ</h4><p>åœ¨è¿è¡Œ<code>pod install</code>åï¼Œç­‰å¾…äº†å¤§æ¦‚åå‡ åˆ†é’Ÿï¼ˆç‰¹åˆ«æ…¢ï¼‰ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ios pod install</span><br><span class="line">Analyzing dependencies</span><br><span class="line">Fetching podspec for `DoubleConversion` from `../node_modules/react-native/third-party-podspecs/DoubleConversion.podspec`</span><br><span class="line">Fetching podspec for `Folly` from `../node_modules/react-native/third-party-podspecs/Folly.podspec`</span><br><span class="line">Fetching podspec for `glog` from `../node_modules/react-native/third-party-podspecs/glog.podspec`</span><br><span class="line">Downloading dependencies</span><br><span class="line">Installing DoubleConversion (1.1.6)</span><br><span class="line"></span><br><span class="line">[!] Error installing DoubleConversion</span><br><span class="line">[!] /usr/local/bin/git clone https://github.com/google/double-conversion.git /var/folders/mn/7jdnkyy91_n0bxkrgjgjk17c0000gn/T/d20191212-36568-33nxni --template= --single-branch --depth 1 --branch v1.1.6</span><br><span class="line"></span><br><span class="line">Cloning into &apos;/var/folders/mn/7jdnkyy91_n0bxkrgjgjk17c0000gn/T/d20191212-36568-33nxni&apos;...</span><br><span class="line">error: RPC failed; curl 56 LibreSSL SSL_read: SSL_ERROR_SYSCALL, errno 54</span><br><span class="line">fatal: the remote end hung up unexpectedly</span><br><span class="line">fatal: early EOF</span><br><span class="line">fatal: unpack-objects failed</span><br></pre></td></tr></table></figure>

<h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>ä¸ºäº†èƒ½å¤Ÿå°½å¯èƒ½å®‰è£…æˆåŠŸï¼Œåœ¨è‡ªåŠ¨å®‰è£…å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é‡‡ç”¨æ‰‹åŠ¨å®‰è£…æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>é¦–å…ˆï¼Œè¿›å…¥<a href="https://github.com/facebook/react-native/blob/master/scripts/ios-install-third-party.sh" target="_blank" rel="noopener">Github: react-nativeå®˜ç½‘çš„ç›®å½•react-native/scripts/ios-install-third-party.shä¸‹</a>ï¼Œä½ å°†èƒ½å¤Ÿçœ‹åˆ°ï¼š</p>
<p><img src="https://i.loli.net/2019/12/13/sqOlS5ENi4oAxtZ.png" alt="shot.png"></p>
<blockquote>
<p>æ³¨æ„ï¼šå·¦è¾¹çš„<code>Branch</code>é€‰æ‹©æ˜¯å¯¹åº”ä½ å½“å‰æ˜¯æ‰€ç”¨çš„<code>RN</code>ç‰ˆæœ¬ï¼Œæ¯”å¦‚ä½ ä½¿ç”¨çš„æ˜¯<code>0.61.5</code>ï¼Œé‚£å¯¹åº”çš„å°±æ˜¯ä¸Šå›¾ä¸­çš„<code>0.61-stable</code>ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯<code>0.59.9</code>ï¼Œé‚£å¯¹åº”çš„å°±æ˜¯<code>0.59-stable</code>ã€‚ä½†æ˜¯ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæœ‰éƒ¨åˆ†è¿ç»­çš„ç‰ˆæœ¬çš„<code>ios-install-third-party.sh</code>å¯¹åº”çš„ç¼–è¯‘åº“æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªå¯ä»¥è‡ªå·±å»æŸ¥çœ‹ã€‚ä¸ºäº†ä¿é™©èµ·è§ï¼Œå°½é‡ä¿æŒå’Œä½ å½“å‰æ‰€ä½¿ç”¨çš„<code>RN</code>ç‰ˆæœ¬ä¸€è‡´ã€‚</p>
</blockquote>
<p>è¿›å…¥åˆ°<code>ios-install-third-party.sh</code>æ–‡ä»¶åï¼Œæ»‘åˆ°æœ€åº•éƒ¨ï¼Œä½ å°†ä¼šçœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://i.loli.net/2019/12/13/74QEHstVo6krmKx.png" alt="shot.png"></p>
<blockquote>
<p>æ³¨æ„ï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰<code>4</code>ä¸ªå¯¹åº”çš„ç¼–è¯‘åº“æ–‡ä»¶å°±æ˜¯ç›¸åº”çš„<code>RN</code>ç‰ˆæœ¬æ‰€éœ€è¦çš„ç¼–è¯‘åº“ï¼Œè¿™<code>4</code>ä¸ªç¼–è¯‘åº“éƒ½éœ€è¦ä½ ä¸‹è½½ã€‚</p>
</blockquote>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æœ‰<code>2</code>ç§æ–¹å¼æ¥ä¸‹è½½<code>4</code>ä¸ªç¼–è¯‘åº“å¯¹åº”çš„å‹ç¼©åŒ…ï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§æ–¹å¼</li>
</ul>
<p><a href="https://pan.baidu.com/s/1kVDUAZ9#list/path=%2F" target="_blank" rel="noopener">ä¾èµ–åº“ä¸‹è½½é“¾æ¥ï¼šRNä¸­æ–‡ç½‘ä½œè€…çš„ç¬¬ä¸‰æ–¹ä¾èµ–åº“ç™¾åº¦ç½‘ç›˜é“¾æ¥</a></p>
<ul>
<li>ç¬¬äºŒç§æ–¹å¼</li>
</ul>
<p>å¦‚æœåœ¨<code>ç¬¬ä¸€ç§æ–¹å¼</code>ä¸­æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ä¾èµ–åº“ç‰ˆæœ¬ï¼ˆæœ‰å¯èƒ½éšç€ç‰ˆæœ¬æ›´æ–°ï¼Œ<code>RN</code>ä¸­æ–‡ç½‘çš„ä½œè€…æ²¡æ¥å¾—åŠæ›´æ–°æˆ–è€…å¿˜è®°äº†ï¼‰ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç”¨å¦ä¸€ç§ç¨å¾®éº»çƒ¦ä¸€ç‚¹ä½†æ˜¯<code>100%</code>æ­£ç¡®çš„æ–¹å¼æ¥ä¸‹è½½ä½ æ‰€éœ€è¦çš„ä¾èµ–åº“ï¼Œç»§ç»­å¾€ä¸‹çœ‹</p>
<p>åœ¨ä¸Šé¢çš„å›¾ç‰‡ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†<code>4</code>ä¸ªä¾èµ–åº“ä»¥åŠå¯¹åº”çš„é“¾æ¥ï¼Œæ˜¯çš„ï¼Œæ²¡é”™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹åº”çš„é“¾æ¥æ‰¾åˆ°ç›¸åº”çš„å‹ç¼©åŒ…ç‰ˆæœ¬ï¼Œç„¶åä¸‹è½½ã€‚è¿™é‡Œä»¥ç¬¬ä¸€ä¸ª<code>glog-0.3.5.tar.gz</code>ä¸ºä¾‹ï¼Œå®ƒå¯¹åº”æ‰€åœ¨çš„<code>github</code>é“¾æ¥åœ°å€æ˜¯ï¼š<code>https://github.com/google/glog</code>ï¼ˆåé¢çš„ä¸€ä¸²ä¸²ä¸éœ€è¦ï¼Œæˆ‘ä»¬åªéœ€è¦å®ƒæ‰€åœ¨çš„<code>github</code>åœ°å€ï¼‰ï¼Œæ‰“å¼€ä¹‹åå¦‚ä¸‹ï¼š</p>
<p><img src="https://i.loli.net/2019/12/13/oaRvN3xygQY1TAl.png" alt="shot.png"></p>
<p>ç‚¹å‡»ä¸Šå›¾ä¸­çš„<code>releases</code>ï¼Œè¿›å…¥å¯ä»¥æ‰¾åˆ°ç›¸åº”ç‰ˆæœ¬å¦‚ä¸‹ï¼š</p>
<p><img src="https://i.loli.net/2019/12/13/Zs9IC3dUPno6TRG.png" alt="shot.png"></p>
<p>ç„¶åç‚¹å‡»çº¢åœˆä¸­çš„<code>Source code(tar.gz)</code>ä¸‹è½½ï¼Œå®Œæˆã€‚ï¼ˆå…¶ä»–<code>3</code>ä¸ªä¾èµ–åº“ç±»ä¼¼ï¼‰</p>
<p>ä¸‹è½½å®Œ<code>4</code>ä¸ªä¾èµ–å‹ç¼©åŒ…ä¹‹åï¼Œä¸ç”¨è§£å‹ï¼Œæˆ‘ä»¬ç›´æ¥æ”¾åˆ°ç›¸åº”çš„ç›®å½•å½“ä¸­ï¼š</p>
<ul>
<li><code>RN</code>ç‰ˆæœ¬åœ¨<code>&gt;=0.58</code></li>
</ul>
<p>å°†å‹ç¼©åŒ…æ”¾åˆ° <code>~/Library/Caches/com.facebook.ReactNativeBuild</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  ~ cd ~/Library/Caches/com.facebook.ReactNativeBuild</span><br><span class="line">âœ  com.facebook.ReactNativeBuild pwd</span><br><span class="line">/Users/langke/Library/Caches/com.facebook.ReactNativeBuild</span><br><span class="line">âœ  com.facebook.ReactNativeBuild ls</span><br><span class="line">boost_1_63_0.tar.gz  double-conversion-1.1.6.tar.gz folly-2018.10.22.00.tar.gz  glog-0.3.5.tar.gz</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šæˆ–è®¸åœ¨<code>~/Library/Caches</code>ç›®å½•ä¸‹ï¼Œä½ å¹¶æ²¡æœ‰<code>com.facebook.ReactNativeBuild</code>æ–‡ä»¶å¤¹ï¼Œæ€ä¹ˆåŠï¼Ÿè¿›å…¥åˆ°<code>cd ~/Library/Caches</code>ç›®å½•ä¸‹ï¼Œç„¶åä½¿ç”¨<code>mkdir com.facebook.ReactNativeBuild</code>åˆ›å»ºä¸€ä¸ªå°±å¥½äº†ã€‚</p>
</blockquote>
<ul>
<li><code>RN</code>ç‰ˆæœ¬åœ¨<code>&lt;0.58</code></li>
</ul>
<p>å°†å‹ç¼©åŒ…æ”¾åˆ° <code>~/.rncache</code>ç›®å½•ä¸‹ï¼Œä¸€èˆ¬æƒ…å†µä¸‹<code>.rncache</code>æ–‡ä»¶å¤¹ä¹Ÿæ˜¯æœ‰çš„ï¼Œå¦‚æœæ²¡æœ‰ï¼ŒåŒç†ï¼Œä½¿ç”¨ <code>mkdir .rncache</code>åˆ›å»ºä¸€ä¸ªå°±å¥½ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šè™½ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡çš„æ–¹å¼è‡ªå®šä¹‰è·¯å¾„ï¼Œä½†æ˜¯æˆ‘ä¸ªäººè¿˜æ˜¯å»ºè®®æŒ‰ç…§æ­£å¸¸çš„è¿™ç§å…¨å±€æ–¹å¼å»é…ç½®æ¯”è¾ƒå¥½ï¼Œæ¯•ç«Ÿï¼Œè‡ªå®šä¹‰è·¯å¾„å¾ˆå¯èƒ½å› ä¸ºä¸ªäººç–å¿½è€Œå‡ºé”™ï¼Œè¿™ä¸ªä¹Ÿå› äººè€Œå¼‚ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨å…·ä½“ç¯å¢ƒå˜é‡è‡ªå®šä¹‰è·¯å¾„ï¼Œå¯å‰å¾€ï¼š<a href="https://www.reactnative.cn/topic/4301/ios-rn-0-45%E4%BB%A5%E4%B8%8A%E7%89%88%E6%9C%AC%E6%89%80%E9%9C%80%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BC%96%E8%AF%91%E5%BA%93-boost%E7%AD%89" target="_blank" rel="noopener">RNä¸­æ–‡ç½‘ä½œè€…çš„æŒ‡å¯¼è¯´æ˜</a>ï¼Œæœ¬æ–‡ä¹Ÿä¸»è¦æ¥æºäºæ­¤çš„å‚è€ƒã€‚</p>
</blockquote>
<h2 id="å®Œæ¯•"><a href="#å®Œæ¯•" class="headerlink" title="å®Œæ¯•"></a>å®Œæ¯•</h2><p>è¿è¡Œ <code>pod install</code>: </p>
<p><img src="https://i.loli.net/2019/12/13/JyQdX1U8mTx5CiV.png" alt="shot.png"></p>
<p>ç»è¿‡ä¸Šé¢çš„ä¸€ç•ªå°æŠ˜è…¾ï¼Œåˆ°æ­¤ä¸ºæ­¢ï¼ŒåŸºæœ¬å‘Šä¸€æ®µè½ï¼Œä¹Ÿåº”è¯¥å¯ä»¥ç¨å¾®æ­£å¸¸<code>pod install</code>äº†ã€‚è¿˜æ˜¯ä¼šæœ‰ç‚¹æ…¢ï¼Œç”šè‡³ä¹Ÿæœ‰å¯èƒ½ä¼šå¤±è´¥ï¼Œä½†æ˜¯å¤šå°è¯•å‡ æ¬¡åº”è¯¥ä¼šæˆåŠŸã€‚</p>
]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native</tag>
        <tag>pod install</tag>
        <tag>ç¼–è¯‘åº“</tag>
        <tag>DoubleConversion</tag>
        <tag>Folly</tag>
        <tag>glog</tag>
        <tag>Error installing DoubleConversion</tag>
      </tags>
  </entry>
  <entry>
    <title>KVCåº•å±‚åŸç†</title>
    <url>/2019/11/21/KVC%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>KVC(Key-Value-Coding)</code>å³<code>é”®å€¼ç¼–ç </code>ï¼Œåœ¨<code>iOS</code>ä¸­åº”ç”¨åŠå…¶å¹¿æ³›ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨<code>KVC</code>æ¥<em>è®¾ç½®å€¼</em>å’Œ<em>è·å–å€¼</em>ï¼ŒçŸ¥é“<code>KVC</code>çš„åŸºæœ¬è¿ä½œåŸç†å¯¹æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­ä¿®å¤<code>bug</code>èµ·åˆ°å¾ˆå¥½çš„ä½œç”¨ã€‚</p>
<h2 id="KVCä¹‹å–å€¼"><a href="#KVCä¹‹å–å€¼" class="headerlink" title="KVCä¹‹å–å€¼"></a>KVCä¹‹å–å€¼</h2><h4 id="valueForKey"><a href="#valueForKey" class="headerlink" title="valueForKey"></a>valueForKey</h4><p>é¦–å…ˆï¼Œæ¥çœ‹ä¸€ä¸ªç®€å•é—®é¢˜ï¼Œåˆ›å»ºä¸€ä¸ª<code>Person</code>ç±»ã€‚</p>
<p><code>Person.h</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface Person : NSObject</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p><code>Person.m</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &quot;Person.h&quot;</span><br><span class="line"></span><br><span class="line">@implementation Person</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>ViewController.m</code>ä¸­ï¼Œå¯¼å…¥<code>Person.h</code>ï¼Œ<code>ViewController.m</code>å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &quot;ViewController.h&quot;</span><br><span class="line">#import &quot;Person.h&quot;</span><br><span class="line"></span><br><span class="line">@interface ViewController ()</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation ViewController</span><br><span class="line"></span><br><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">	[super viewDidLoad];</span><br><span class="line">	[self test];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)test</span><br><span class="line">&#123;</span><br><span class="line">	Person *p = [[Person alloc] init];</span><br><span class="line">	// æ³¨æ„ï¼Œè·å–çš„æ—¶å€™è¿™ä¸ªkeyå¿…é¡»æ˜¯æˆå‘˜å˜é‡çš„åŸå½¢ï¼ï¼ï¼</span><br><span class="line">	// æ¯”å¦‚ï¼Œå¦‚æœè¿™é‡Œä¸æ˜¯name, è€Œæ˜¯ä¸‹åˆ’çº¿ _name é‚£ä¹ˆå°±è¦å°±Personç±»</span><br><span class="line">	// é‡Œé¢çš„æˆå‘˜å˜é‡ä¸€å®šè¦æœ‰_nameï¼Œå¦åˆ™å°±ä¼šå¥”æºƒï¼</span><br><span class="line">	NSString *name = [p valueForKey:@&quot;name&quot;];</span><br><span class="line">	NSLog(@&quot;name is %@&quot;, name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿è¡Œä¹‹å‰ï¼Œå…ˆæ€è€ƒä¸€ä¸‹ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ï¼š<strong>ç¨‹åºå´©æºƒï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">*** Terminating app due to uncaught exception &apos;NSUnknownKeyException&apos;, </span><br><span class="line">reason: &apos;[&lt;Person 0x600002c35340&gt; valueForUndefinedKey:]: this class </span><br><span class="line">is not key value coding-compliant for the key name.&apos;</span><br></pre></td></tr></table></figure>

<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ï¼š<code>å®ä¾‹å¯¹è±¡p</code>å¹¶æ²¡æœ‰è¿™ä¸ª<code>name</code>æˆå‘˜å˜é‡æˆ–è€…è¯´æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œåœ¨è°ƒç”¨<code>KVC</code>çš„<code>valueForKey</code>æ–¹æ³•æ—¶ï¼Œç”±äºæ‰¾ä¸åˆ°<code>name</code>ä»è€Œæ‰§è¡Œäº†<code>- (id)valueForUndefinedKey:(NSString *)key</code>è¿™ä¸ªæ–¹æ³•ï¼Œæ¥ç€å°±æŠ›å‡ºäº†å¼‚å¸¸ï¼Œå› æ­¤ç¨‹åºå´©æºƒã€‚</p>
<p>ä¸ä¿¡ï¼Œæˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹ï¼Œåœ¨<code>Person.h</code>ä¸­ï¼Œå¤å†™<code>- (id)valueForUndefinedKey:(NSString *)key</code>æ–¹æ³•ï¼Œäºæ˜¯<code>Person.m</code>çš„å†…å®¹å°±å˜æˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &quot;Person.h&quot;</span><br><span class="line"></span><br><span class="line">@implementation Person</span><br><span class="line"></span><br><span class="line">- (id)valueForUndefinedKey:(NSString *)key &#123;</span><br><span class="line">	return @&quot;hello, world!&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡è¿è¡Œï¼Œè¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name is hello, world!</span><br></pre></td></tr></table></figure>

<p>å“‡ï¼Œæœç„¶å¦‚æ­¤ï¼å½“ä½¿ç”¨<code>valueForKey</code>æ–¹æ³•æ—¶ï¼Œå¦‚æœæŸ¥æ‰¾ä¸åˆ°ç›¸åº”çš„å±æ€§æˆ–æˆå‘˜å˜é‡ï¼Œå°±ç›´æ¥èµ°<code>valueForUndefinedKey</code>æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>é—®é¢˜æ˜¯ï¼Œ<code>KVC</code>æ˜¯å¦‚ä½•æŸ¥æ‰¾å±æ€§æˆ–æˆå‘˜å˜é‡çš„å‘¢ï¼Ÿæˆ‘ä»¬æ¥ç»§ç»­éªŒè¯ï¼š</p>
<p>åœ¨<code>Person.h</code>ä¸­ï¼Œå®šä¹‰<code>name</code>æˆå‘˜å˜é‡ï¼Œå¹¶åœ¨<code>Person.m</code>çš„åˆå§‹åŒ–æ–¹æ³•ä¸­ç»™<code>name</code>èµ‹å€¼ã€‚</p>
<p>äºæ˜¯ï¼Œ<code>Person.h</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface Person : NSObject</span><br><span class="line">&#123;</span><br><span class="line">	NSString *name;</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p><code>Person.m</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &quot;Person.h&quot;</span><br><span class="line"></span><br><span class="line">@implementation Person</span><br><span class="line"></span><br><span class="line">- (instancetype)init</span><br><span class="line">&#123;</span><br><span class="line">	self = [super init];</span><br><span class="line">	if (self) &#123;</span><br><span class="line">		name = @&quot;name&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç¨‹åºï¼Œç»“æœæ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name is name</span><br></pre></td></tr></table></figure>

<p>ä¸€ç‚¹ä¹Ÿä¸æ„å¤–ï¼ŒæŒ‰æ­£å¸¸çš„é€»è¾‘æ‰§è¡Œï¼Œæˆ‘ä»¬å†æ·»åŠ ä¸€ä¸ª<code>_name</code>æˆå‘˜å˜é‡å¹¶èµ‹å€¼</p>
<p><code>Person.h</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface Person : NSObject</span><br><span class="line">&#123;</span><br><span class="line">	NSString *name;</span><br><span class="line">	NSString *_name;</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p><code>Person.m</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &quot;Person.h&quot;</span><br><span class="line"></span><br><span class="line">@implementation Person</span><br><span class="line"></span><br><span class="line">- (instancetype)init</span><br><span class="line">&#123;</span><br><span class="line">	self = [super init];</span><br><span class="line">	if (self) &#123;</span><br><span class="line">		_name = @&quot;_name&quot;;</span><br><span class="line">		name = @&quot;name&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç¨‹åºï¼Œç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>ç»“æœæ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name is _name</span><br></pre></td></tr></table></figure>

<p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®š<strong><code>_name</code>çš„ä¼˜å…ˆçº§æ¯”<code>name</code>çš„ä¼˜å…ˆçº§è¦é«˜ã€‚</strong></p>
<p>åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ æˆå‘˜å˜é‡<code>_isName</code>å’Œ<code>isName</code>ï¼ŒåŒä¸Šé¢æ¯”è¾ƒçš„æ–¹æ³•ä¸€æ ·æ¯”è¾ƒï¼ˆè¿™é‡Œå°±ä¸ç»§ç»­æ¼”ç¤ºäº†ï¼‰ï¼Œå¯ä»¥å‘ç°æˆå‘˜å˜é‡çš„æŸ¥æ‰¾ä¼˜å…ˆçº§å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">_name &gt; _isName &gt; name &gt; isName</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>åœ¨<code>KVC</code>ä¸­ï¼ŒæŸ¥æ‰¾æˆå‘˜å˜é‡æˆ–å±æ€§çš„æ–¹å¼æ˜¯ï¼Œé¦–å…ˆæŸ¥æ‰¾<code>_key</code>ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œç»§ç»­æŸ¥æ‰¾<code>_isKey</code>ï¼Œå†æ‰¾ä¸åˆ°ï¼Œç»§ç»­æŸ¥æ‰¾<code>key</code>ï¼Œè¿˜æ˜¯æŸ¥æ‰¾ä¸åˆ°ï¼Œæ‰æŸ¥æ‰¾<code>isKey</code>ï¼Œå¦‚æœ<code>isKey</code>éƒ½æ‰¾ä¸åˆ°çš„è¯ï¼Œç¨‹åºå°†æŠ›å‡ºå¼‚å¸¸ï¼ˆé™¤éä½ é‡å†™äº†<code>- (id)valueForUndefinedKey:(NSString *)key</code>æ–¹æ³•ï¼‰ã€‚</strong></p>
<hr>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨<code>Objective-C</code>ä¸­ï¼Œæœ‰ä¸€ä¸ªä¸œè¥¿å«<code>å±æ€§</code>ï¼Œè€Œ<code>å±æ€§</code>çš„æœ¬è´¨å°±æ˜¯å¯¹<code>æˆå‘˜å˜é‡</code>ã€<code>setter</code>ã€<code>getter</code>æ–¹æ³•çš„å°è£…ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬é€šè¿‡<code>KVC</code>è°ƒç”¨<code>valueForKey</code>æ–¹æ³•è·å–å®ä¾‹å˜é‡çš„æ—¶å€™ï¼Œè€Œè·å–çš„æ–¹å¼å¾ˆç±»ä¼¼<code>getter</code>ï¼Œå› ä¸º<code>getter</code>å°±è¡¨ç¤ºè·å–çš„æ„æ€ï¼Œé‚£ä¹ˆï¼Œå®ƒä¸<code>getter</code>æ–¹æ³•æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p>
<p><code>Person.h</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface Person : NSObject</span><br><span class="line">&#123;</span><br><span class="line">	NSString *isName;</span><br><span class="line">	NSString *_isName;</span><br><span class="line">	NSString *name;</span><br><span class="line">	NSString *_name;</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p><code>Person.m</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &quot;Person.h&quot;</span><br><span class="line"></span><br><span class="line">@implementation Person</span><br><span class="line"></span><br><span class="line">- (instancetype)init</span><br><span class="line">&#123;</span><br><span class="line">	self = [super init];</span><br><span class="line">	if (self) &#123;</span><br><span class="line">		_isName = @&quot;init~_isName&quot;;</span><br><span class="line">		_name = @&quot;init~_name&quot;;</span><br><span class="line">		name = @&quot;init~name&quot;;</span><br><span class="line">		isName = @&quot;init~isName&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSString *)getName</span><br><span class="line">&#123;</span><br><span class="line">	return @&quot;getName&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSString *)name</span><br><span class="line">&#123;</span><br><span class="line">	return @&quot;name&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSString *)isName</span><br><span class="line">&#123;</span><br><span class="line">	return @&quot;isName&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSString *)_getName</span><br><span class="line">&#123;</span><br><span class="line">	return @&quot;_getName&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSString *)_name</span><br><span class="line">&#123;</span><br><span class="line">	return @&quot;_name&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç¨‹åºï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name is getName</span><br></pre></td></tr></table></figure>

<p>å¾ˆæ˜æ˜¾ï¼Œå½“é€šè¿‡<code>valueForKey</code>è·å–<code>name</code>æˆå‘˜å˜é‡ï¼Œè‹¥æœ‰<code>- (NSString *)getName</code>æ–¹æ³•å­˜åœ¨ï¼Œåˆ™ä¼˜å…ˆæ‰§è¡Œè¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”ä¸å†å»è·å–å®ä¾‹å˜é‡åœ¨<code>- (instancetype)init</code>çš„åˆå§‹åŒ–å€¼ã€‚å¦å¤–å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ‰§è¡Œäº†<code>- (NSString *)getName</code>æ–¹æ³•ï¼Œè¯´æ˜å…¶ä¼˜å…ˆçº§å¤§äº<code>- (NSString *)name</code>ã€<code>- (NSString *)isName</code>ã€<code>- (NSString *)_getName</code>ã€<code>- (NSString *)_name</code>æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬å»æ‰<code>- (NSString *)getName</code>æ–¹æ³•ï¼Œå†æ¬¡è¿è¡Œï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name is name</span><br></pre></td></tr></table></figure>

<p>æ¥ç€å»æ‰<code>- (NSString *)name</code>æ–¹æ³•ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name is isName</span><br></pre></td></tr></table></figure>

<p>æ¥ç€å»æ‰<code>- (NSString *)isName</code>æ–¹æ³•ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name is _getName</span><br></pre></td></tr></table></figure>

<p>æ¥ç€å»æ‰<code>- (NSString *)_getName</code>æ–¹æ³•ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name is _name</span><br></pre></td></tr></table></figure>

<p>ç»“æœè¡¨æ˜ï¼Œåªè¦<code>- (NSString *)getName</code>ã€<code>- (NSString *)name</code>ã€<code>- (NSString *)isName</code>ã€<code>- (NSString *)_getName</code>ã€<code>- (NSString *)_name</code>ä¸­çš„ä»»ä½•ä¸€ä¸ªæ–¹æ³•å­˜åœ¨ï¼Œå°±ä¸å†å»è·å–åˆå§‹åŒ–ä¸­çš„<code>name</code>æˆå‘˜å˜é‡çš„å€¼ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨<code>KVC</code>ä¸­ï¼Œåªè¦å­˜åœ¨<code>- (NSString *)getKey</code>ã€<code>- (NSString *)key</code>ã€<code>- (NSString *)isKey</code>ã€<code>- (NSString *)_getKey</code>ã€<code>- (NSString *)_key</code>æ–¹æ³•ï¼Œå…¶ä¼˜å…ˆçº§éƒ½æ¯”æˆå‘˜å˜é‡é«˜ï¼Œå…¶ä¸­ä¼˜å…ˆçº§é¡ºåºæ˜¯ï¼š<code>- (NSString *)getKey</code> &gt; <code>- (NSString *)key</code> &gt; <code>- (NSString *)isKey</code> &gt; <code>- (NSString *)_getKey</code> &gt; <code>- (NSString *)_key</code>ã€‚</p>
<blockquote>
<p>äº‹å®ä¸Šï¼Œ<code>- (NSString *)getKey</code> &gt; <code>- (NSString *)key</code>ã€<code>- (NSString *)isKey</code>ã€<code>- (NSString *)_getKey</code> ã€ <code>- (NSString *)_key</code>åœ¨åº•å±‚æœ¬è´¨ä¸Šéƒ½æ˜¯<code>getter</code>æ–¹æ³•ï¼Œå°±å¦‚åŒæŸ¥æ‰¾æˆå‘˜å˜é‡ä¸€æ ·ï¼Œ<code>Apple</code>æä¾›äº†å¤šç§è·å–æ–¹å¼ã€‚</p>
</blockquote>
<p>è¿˜æœ‰ä¸€ç‚¹è¦ç‰¹åˆ«æ³¨æ„ï¼Œå½“æ²¡æœ‰ä»¥ä¸Šçš„<code>ç›¸å…³æ–¹æ³•</code>æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“<code>valueForKey</code>ä¼šå»æŸ¥æ‰¾å®ä¾‹å˜é‡çš„å€¼ï¼Œä½†æ˜¯ï¼Œåœ¨æŸ¥æ‰¾å®ä¾‹å˜é‡ä¹‹å‰ï¼Œå…¶å®è¿˜æ‰§è¡Œäº†ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒæ˜¯<code>+ (BOOL)accessInstanceVariablesDirectly</code>å¹¶ä¸”å…¶é»˜è®¤è¿”å›å€¼ä¸º<code>YES</code>ï¼Œå¦‚æœæ—¢æ²¡æœ‰ä¸Šé¢çš„<code>gettter</code>æ–¹æ³•ï¼Œå¹¶ä¸”<code>+ (BOOL)accessInstanceVariablesDirectly</code>çš„è¿”å›å€¼ä¸º<code>NO</code>ï¼Œé‚£ä¹ˆå°†ä¼šç›´æ¥èµ°<code>- (id)valueForUndefinedKey:(NSString *)key</code>æŠ›å‡ºå¼‚å¸¸ï¼Œç¨‹åºå´©æºƒã€‚å½“ç„¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ–¹æ³•æˆ‘ä»¬ä¸ä¼šä½¿ç”¨åˆ°ã€‚</p>
<p>æµç¨‹å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://i.loli.net/2019/11/20/VjYRdXILghfma6Z.png" alt="KVC .png"></p>
<h4 id="valueForKeyPath"><a href="#valueForKeyPath" class="headerlink" title="valueForKeyPath"></a>valueForKeyPath</h4><p>äº‹å®ä¸Šï¼Œ<code>KVC</code>é™¤äº†æä¾›<code>valueForKey</code>æ–¹æ³•æ¥è·å–å€¼ä¹‹å¤–ï¼Œè¿˜æä¾›äº†<code>valueForKeyPath</code>çš„å–å€¼æ–¹æ³•ï¼ŒåŒºåˆ«åœ¨äº<code>valueForKeyPath</code>å¯ä»¥<em>æŒ‰è·¯å¾„å–å€¼</em>ï¼Œæ¯”å¦‚ï¼šå‡è®¾<code>person</code>å®ä¾‹å¯¹è±¡æœ‰ä¸€ä¸ª<code>dog</code>å±æ€§ï¼Œ<code>dog</code>è‡ªèº«åˆå­˜åœ¨ä¸€ä¸ª<code>name</code>å±æ€§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>valueForKeyPath</code>çš„å–å€¼æ–¹æ³•æ¥è·å–<code>dog</code>çš„<code>name</code>å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">id dogName = [person valueForKeyPath: @&quot;dog.name&quot;]</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªåŸç†å·®ä¸å¤šï¼Œå°±ä¸èµ˜è¿°äº†ã€‚</p>
<h2 id="KVCä¹‹è®¾å€¼"><a href="#KVCä¹‹è®¾å€¼" class="headerlink" title="KVCä¹‹è®¾å€¼"></a>KVCä¹‹è®¾å€¼</h2><p>æ—¢ç„¶<code>KVC</code>å¯ä»¥è·å–å€¼ï¼Œåä¹‹ï¼Œä¹Ÿä¸€å®šå¯ä»¥è®¾ç½®å€¼ï¼Œä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œ<code>KVC</code>çš„å–å€¼çš„æˆå‘˜å˜é‡æœ‰<code>4</code>ä¸ªï¼Œå¹¶ä¸”æœ‰ç€ä¼˜å…ˆçº§ï¼Œå³ï¼š<code>_key</code> &gt; <code>_isKey</code> &gt; <code>key</code> &gt; <code>isKey</code>ã€‚é‚£ä¹ˆï¼ŒåŒæ ·çš„ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨<code>KVC</code>çš„<code>setValue:value forKey:key</code>æ–¹æ³•æ—¶ï¼Œ<strong><code>KVC</code>ä¹Ÿä¼šå»æŸ¥æ‰¾ç›¸åº”çš„<code>4</code>ä¸ªæˆå‘˜å˜é‡ï¼Œå¹¶ä¸”è®¾ç½®å€¼çš„ä¼˜é€‰çº§å®Œå…¨å’Œ<code>KVC</code>å–å€¼ä¸€æ ·ï¼ï¼ˆå‰ææ¡ä»¶æ˜¯æ²¡æœ‰ç›¸åº”çš„<code>setter</code>æ–¹æ³•ï¼Œè¿™ä¸ªç¨åä¼šè®²ï¼‰</strong></p>
<p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<p><code>Person.h</code>ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">@interface Person : NSObject</span><br><span class="line">&#123;</span><br><span class="line">	NSString *_name;</span><br><span class="line">	NSString *_isName;</span><br><span class="line">	NSString *name;</span><br><span class="line">	NSString *isName;</span><br><span class="line">&#125;</span><br><span class="line">- (void)printName;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p><code>Person.m</code>ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &quot;Person.h&quot;</span><br><span class="line"></span><br><span class="line">@implementation Person</span><br><span class="line"></span><br><span class="line">- (void)printName</span><br><span class="line">&#123;</span><br><span class="line">	NSLog(@&quot;_name: %@&quot;, _name);</span><br><span class="line">	NSLog(@&quot;_isName: %@&quot;, _isName);</span><br><span class="line">	NSLog(@&quot;name: %@&quot;, name);</span><br><span class="line">	NSLog(@&quot;isName: %@&quot;, isName);</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p><code>ViewController.m</code>ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#import &quot;ViewController.h&quot;</span><br><span class="line">#import &quot;Person.h&quot;</span><br><span class="line"></span><br><span class="line">@interface ViewController ()</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation ViewController</span><br><span class="line"></span><br><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">	[super viewDidLoad];</span><br><span class="line">	[self test];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)test</span><br><span class="line">&#123;</span><br><span class="line">	Person *p = [[Person alloc] init];</span><br><span class="line">	[p setValue:@&quot;test name&quot; forKey:@&quot;name&quot;];</span><br><span class="line">	[p printName];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç¨‹åºï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">_name: test name</span><br><span class="line">_isName: (null)</span><br><span class="line">name: (null)</span><br><span class="line">isName: (null)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºï¼Œå…ˆè®¾ç½®çš„æ˜¯<code>_name</code>çš„å€¼ï¼Œå»æ‰<code>_name</code>ï¼Œå°±ä¼šè®¾ç½®<code>_isName</code>çš„å€¼ï¼Œå…¶å®ƒåŒç†ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè®¾ç½®çš„æˆå‘˜å˜é‡ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆç¨‹åºå°†è°ƒç”¨<code>- (void)setValue:(id)value forUndefinedKey:(NSString *)key</code>æŠ›å‡ºå¼‚å¸¸ï¼Œç›´æ¥å¥”æºƒï¼Œè¿™ä¸ªå’Œ<code>KVC</code>å–å€¼æ—¶æ‰¾ä¸åˆ°<code>getter</code>æ–¹æ³•ã€æˆå‘˜å˜é‡æ—¶è°ƒç”¨<code>- (id)valueForUndefinedKey:(NSString *)key</code>æ˜¯ä¸€æ ·çš„é“ç†ã€‚</p>
<p>åŒç†ï¼Œ<code>KVC</code>å–å€¼æœ‰<code>+ (BOOL)accessInstanceVariablesDirectly</code>æ–¹æ³•ï¼Œ<code>KVC</code>è®¾å€¼ä¹Ÿæ˜¯åŒä¸€ä¸ªæ–¹æ³•ï¼Œè‹¥æ²¡æœ‰ç›¸åº”çš„<code>setter</code>æ–¹æ³•ï¼Œå¹¶ä¸”è¿”å›<code>NO</code>æ—¶ï¼Œç¨‹åºå°†è°ƒç”¨<code>- (void)setValue:(id)value forUndefinedKey:(NSString *)key</code>æŠ›å‡ºå¼‚å¸¸ï¼Œå› æ­¤ï¼Œä¸ºäº†é˜²æ­¢å¼‚å¸¸ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™å¯ä»¥é‡å†™<code>- (void)setValue:(id)value forUndefinedKey:(NSString *)key</code>æ–¹æ³•ä»¥é˜²æ­¢å¥”æºƒã€‚å¦å¤–ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œ<code>KVC</code>åœ¨ç»™æ•°å€¼å‹æ•°æ®ç±»å‹å¦‚<code>NSInteger</code>è®¾å€¼<code>nil</code>å€¼çš„è¯ï¼Œä¼šè°ƒç”¨<code>- (void)setNilValueForKey:(NSString *)key</code>æŠ›å‡ºå¼‚å¸¸ã€‚æ¯”å¦‚ï¼š</p>
<p>åœ¨<code>Person.h</code>ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	NSInteger age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>ViewController.m</code>ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Person *p = [[Person alloc] init];</span><br><span class="line">[p setValue:nil forKey:@&quot;age&quot;];</span><br></pre></td></tr></table></figure>

<p>æ¯«æ— ç–‘é—®ï¼Œç¨‹åºå°†å¥”æºƒï¼å› æ­¤ï¼Œä»…ä»…é‡å†™<code>- (void)setValue:(id)value forUndefinedKey:(NSString *)key</code>æ–¹æ³•æ˜¯ä¸å¤Ÿçš„çš„ï¼Œè¦åŒæ—¶é‡å†™<code>- (void)setNilValueForKey:(NSString *)key</code>ï¼Œé˜²æ­¢ç¨‹åºå¥”æºƒï¼</p>
<p>åœ¨<code>KVC</code>å–å€¼ä¸­ï¼Œæœ‰<code>5</code>ä¸ª<code>getter</code>æ–¹æ³•ï¼Œä½†æ˜¯åœ¨<code>KVC</code>è®¾å€¼ä¸­ï¼Œåªæœ‰<code>2</code>ä¸ª<code>setter</code>æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼š<code>setKey</code>ã€<code>setIsKey</code>ï¼Œä¾‹å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)setName:(NSString *)name</span><br><span class="line">&#123;</span><br><span class="line">	NSLog(@&quot;setter name: %@&quot;, name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)setIsName:(NSString *)name</span><br><span class="line">&#123;</span><br><span class="line">	NSLog(@&quot;setter isName: %@&quot;, name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¼˜å…ˆçº§ï¼š<code>setName</code> &gt; <code>setIsName</code>ï¼Œä¹Ÿå³æ˜¯ <code>setKey</code> &gt; <code>setIsKey</code>ã€‚</p>
<p>å’Œ<code>KVC</code>å–å€¼æ˜¯ä¸€ä¸ªé“ç†ï¼Œè‹¥æœ‰ä»¥ä¸Šæ‰€è¯´çš„<code>2</code>ä¸ª<code>setter</code>æ–¹æ³•ï¼Œåˆ™ä¼˜å…ˆæ‰§è¡Œ<code>setter</code>æ–¹æ³•ï¼Œå¿½ç•¥æˆå‘˜å˜é‡åœ¨åˆå§‹åŒ–æ—¶çš„å€¼ã€‚æ²¡æœ‰<code>setter</code>æ–¹æ³•ï¼Œå°±åˆ¤æ–­<code>+ (BOOL)accessInstanceVariablesDirectly</code>çš„è¿”å›å€¼æ˜¯å¦ä¸º<code>NO</code>ï¼Œè‹¥ä¸º<code>NO</code>ï¼Œè°ƒç”¨<code>- (void)setValue:(id)value forUndefinedKey:(NSString *)key</code>æŠ›å‡ºå¼‚å¸¸ï¼ˆæ²¡æœ‰é‡å†™è¯¥æ–¹æ³•åˆ™å´©æºƒï¼‰ï¼Œè‹¥ä¸º<code>YES</code>ï¼Œå°±å»æŸ¥æ‰¾ç›¸åº”çš„æˆå‘˜å˜é‡å¹¶èµ‹å€¼ã€‚</p>
<h2 id="æ‰‹åŠ¨å†™ä¸€ä¸ªKVC"><a href="#æ‰‹åŠ¨å†™ä¸€ä¸ªKVC" class="headerlink" title="æ‰‹åŠ¨å†™ä¸€ä¸ªKVC"></a>æ‰‹åŠ¨å†™ä¸€ä¸ªKVC</h2><p>å‚ç…§<code>KVC</code>çš„è®¾å€¼å’Œå–å€¼çš„åŸºæœ¬æµç¨‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±æ‰‹åŠ¨å†™ä¸€ä¸ªå±äºè‡ªå·±çš„<code>KVC</code>ã€‚å…·ä½“è¯´æ˜è¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼Œæœ‰å…´è¶£å¯ç›´æ¥æŸ¥çœ‹æºç ï¼Œéƒ½æ˜¯ä¸€äº›ç®€å•çš„ä¸šåŠ¡é€»è¾‘åˆ¤æ–­ï¼Œåˆ©ç”¨<code>OC</code>çš„<code>runtimeæœºåˆ¶</code>ï¼Œå®ç°å‡ºç›¸åº”çš„<code>KVC</code>æ•ˆæœã€‚</p>
<p><a href="https://github.com/lchenfox/OC_KVCDemo" target="_blank" rel="noopener">æŸ¥çœ‹KVCæºç </a></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>KVC</tag>
      </tags>
  </entry>
  <entry>
    <title>å…­ Pythonå‡½æ•°</title>
    <url>/2019/11/19/%E5%85%AD%20Python%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<h2 id="è°ƒç”¨"><a href="#è°ƒç”¨" class="headerlink" title="è°ƒç”¨"></a>è°ƒç”¨</h2><p>å‡½æ•°çš„è°ƒç”¨éå¸¸ç®€å•ï¼Œ<code>python</code>æä¾›äº†å¾ˆå¤šå†…ç½®å‡½æ•°ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼š</p>
<p>è·å–ç»å¯¹å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; abs(-123)</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>æ±‚å¤šä¸ªæ•°ä¸­çš„æœ€å¤§å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; max(1, 2, 3)</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<p>æ±‚å¤šä¸ªæ•°ä¸­çš„æœ€å°å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; min(0, -1, 99)</span><br><span class="line">-1</span><br></pre></td></tr></table></figure>

<p>ç±»å‹è½¬æ¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; int(&apos;123&apos;)</span><br><span class="line">123</span><br><span class="line">&gt;&gt;&gt; str(-99)</span><br><span class="line">&apos;-99&apos;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šçš„æ–¹æ³•å’Œå½¢å¼ä¸<code>Swift</code>è¯­è¨€ååˆ†ç›¸ä¼¼ï¼Œ<code>abs()å‡½æ•°</code>ã€<code>max()å‡½æ•°</code>ã€<code>min()å‡½æ•°</code>ç”šè‡³å’Œ<code>Swift</code>çš„<code>API</code>ä¸€æ¨¡ä¸€æ ·ï¼ŒåŒ…æ‹¬å½¢å¼å’Œç”¨æ³•ã€‚</p>
<p>å†æ¯”å¦‚ï¼Œ<code>python</code>ä¹Ÿæä¾›äº†<code>hex()å‡½æ•°</code>å°†ä¸€ä¸ª<code>æ•´æ•°</code>(æ³¨æ„ï¼šå¿…é¡»æ˜¯æ•´æ•°ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™)è½¬æ¢æˆä¸€ä¸ª<code>åå…­è¿›åˆ¶è¡¨ç¤ºçš„å­—ç¬¦ä¸²</code>ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; hex(22)</span><br><span class="line">&apos;0x16&apos;</span><br><span class="line">&gt;&gt;&gt; hex(99)</span><br><span class="line">&apos;0x63&apos;</span><br></pre></td></tr></table></figure>

<h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><h4 id="ä½¿ç”¨defå®šä¹‰å‡½æ•°"><a href="#ä½¿ç”¨defå®šä¹‰å‡½æ•°" class="headerlink" title="ä½¿ç”¨defå®šä¹‰å‡½æ•°"></a>ä½¿ç”¨<code>def</code>å®šä¹‰å‡½æ•°</h4><p>ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ª<code>demo.py</code>æ–‡ä»¶ï¼Œå®šä¹‰ä¸€ä¸ª<code>test(a, b)</code>å‡½æ•°ï¼Œå¹¶ä¼ å…¥å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def test(a, b):</span><br><span class="line">	if a &gt; b:</span><br><span class="line">		print(&apos;a &gt; b&apos;)</span><br><span class="line">	elif a == b:</span><br><span class="line">		print(&apos;a = b&apos;)</span><br><span class="line">	else:</span><br><span class="line">		print(&apos;a &lt; b&apos;)</span><br><span class="line">test(5, 10)</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">python3 demo.py</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &lt; b</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œè¿›å…¥<code>pythonäº¤äº’å¼ç¯å¢ƒ</code>ï¼Œç„¶åä½¿ç”¨<code>from demo import test</code>çš„å½¢å¼å¯¼å‡ºè¯¥<code>demo.py</code>é‡Œé¢å…·ä½“å‡½æ•°ï¼Œ<code>demo</code>æ˜¯æ–‡ä»¶åï¼Œæ³¨æ„æ²¡æœ‰<code>.py</code>åç¼€ï¼Œ<code>test</code>æ˜¯å‡½æ•°åï¼Œç„¶ååœ¨äº¤äº’å¼ç¯å¢ƒä¸‹ä½¿ç”¨<code>test(a, b)</code>å‡½æ•°ã€‚</p>
</blockquote>
<h4 id="passå ä½ç¬¦"><a href="#passå ä½ç¬¦" class="headerlink" title="passå ä½ç¬¦"></a><code>pass</code>å ä½ç¬¦</h4><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°æˆ–ä¸€äº›ç¨‹åºä¸­ä½¿ç”¨<code>pass</code>æ¥ä½œä¸ºå ä½ç¬¦ï¼Œæ¯”å¦‚å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯é‡Œé¢æ²¡æœ‰ä»»ä½•å†…å®¹ï¼Œæ‰§è¡Œå°±ä¼šæŠ¥é”™ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def fuck():</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">python3 demo.py</span><br></pre></td></tr></table></figure>

<p>æŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  Desktop python3 demo.py</span><br><span class="line">  File &quot;demo.py&quot;, line 2</span><br><span class="line"></span><br><span class="line">               ^</span><br><span class="line">SyntaxError: unexpected EOF while parsing</span><br></pre></td></tr></table></figure>

<p>é‚£æƒ³ç•™ä½è¿™ä¸ªå‡½æ•°ï¼Œåé¢åœ¨å†™å‡½æ•°ä½“é‡Œé¢çš„å†…å®¹æ€ä¹ˆåŠå‘¢ï¼Ÿæœ‰<code>2ç§</code>æ–¹å¼ï¼Œç¬¬ä¸€ï¼Œä½¿ç”¨<code>pass</code>ï¼Œç¬¬äºŒï¼Œä½¿ç”¨<code>return</code>ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def fuck():</span><br><span class="line">	pass</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def fuck():</span><br><span class="line">	return</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æ‰§è¡Œ<code>pythonæ–‡ä»¶</code>ï¼Œå°±å¯ä»¥æ‰§è¡Œé‡Œé¢çš„ç¨‹åºè€Œä¸ä¼šå› ä¸ºä¸€ä¸ª<code>ç©ºå‡½æ•°</code>è€ŒæŠ¥é”™ã€‚</p>
<h4 id="ç±»å‹æ£€æŸ¥"><a href="#ç±»å‹æ£€æŸ¥" class="headerlink" title="ç±»å‹æ£€æŸ¥"></a>ç±»å‹æ£€æŸ¥</h4><p>æ•°æ®ç±»å‹æ£€æŸ¥ç›´æ¥ä½¿ç”¨å†…ç½®å‡½æ•°<code>isinstance()å‡½æ•°</code>ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def test1(a):</span><br><span class="line">	if isinstance(a, (int, float)):</span><br><span class="line">		print(&apos;you passed an int type&apos;)</span><br><span class="line">	else:</span><br><span class="line">		raise TypeError(&apos;What the fucking are you doing?&apos;)</span><br><span class="line"></span><br><span class="line">def test2(b):</span><br><span class="line">	if not isinstance(b, (str)):</span><br><span class="line">		print(&apos;the parameter you passed is not str type&apos;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; from demo import test1</span><br><span class="line">&gt;&gt;&gt; test1(1)</span><br><span class="line">you passed an int type</span><br><span class="line">&gt;&gt;&gt; test1(2.2)</span><br><span class="line">you passed an int type</span><br><span class="line">&gt;&gt;&gt; test1(&apos;1&apos;)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">  File &quot;/Users/langke/Desktop/demo.py&quot;, line 5, in test1</span><br><span class="line">    raise TypeError(&apos;What the fucking are you doing?&apos;)</span><br><span class="line">TypeError: What the fucking are you doing?</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; from demo import test2</span><br><span class="line">&gt;&gt;&gt; test2(1)</span><br><span class="line">the parameter you passed is not str type</span><br></pre></td></tr></table></figure>

<h4 id="å‡½æ•°è¿”å›å¤šä¸ªå€¼"><a href="#å‡½æ•°è¿”å›å¤šä¸ªå€¼" class="headerlink" title="å‡½æ•°è¿”å›å¤šä¸ªå€¼"></a>å‡½æ•°è¿”å›å¤šä¸ªå€¼</h4><p><code>python</code>çš„å‡½æ•°è¿”å›å¤šä¸ªå€¼çš„æ—¶å€™ï¼Œäº‹å®ä¸Šæ˜¯è¿”å›ä¸€ä¸ªå…ƒç»„ï¼ˆ<code>tuple</code>ï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def func1(a, b):</span><br><span class="line">	a = pow(a, 2)</span><br><span class="line">	b = pow(b, 2)</span><br><span class="line">	return a, b</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  Desktop python3</span><br><span class="line">Python 3.7.4 (default, Sep  7 2019, 18:27:02)</span><br><span class="line">[Clang 10.0.1 (clang-1001.0.46.4)] on darwin</span><br><span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span><br><span class="line">&gt;&gt;&gt; from demo import func1</span><br><span class="line">&gt;&gt;&gt; m, n = func1(3, 4)</span><br><span class="line">&gt;&gt;&gt; print(m)</span><br><span class="line">9</span><br><span class="line">&gt;&gt;&gt; print(n)</span><br><span class="line">16</span><br><span class="line">&gt;&gt;&gt; func1(5, 7)</span><br><span class="line">(25, 49)</span><br></pre></td></tr></table></figure>

<h2 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h2><h4 id="ä½ç½®å‚æ•°"><a href="#ä½ç½®å‚æ•°" class="headerlink" title="ä½ç½®å‚æ•°"></a>ä½ç½®å‚æ•°</h4><p><em>ä½ç½®å‚æ•°</em>å°±æ˜¯æ­£å¸¸çš„å‚æ•°ä¼ é€’ï¼Œåˆ«æƒ³å¤æ‚äº†ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def fuckYou(name):</span><br><span class="line">	print(&apos;name is %s&apos; % name)</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„<code>fuckYouå‡½æ•°</code>ä¸­ï¼Œ<code>name</code>å°±æ˜¯æ‰€è°“çš„<em>ä½ç½®å‚æ•°</em>ã€‚</p>
<h4 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h4><p><em>é»˜è®¤å‚æ•°</em>å°±æ˜¯åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œç»™éƒ¨åˆ†å‚æ•°è®¾ç½®ä¸€ä¸ªé»˜è®¤çš„åˆå§‹å€¼çš„å‚æ•°ã€‚è¿™ä¸ªå…¶å®ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œç°åœ¨å¾ˆå¤šè¯­è¨€éƒ½æä¾›é»˜è®¤å‚æ•°äº†ï¼Œæ¯”å¦‚<code>JavaScript</code>ã€<code>Swift</code>ç­‰ç­‰ï¼Œ<em>é»˜è®¤å‚æ•°</em>åœ¨æœ‰çš„æ—¶å€™å¯ä»¥ç®€åŒ–æˆ‘ä»¬çš„ä»£ç ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def fuck(name, gender = &apos;girl&apos;, age = 18):</span><br><span class="line">	print(&apos;name is &#123;0&#125;, gender is &#123;1&#125;, age is &#123;2&#125;&apos;.format(name, gender, age))</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; from demo import fuck</span><br><span class="line">&gt;&gt;&gt; fuck(&apos;langke&apos;)</span><br><span class="line">name is langke, gender is girl, age is 18</span><br><span class="line">&gt;&gt;&gt; fuck(&apos;Alice&apos;, &apos;boy&apos;)</span><br><span class="line">name is Alice, gender is boy, age is 18</span><br><span class="line">&gt;&gt;&gt; fuck(&apos;Joe&apos;, age = 38)</span><br><span class="line">name is Joe, gender is girl, age is 38</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨ï¼šåœ¨<code>python</code>ä¸­ï¼Œå½“æä¾›å¤šä¸ªé»˜è®¤å‚æ•°ï¼Œå¹¶ä¸”åœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œå¦‚æœä¸æŒ‰é¡ºåºè°ƒç”¨åé¢çš„æŸä¸ªé»˜è®¤å‚æ•°ï¼Œå°±éœ€è¦æŒ‡å®šéœ€è¦æ”¹å˜çš„é‚£ä¸ªé»˜è®¤å‚æ•°åï¼Œæ¯”å¦‚ä¸Šé¢çš„è°ƒç”¨<code>fuck(&#39;Joe&#39;, age = 38)</code>ï¼Œéœ€è¦æ”¹å˜é»˜è®¤å‚æ•°<code>age</code>çš„å€¼ï¼Œä½†æ˜¯é»˜è®¤å‚æ•°<code>age</code>å‰é¢çš„é»˜è®¤å‚æ•°<code>gender</code>ä¿æŒä¸å˜ï¼ˆç»§ç»­ä½¿ç”¨é»˜è®¤å‚æ•°å€¼ï¼‰ï¼Œé‚£ä¹ˆå°±éœ€è¦æŒ‡å®š<code>age</code>è¿™ä¸ªå‚æ•°åï¼Œå¦åˆ™ï¼Œç›´æ¥ä¼ å…¥å‚æ•°çš„è¯ï¼Œåœ¨å‡½æ•°å†…éƒ¨å°±ä¼šä¸€ä¸€å¯¹åº”ã€‚</p>
</blockquote>
<p>å¦å¤–ï¼Œå½“ä½¿ç”¨é»˜è®¤å‚æ•°çš„æ—¶å€™ï¼Œä¹Ÿè¦æ³¨æ„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé»˜è®¤å‚æ•°å°½é‡æ˜¯<em>ä¸å¯å˜å‚æ•°å€¼</em>ï¼Œå¦‚æœæ˜¯å¯å˜çš„è¯ï¼ˆæ¯”å¦‚æ•°ç»„ï¼Œæ•°ç»„æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹å¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆæ•°æ®ä¿®æ”¹ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def appendElement(arr = []):</span><br><span class="line">	arr.append(&apos;python&apos;)</span><br><span class="line">	return arr</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; from demo import appendElement</span><br><span class="line">&gt;&gt;&gt; appendElement()</span><br><span class="line">[&apos;python&apos;]</span><br><span class="line">&gt;&gt;&gt; appendElement()</span><br><span class="line">[&apos;python&apos;, &apos;python&apos;]</span><br><span class="line">&gt;&gt;&gt; appendElement()</span><br><span class="line">[&apos;python&apos;, &apos;python&apos;, &apos;python&apos;]</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨<code>None</code>ç©ºå€¼æ¥æ”¹é€ ä¸€ä¸‹å¯å˜çš„å¯¹è±¡å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def appendElement(arr = None):</span><br><span class="line">	if arr is None:</span><br><span class="line">		arr = []</span><br><span class="line">	arr.append(&apos;python&apos;)</span><br><span class="line">	return arr</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; appendElement()</span><br><span class="line">[&apos;python&apos;]</span><br><span class="line">&gt;&gt;&gt; appendElement()</span><br><span class="line">[&apos;python&apos;]</span><br><span class="line">&gt;&gt;&gt; appendElement()</span><br><span class="line">[&apos;python&apos;]</span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼Œä¸ºäº†å®‰å…¨èµ·è§ï¼Œå»ºè®®ä¸€èˆ¬é»˜è®¤å‚æ•°éƒ½æ˜¯ç”¨<em>ä¸å¯å˜å¯¹è±¡</em>ï¼Œå¦‚æœéè¦ä½¿ç”¨<em>å¯å˜å¯¹è±¡</em>ï¼Œä¸€å®šè¦åšå¥½å®‰å…¨æ£€æŸ¥ã€‚</p>
<h4 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a>å¯å˜å‚æ•°</h4><p><em>å¯å˜å‚æ•°</em>å°±æ˜¯å¯ä»¥ä¼ å…¥ä»»æ„ä¸ªæ•°å‚æ•°ï¼Œå¯¹å‚æ•°ä¸é™åˆ¶ã€‚åœ¨<code>python</code>ä¸­ï¼Œ<em>å¯å˜å‚æ•°</em>å¯ä»¥åœ¨å‚æ•°åå‰é¢åŠ <code>*</code>å·æ¥è¡¨ç¤ºè¿™ä¸ªä¸€ä¸ª<em>å¯å˜å‚æ•°</em>ï¼Œä¼ å…¥çš„<em>å¯å˜å‚æ•°</em>åœ¨å†…éƒ¨ä¼šè½¬æ¢æˆä¸€ä¸ª<em>å…ƒç»„ï¼ˆtupleï¼‰</em>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def sum(*params):</span><br><span class="line">	print(&apos;params type is %s&apos; % type(params))</span><br><span class="line">	sum = 0</span><br><span class="line">	for param in params:</span><br><span class="line">		sum += param</span><br><span class="line">	return sum</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; from demo import sum</span><br><span class="line">&gt;&gt;&gt; sum()</span><br><span class="line">params type is &lt;class &apos;tuple&apos;&gt;</span><br><span class="line">0</span><br><span class="line">&gt;&gt;&gt; sum(1, 2)</span><br><span class="line">params type is &lt;class &apos;tuple&apos;&gt;</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; sum(1, 2, 3)</span><br><span class="line">params type is &lt;class &apos;tuple&apos;&gt;</span><br><span class="line">6</span><br></pre></td></tr></table></figure>

<p>é‚£å¦‚æœæˆ‘ä»¬è¦ä¼ å…¥ä¸€ä¸ª<em>æ•°ç»„</em>æˆ–<em>å…ƒç»„</em>å°†å…¶ä¸­çš„å…ƒç´ ä½œä¸º<em>å¯å˜å‚æ•°</em>ä¼ å…¥æ€ä¹ˆåŠå‘¢ï¼ŸåŒæ ·åœ°ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥åœ¨è¦ä¼ å…¥çš„<em>æ•°ç»„</em>æˆ–<em>å…ƒç»„</em>å‰é¢åŠ <code>*</code>å·ï¼Œè¡¨ç¤ºå°†<em>æ•°ç»„</em>æˆ–<em>å…ƒç»„</em>ä¸­çš„å…ƒç´ ä½œä¸º<em>å¯å˜å‚æ•°</em>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; sum(*[1, 2, 3])</span><br><span class="line">params type is &lt;class &apos;tuple&apos;&gt;</span><br><span class="line">6</span><br><span class="line">&gt;&gt;&gt; sum(*(4, 5, 6))</span><br><span class="line">params type is &lt;class &apos;tuple&apos;&gt;</span><br><span class="line">15</span><br></pre></td></tr></table></figure>

<p>å“‡ï¼Œå°±æ˜¯è¿™ä¹ˆåŠï¼</p>
<h4 id="å…³é”®å­—å‚æ•°"><a href="#å…³é”®å­—å‚æ•°" class="headerlink" title="å…³é”®å­—å‚æ•°"></a>å…³é”®å­—å‚æ•°</h4><p><em>å…³é”®å­—å‚æ•°</em>åœ¨å‚æ•°åå‰é¢åŠ <code>**</code>è¡¨ç¤ºå¯ä¼ å…¥ä¸€ä¸ª<em>å…³é”®å­—å‚æ•°</em>ï¼Œä¼ å…¥<em>å…³é”®å­—å‚æ•°å</em>ï¼Œå†…éƒ¨ä¼šç»„è£…æˆä¸€ä¸ª<em>å­—å…¸ï¼ˆdictï¼‰</em>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def obtainInfo(name, age, **params):</span><br><span class="line">	print(&apos;params type is %s&apos; % type(params))</span><br><span class="line">	print(&apos;name: %s\nage: %d\nparams: %s&apos; % (name, age, params))</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; obtainInfo(&apos;langke&apos;, 18)</span><br><span class="line">params type is &lt;class &apos;dict&apos;&gt;</span><br><span class="line">name: langke</span><br><span class="line">age: 18</span><br><span class="line">params: &#123;&#125;</span><br><span class="line">&gt;&gt;&gt; obtainInfo(&apos;langke&apos;, 18, gender = &apos;boy&apos;, height = 1.88)</span><br><span class="line">params type is &lt;class &apos;dict&apos;&gt;</span><br><span class="line">name: langke</span><br><span class="line">age: 18</span><br><span class="line">params: &#123;&apos;gender&apos;: &apos;boy&apos;, &apos;height&apos;: 1.88&#125;</span><br></pre></td></tr></table></figure>

<p>ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨<em>å­—å…¸ï¼ˆdictï¼‰</em>å‰é¢åŠ <code>**</code>ä½œä¸º<em>å…³é”®å­—å‚æ•°</em>ä¼ å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dicParams = &#123;</span><br><span class="line">	&apos;gender&apos;: &apos;boy&apos;,</span><br><span class="line">	&apos;height&apos;: 1.88</span><br><span class="line">&#125;</span><br><span class="line">&gt;&gt;&gt; obtainInfo(&apos;langke&apos;, 18, **dicParams)</span><br><span class="line">params type is &lt;class &apos;dict&apos;&gt;</span><br><span class="line">name: langke</span><br><span class="line">age: 18</span><br><span class="line">params: &#123;&apos;gender&apos;: &apos;boy&apos;, &apos;height&apos;: 1.88&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹<em>å…³é”®å­—å‚æ•°</em>è¿›è¡Œåˆ¤æ–­æŸä¸ª<code>key</code>æ˜¯å¦å­˜åœ¨ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def person(name, age, **params):</span><br><span class="line">	if &apos;city&apos; in params:</span><br><span class="line">		print(&apos;city exists&apos;)</span><br><span class="line">	print(name, age, params)</span><br><span class="line">person(&apos;langke&apos;, 18, city = &apos;Hangzhou&apos;)</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡ŒåŠç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  Desktop python3 demo.py </span><br><span class="line">city exists</span><br><span class="line">langke 18 &#123;&apos;city&apos;: &apos;Hangzhou&apos;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å‘½åå…³é”®å­—å‚æ•°"><a href="#å‘½åå…³é”®å­—å‚æ•°" class="headerlink" title="å‘½åå…³é”®å­—å‚æ•°"></a>å‘½åå…³é”®å­—å‚æ•°</h4><p><em>å‘½åå…³é”®å­—å‚æ•°</em>ä½¿ç”¨<code>*</code>å·æ¥åˆ†å‰²å‰åå‚æ•°ï¼Œ<code>*</code>å·åé¢çš„å‚æ•°å°±å«åš<em>å‘½åå…³é”®å­—å‚æ•°</em>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def person(name, age, *, city, height):</span><br><span class="line">	print(&apos;name:&#123;0&#125;, age:&#123;1&#125;, city:&#123;2&#125;, height:&#123;3&#125;&apos;.format(name, age, city, height))</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>city</code>å’Œ<code>height</code>å°±æ˜¯<em>å‘½åå…³é”®å­—å‚æ•°</em>ï¼Œè€Œä¸”æ‰€æœ‰çš„<em>å‘½åå…³é”®å­—å‚æ•°å¿…é¡»æŒ‡å®šä¼ å…¥å€¼</em>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; person(&apos;langke&apos;, 18, city = &apos;Hangzhou&apos;, height = 163)</span><br><span class="line">name:langke, age:18, city:Hangzhou, height:163</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå°‘äº†æŸä¸ª<em>å…³é”®å­—å‚æ•°</em>ï¼Œå°±ä¼šæŠ¥é”™ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; person(&apos;langke&apos;, 18, city = &apos;Hangzhou&apos;)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">TypeError: person() missing 1 required keyword-only argument: &apos;height&apos;</span><br></pre></td></tr></table></figure>

<p>å…³é”®å­—å‚æ•°å¯ä»¥äº’æ¢ä½ç½®ï¼Œä½†æ˜¯å¿…é¡»è¦æ³¨æ„çš„æ˜¯ï¼Œå…³é”®å­—å‚æ•°å’Œå…³é”®å­—å‚æ•°å‰é¢çš„ä½ç½®å‚æ•°ä¸èƒ½è°ƒæ¢ã€‚ä¾‹å¦‚ï¼š</p>
<p>å…³é”®å­—å‚æ•°<code>city</code>å’Œ<code>height</code>äº¤æ¢ä½ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; person(&apos;langke&apos;, 18, height = 163, city = &apos;Hangzhou&apos;)</span><br><span class="line">name:langke, age:18, city:Hangzhou, height:163</span><br></pre></td></tr></table></figure>

<p><em>å…³é”®å­—å‚æ•°</em>å’Œ<em>ä½ç½®å‚æ•°</em>äº¤æ¢ä½ç½®ï¼Œæ¯”å¦‚æŠŠ<em>å…³é”®å­—å‚æ•°<code>height</code></em>æ”¾åœ¨<em>ä½ç½®å‚æ•°<code>age</code></em>ä½ç½®å°±æŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; person(&apos;langke&apos;, height = 163, 18, city = &apos;Hangzhou&apos;)</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1</span><br><span class="line">SyntaxError: positional argument follows keyword argument</span><br></pre></td></tr></table></figure>

<p>è‹¥å‡½æ•°ä¸­å·²ç»æœ‰<em>å¯å˜å‚æ•°</em>ï¼Œé‚£ä¹ˆ<em>å‘½åå…³é”®å­—å‚æ•°</em>å°±ä¸å†éœ€è¦<code>*</code>å·äº†ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def person(name, age, *args, city, height):</span><br><span class="line">	print(args)</span><br><span class="line">	print(&apos;name:&#123;0&#125;, age:&#123;1&#125;, city:&#123;2&#125;, height:&#123;3&#125;&apos;.format(name, age, city, height))</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨å‡½æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; person(&apos;langke&apos;, 18, city = &apos;Hangzhou&apos;, height = 163)</span><br><span class="line">()</span><br><span class="line">name:langke, age:18, city:Hangzhou, height:163</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; person(&apos;langke&apos;, 18, *[1, 2, 3], city = &apos;Hangzhou&apos;, height = 163)</span><br><span class="line">(1, 2, 3)</span><br><span class="line">name:langke, age:18, city:Hangzhou, height:163</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; person(&apos;langke&apos;, 18, 1, 2, 3, city = &apos;Hangzhou&apos;, height = 163)</span><br><span class="line">(1, 2, 3)</span><br><span class="line">name:langke, age:18, city:Hangzhou, height:163</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œ<em>å‘½åå…³é”®å­—å‚æ•°</em>å¯ä»¥æœ‰é»˜è®¤å€¼ï¼ˆç±»ä¼¼é»˜è®¤å‚æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def person(name, age, *, city = &apos;Hangzhou&apos;, height):</span><br><span class="line">	print(&apos;name:&#123;0&#125;, age:&#123;1&#125;, city:&#123;2&#125;, height:&#123;3&#125;&apos;.format(name, age, city, height))</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; person(&apos;langke&apos;, 18, height = 163)</span><br><span class="line">name:langke, age:18, city:Hangzhou, height:163</span><br></pre></td></tr></table></figure>

<h4 id="å‚æ•°ç»„åˆ"><a href="#å‚æ•°ç»„åˆ" class="headerlink" title="å‚æ•°ç»„åˆ"></a>å‚æ•°ç»„åˆ</h4><p><em>å‚æ•°ç»„åˆ</em>ä¹Ÿå°±æ˜¯ä½¿ç”¨<em>ä½ç½®å‚æ•°</em>ã€<em>é»˜è®¤å‚æ•°</em>ã€<em>å¯å˜å‚æ•°</em>ã€<em>å‘½åå…³é”®å­—å‚æ•°</em>ã€<em>å…³é”®å­—å‚æ•°</em>ç»“åˆèµ·æ¥ä½¿ç”¨ï¼Œä½†æ˜¯å‚æ•°å®šä¹‰çš„é¡ºåºå¿…é¡»æ˜¯ï¼š<em>ä½ç½®å‚æ•°</em>ã€<em>é»˜è®¤å‚æ•°</em>ã€<em>å¯å˜å‚æ•°</em>ã€<em>å‘½åå…³é”®å­—å‚æ•°</em>ã€<em>å…³é”®å­—å‚æ•°</em>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def f1(a, b, c=0, *args, **kw):</span><br><span class="line">    print(&apos;a =&apos;, a, &apos;b =&apos;, b, &apos;c =&apos;, c, &apos;args =&apos;, args, &apos;kw =&apos;, kw)</span><br><span class="line"></span><br><span class="line">def f2(a, b, c=0, *, d, **kw):</span><br><span class="line">    print(&apos;a =&apos;, a, &apos;b =&apos;, b, &apos;c =&apos;, c, &apos;d =&apos;, d, &apos;kw =&apos;, kw)</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; f1(1, 2)</span><br><span class="line">a = 1 b = 2 c = 0 args = () kw = &#123;&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; f1(1, 2, c=3)</span><br><span class="line">a = 1 b = 2 c = 3 args = () kw = &#123;&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; f1(1, 2, 3, &apos;a&apos;, &apos;b&apos;)</span><br><span class="line">a = 1 b = 2 c = 3 args = (&apos;a&apos;, &apos;b&apos;) kw = &#123;&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; f1(1, 2, 3, &apos;a&apos;, &apos;b&apos;, x=99)</span><br><span class="line">a = 1 b = 2 c = 3 args = (&apos;a&apos;, &apos;b&apos;) kw = &#123;&apos;x&apos;: 99&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; f2(1, 2, d=99, ext=None)</span><br><span class="line">a = 1 b = 2 c = 0 d = 99 kw = &#123;&apos;ext&apos;: None&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åä¸€ç‚¹è¦æ³¨æ„çš„æ˜¯ï¼Œè°ƒç”¨ä¸Šé¢çš„å‡½æ•°æˆ‘ä»¬ä¹Ÿå¯ä»¥åªä½¿ç”¨<code>å…ƒç»„ï¼ˆtupleï¼‰</code>å’Œ<code>æ•°ç»„ï¼ˆlistï¼‰</code>çš„æ–¹å¼ä¼ å…¥å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; args = (1, 2, 3, 4)</span><br><span class="line">&gt;&gt;&gt; kw = &#123;&apos;d&apos;: 99, &apos;x&apos;: &apos;#&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; f1(*args, **kw)</span><br><span class="line">a = 1 b = 2 c = 3 args = (4,) kw = &#123;&apos;d&apos;: 99, &apos;x&apos;: &apos;#&apos;&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; args = (1, 2, 3)</span><br><span class="line">&gt;&gt;&gt; kw = &#123;&apos;d&apos;: 88, &apos;x&apos;: &apos;#&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; f2(*args, **kw)</span><br><span class="line">a = 1 b = 2 c = 3 d = 88 kw = &#123;&apos;x&apos;: &apos;#&apos;&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ï¼Œå¯¹äºä»»æ„å‡½æ•°ï¼Œéƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼<code>func(*args, **kw)</code>çš„å½¢å¼è°ƒç”¨å®ƒï¼Œæ— è®ºå®ƒçš„å‚æ•°æ˜¯å¦‚ä½•å®šä¹‰çš„ã€‚</p>
<h2 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h2><p><strong>é€’å½’å‡½æ•°</strong>å°±æ˜¯<em>è‡ªå·±è°ƒç”¨è‡ªå·±</em>çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def sum(n):</span><br><span class="line">	if n == 0:</span><br><span class="line">		return 0</span><br><span class="line">	return n + sum(n - 1)</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; sum(5)</span><br><span class="line">15</span><br><span class="line">&gt;&gt;&gt; sum(10)</span><br><span class="line">55</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><code>python</code>çš„å‡½æ•°å…¶å®å’Œå…¶ä»–ç¼–ç¨‹è¯­è¨€éƒ½å¤§åŒå°å¼‚ï¼Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯å‡½æ•°å‚æ•°çš„é¡ºåºï¼Œå°¤å…¶æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨<em>ç»„åˆå‚æ•°</em>æ—¶ï¼Œä¸€ä¸å°å¿ƒå¾ˆå®¹æ˜“å‡ºé”™ã€‚</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>äº” PythonåŸºç¡€ä¹‹dictå’Œset</title>
    <url>/2019/11/08/%E4%BA%94%20Python%E5%9F%BA%E7%A1%80%E4%B9%8Bdict%E5%92%8Cset/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>Python</code>ä¸­å†…ç½®äº†<code>dict</code>å’Œ<code>set</code>ï¼Œ<code>dict</code>ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„<code>å­—å…¸</code>ã€‚<code>dict</code>çš„æœ€å¤§å¥½å¤„å°±æ˜¯å–å€¼éå¸¸å¿«ï¼Œç»™å®šä¸€ä¸ª<code>key</code>ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè·å–åˆ°å®ƒå¯¹åº”çš„<code>value</code>ã€‚ä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œ<code>dict</code>ä¹Ÿè¢«å¹¿æ³›åº”ç”¨åœ¨æˆ‘ä»¬çš„å®é™…å¼€å‘å½“ä¸­ã€‚</p>
<p><code>set</code>ï¼Œé¡¾åæ€ä¹‰ï¼Œä¹Ÿå°±æ˜¯<code>é›†åˆ</code>ï¼Œå’Œæˆ‘ä»¬åˆä¸­å­¦ä¹ è¿‡çš„æ•°å­¦çŸ¥è¯†ä¸€æ ·ï¼Œé›†åˆå…·æœ‰<code>ç¡®å®šæ€§</code>ã€<code>æ— åºæ€§</code>ã€<code>äº’å¼‚æ€§</code>ï¼Œå›é¡¾ä¸€ä¸‹ï¼š</p>
<ul>
<li>ç¡®å®šæ€§</li>
</ul>
<p>ç»™å®šä¸€ä¸ªé›†åˆï¼Œä»»ç»™ä¸€ä¸ªå…ƒç´ ï¼Œè¯¥å…ƒç´ æˆ–è€…å±äºæˆ–è€…ä¸å±äºè¯¥é›†åˆï¼ŒäºŒè€…å¿…å±…å…¶ä¸€ï¼Œä¸å…è®¸æœ‰æ¨¡æ£±ä¸¤å¯çš„æƒ…å†µå‡ºç°</p>
<ul>
<li>æ— åºæ€§</li>
</ul>
<p>å…ƒç´ ä¹‹é—´æ²¡æœ‰é¡ºåºï¼Œéƒ½æ˜¯æ— åºçš„ã€‚</p>
<ul>
<li>äº’å¼‚æ€§</li>
</ul>
<p>ç»™å®šä¸€ä¸ªé›†åˆï¼Œå…ƒç´ ä¸å…è®¸é‡å¤ï¼Œé›†åˆä¸­çš„å…ƒç´ éƒ½æ˜¯ä¸ç›¸åŒçš„ã€‚</p>
<h2 id="dict"><a href="#dict" class="headerlink" title="dict"></a>dict</h2><h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><p><code>dict</code>å¯ä»¥ä½¿ç”¨å­—é¢é‡åˆå§‹åŒ–ï¼Œä¾‹å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dic = &#123;&apos;key1&apos;: &apos;value1&apos;, &apos;key2&apos;: 666&#125;</span><br></pre></td></tr></table></figure>

<p>æœ‰è¶£çš„æ˜¯ï¼Œ<code>python</code>çš„å­—å…¸å¯ä»¥æ˜¯åŸºæœ¬æ•°æ®ç±»å‹æˆ–ä¸€äº›ä¸å¯å˜ç±»å‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; dic = &#123;&apos;key1&apos;: &apos;value1&apos;, 1: &apos;one&apos;, False: &apos;False&apos;, _: &apos;_&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; dic[&apos;key1&apos;]</span><br><span class="line">&apos;value1&apos;</span><br><span class="line">&gt;&gt;&gt; dic[1] // å¯ä»¥ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ä½œä¸ºkey</span><br><span class="line">&apos;one&apos;</span><br><span class="line">&gt;&gt;&gt; dic[False]  // å¯ä»¥ä½¿ç”¨boolå€¼ä½œä¸ºkey</span><br><span class="line">&apos;False&apos;</span><br><span class="line">&gt;&gt;&gt; dic[_] // å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿_ä½œä¸ºkey</span><br><span class="line">&apos;_&apos;</span><br><span class="line">&gt;&gt;&gt; dic[0] // å½“keyä¸ºboolå€¼æ—¶ï¼Œå¯ä»¥ç”¨0ä»£è¡¨Falseå–å€¼ï¼Œå¯ä»¥ç”¨1ä»£è¡¨Trueå–å€¼</span><br><span class="line">&apos;False&apos;</span><br><span class="line">&gt;&gt;&gt; dic[True] // å½“keyä¸º1æˆ–è€…0æ—¶ï¼Œå¯ä»¥ç”¨Trueä»£è¡¨1å–å€¼ï¼Œå¯ä»¥ç”¨Falseä»£è¡¨0å–å€¼</span><br><span class="line">&apos;one&apos;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œå½“<code>key</code>ä¸º<code>0</code>æ—¶ï¼Œå¦‚æœä½¿ç”¨<code>False</code>ä½œä¸º<code>key</code>æ·»åŠ åˆ°å­—å…¸ï¼Œåˆ™å­—å…¸çš„<code>key</code>è¿˜æ˜¯ä»¥<code>0</code>ä¸ºå‡†ï¼Œä½†æ˜¯å€¼ä¼šè¦†ç›–ä¹‹å‰çš„å€¼ï¼Œå½“<code>key</code>ä¸º<code>1</code>æ—¶ï¼Œä¹Ÿæ˜¯åŒä¸€ä¸ªé“ç†ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; dic = &#123;1: &apos;a&apos;, 0: &apos;b&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; dic</span><br><span class="line">&#123;1: &apos;a&apos;, 0: &apos;b&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; dic[True] = &apos;True&apos;</span><br><span class="line">&gt;&gt;&gt; dic</span><br><span class="line">&#123;1: &apos;True&apos;, 0: &apos;b&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; dic[False] = &apos;False&apos;</span><br><span class="line">&gt;&gt;&gt; dic</span><br><span class="line">&#123;1: &apos;True&apos;, 0: &apos;False&apos;&#125;</span><br></pre></td></tr></table></figure>

<p>åŒæ ·åœ°ï¼Œå½“<code>key</code>ä¸º<code>True</code>æˆ–<code>False</code>æ—¶ï¼Œæ·»åŠ <code>1</code>æˆ–<code>0</code>ä½œä¸º<code>key</code>æ·»åŠ åˆ°å­—å…¸ï¼Œä»ç„¶æ˜¯ä»¥<code>True</code>æˆ–<code>False</code>ä¸º<code>key</code>ï¼Œåªæ˜¯å€¼ä¼šè¢«è¦†ç›–ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; dic = &#123;True: &apos;a&apos;, False: &apos;b&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; dic[1] = 666</span><br><span class="line">&gt;&gt;&gt; dic</span><br><span class="line">&#123;True: 666, False: &apos;b&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; dic[0] = 555</span><br><span class="line">&gt;&gt;&gt; dic</span><br><span class="line">&#123;True: 666, False: 555&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä½ çš„<code>key</code>ä¸º<code>1</code>æ—¶ï¼Œè¿™æ—¶å¾€å­—å…¸æ·»åŠ <code>True</code>ä½œä¸º<code>key</code>æ—¶ï¼Œ<code>Python</code>å†…éƒ¨ä¼šå°†ä½ çš„<code>True</code>è½¬åŒ–ä¸º<code>1</code>ï¼Œç„¶ååˆ¤æ–­åŸæ¥çš„<code>dic</code>é‡Œé¢å·²ç»æœ‰<code>1</code>ï¼Œå› æ­¤<code>key</code>ä¿æŒä¸å˜ï¼Œå€¼è¢«è¦†ç›–ã€‚åä¹‹ï¼Œå¦‚æœç”¨<code>bool</code>å€¼ä½œä¸º<code>key</code>ï¼Œå†å¾€é‡Œé¢æ·»åŠ <code>1</code>æˆ–<code>0</code>ä½œä¸º<code>key</code>çš„æ—¶å€™ï¼Œ<code>Python</code>å†…éƒ¨ä¼šè½¬åŒ–æˆ<code>bool</code>å€¼çš„<code>key</code>ã€‚</p>
<h4 id="æ·»åŠ å€¼"><a href="#æ·»åŠ å€¼" class="headerlink" title="æ·»åŠ å€¼"></a>æ·»åŠ å€¼</h4><p>ç›´æ¥é€šè¿‡èµ‹å€¼çš„æ–¹å¼å¾€å­—å…¸ä¸­æ·»åŠ é”®å€¼å¯¹ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; dic = &#123;&apos;key1&apos;: &apos;value1&apos;, &apos;key2&apos;: &apos;value2&apos;&#125;</span><br><span class="line">&gt;&gt;&gt; dic[&apos;key3&apos;] = &apos;value3&apos;</span><br><span class="line">&gt;&gt;&gt; dic</span><br><span class="line">&#123;&apos;key1&apos;: &apos;value1&apos;, &apos;key2&apos;: &apos;value2&apos;, &apos;key3&apos;: &apos;value3&apos;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨"><a href="#åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨" class="headerlink" title="åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨"></a>åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨</h4><ul>
<li><code>key in dict</code></li>
</ul>
<p>ä½¿ç”¨<code>key in dict</code>çš„å½¢å¼æ¥åˆ¤æ–­<code>key</code>æ˜¯å¦å­˜åœ¨äºå­—å…¸<code>dict</code>ä¸­ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dic = &#123;&apos;key1&apos;: &apos;value1&apos;, &apos;key2&apos;: &apos;value2&apos;&#125;</span><br><span class="line">if &apos;key2&apos; in dic:</span><br><span class="line">	print(&apos;dicä¸­å­˜åœ¨key2&apos;)</span><br><span class="line">else:</span><br><span class="line">	print(&apos;dicä¸­ä¸å­˜åœ¨key2&apos;)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dicä¸­å­˜åœ¨key2</span><br></pre></td></tr></table></figure>

<ul>
<li><code>dic.get(key)</code></li>
</ul>
<p>ç¬¬äºŒç§æ–¹æ³•å°±æ˜¯é€šè¿‡<code>dic.get(key)</code>çš„å½¢å¼åˆ¤æ–­ï¼Œå¦‚æœ<code>key</code>å­˜åœ¨ï¼Œå°†è¿”å›<code>key</code>å¯¹åº”çš„<code>value</code>ï¼Œå¦‚æœ<code>key</code>ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›<code>None</code>ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šå½“<code>key</code>ä¸å­˜åœ¨æ—¶ï¼Œè¿”å›ç‰¹å®šçš„å€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dic = &#123;&apos;key1&apos;: &apos;value1&apos;, &apos;key2&apos;: &apos;value2&apos;&#125;</span><br><span class="line">ret = dic.get(&apos;key2&apos;)</span><br><span class="line">print(&apos;ret = %s&apos; % ret)</span><br><span class="line"></span><br><span class="line">ret1 = dic.get(&apos;key3&apos;)</span><br><span class="line">print(&apos;ret1 = %s&apos; % ret1)</span><br><span class="line"></span><br><span class="line">ret2 = dic.get(&apos;key4&apos;, -9999)</span><br><span class="line">print(&apos;ret2 = &#123;0&#125;&apos;.format(ret2))</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  Desktop python3 demo.py</span><br><span class="line">ret = value2</span><br><span class="line">ret1 = None</span><br><span class="line">ret2 = -9999</span><br></pre></td></tr></table></figure>

<h4 id="åˆ é™¤å…ƒç´ "><a href="#åˆ é™¤å…ƒç´ " class="headerlink" title="åˆ é™¤å…ƒç´ "></a>åˆ é™¤å…ƒç´ </h4><p>å­—å…¸çš„åˆ é™¤å…ƒç´ æ–¹æ³•å’Œæ•°ç»„æ˜¯ç±»ä¼¼çš„ï¼Œç›´æ¥ä½¿ç”¨<code>pop(key)</code>çš„å½¢å¼ï¼Œ<code>pop(key)</code>åˆ é™¤å¹¶è¿”å›æ‰€åˆ é™¤çš„<code>key</code>å¯¹åº”çš„<code>value</code>ï¼Œä½†æ˜¯å¦‚æœ<code>key</code>ä¸å­˜åœ¨å°±ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; dic = &#123;&apos;a&apos;: 1, &apos;b&apos;: 2&#125;</span><br><span class="line">&gt;&gt;&gt; dic.pop(&apos;a&apos;)</span><br><span class="line">1</span><br><span class="line">&gt;&gt;&gt; dic</span><br><span class="line">&#123;&apos;b&apos;: 2&#125;</span><br><span class="line">&gt;&gt;&gt; dic.pop(&apos;c&apos;)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">KeyError: &apos;c&apos;</span><br></pre></td></tr></table></figure>

<h4 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ul>
<li>æŸ¥æ‰¾é€Ÿåº¦å¿«ï¼ˆä»¥ç©ºé—´æ¢æ—¶é—´ï¼‰</li>
<li>å ç”¨ç©ºé—´å¤§ï¼Œæµªè´¹å†…å­˜è¾ƒå¤š</li>
<li>keyå¿…é¡»æ˜¯ä¸å¯å˜å¯¹è±¡</li>
</ul>
<p>ä¸ºä»€ä¹ˆè¦æ±‚<code>key</code>æ˜¯ä¸å¯å˜ï¼Œå¼•ç”¨<a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017104324028448" target="_blank" rel="noopener">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</a>çš„æè¿°å°±æ˜¯ï¼š</p>
<blockquote>
<p>å› ä¸º<code>dict</code>æ ¹æ®<code>key</code>æ¥è®¡ç®—<code>value</code>çš„å­˜å‚¨ä½ç½®ï¼Œå¦‚æœæ¯æ¬¡è®¡ç®—ç›¸åŒçš„<code>key</code>å¾—å‡ºçš„ç»“æœä¸åŒï¼Œé‚£<code>dict</code>å†…éƒ¨å°±å®Œå…¨æ··ä¹±äº†ã€‚è¿™ä¸ªé€šè¿‡<code>key</code>è®¡ç®—ä½ç½®çš„ç®—æ³•ç§°ä¸ºå“ˆå¸Œç®—æ³•ï¼ˆ<code>Hash</code>ï¼‰ã€‚<br>è¦ä¿è¯<code>hash</code>çš„æ­£ç¡®æ€§ï¼Œä½œä¸º<code>key</code>çš„å¯¹è±¡å°±ä¸èƒ½å˜ã€‚åœ¨<code>Python</code>ä¸­ï¼Œå­—ç¬¦ä¸²ã€æ•´æ•°ç­‰éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤ï¼Œå¯ä»¥æ”¾å¿ƒåœ°ä½œä¸º<code>key</code>ã€‚æ¯”å¦‚ï¼Œ<code>list</code>æ˜¯å¯å˜çš„ï¼Œå°±ä¸èƒ½ä½œä¸º<code>key</code>ã€‚</p>
</blockquote>
<h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><h4 id="åˆ›å»ºé›†åˆ"><a href="#åˆ›å»ºé›†åˆ" class="headerlink" title="åˆ›å»ºé›†åˆ"></a>åˆ›å»ºé›†åˆ</h4><p>åœ¨<code>Python</code>ä¸­ï¼Œåˆ›å»ºé›†åˆéœ€è¦ä¸€ä¸ª<code>list</code>æ•°ç»„ä½œä¸ºæ•°ç»„ï¼Œè¿™ä¸€ç‚¹å¾ˆæœ‰è¶£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; mySet = set([1, 2, 3])</span><br><span class="line">&gt;&gt;&gt; mySet</span><br><span class="line">&#123;1, 2, 3&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ·»åŠ å…ƒç´ "><a href="#æ·»åŠ å…ƒç´ " class="headerlink" title="æ·»åŠ å…ƒç´ "></a>æ·»åŠ å…ƒç´ </h4><p>ä½¿ç”¨<code>add(key)</code>çš„å½¢å¼æ¥æ·»åŠ å…ƒç´ åˆ°é›†åˆä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; mySet = set([1, 2, 3])</span><br><span class="line">&gt;&gt;&gt; mySet.add(4)</span><br><span class="line">&gt;&gt;&gt; mySet</span><br><span class="line">&#123;1, 2, 3, 4&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ é™¤å…ƒç´ -1"><a href="#åˆ é™¤å…ƒç´ -1" class="headerlink" title="åˆ é™¤å…ƒç´ "></a>åˆ é™¤å…ƒç´ </h4><p>ä½¿ç”¨<code>remove(key)</code>çš„å½¢å¼ç›´æ¥åˆ é™¤å…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; mySet = set([1, 2, 3])</span><br><span class="line">&gt;&gt;&gt; mySet.remove(2)</span><br><span class="line">&gt;&gt;&gt; mySet</span><br><span class="line">&#123;1, 3&#125;</span><br></pre></td></tr></table></figure>

<h4 id="äº¤é›†"><a href="#äº¤é›†" class="headerlink" title="äº¤é›†"></a>äº¤é›†</h4><p>ä½¿ç”¨<code>&amp;</code>ç¬¦å·æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; mySet = set([1,2,3])</span><br><span class="line">&gt;&gt;&gt; yourSet = set([2, 3, 4])</span><br><span class="line">&gt;&gt;&gt; mySet &amp; yourSet</span><br><span class="line">&#123;2, 3&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å¹¶é›†"><a href="#å¹¶é›†" class="headerlink" title="å¹¶é›†"></a>å¹¶é›†</h4><p>ä½¿ç”¨<code>|</code>ç¬¦å·æ±‚ä¸¤ä¸ªé›†åˆçš„å¹¶é›†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; mySet = set([1,2,3])</span><br><span class="line">&gt;&gt;&gt; yourSet = set([2, 3, 4])</span><br><span class="line">&gt;&gt;&gt; mySet | yourSet</span><br><span class="line">&#123;1, 2, 3, 4&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼š<code>set</code>å’Œ<code>dict</code>çš„å”¯ä¸€åŒºåˆ«æ˜¯æ²¡æœ‰å­˜å‚¨å¯¹åº”çš„<code>value</code>ï¼Œå› ä¸ºé›†åˆå…·æœ‰äº’å¼‚æ€§ï¼Œä¸ºäº†ä¿è¯æ²¡æœ‰é‡å¤çš„å…ƒç´ ï¼Œå› æ­¤é›†åˆå†…ä¸å¯ä»¥æ·»åŠ <strong>ä¸å¯å˜å¯¹è±¡</strong>ã€‚</p>
</blockquote>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul>
<li><code>dict</code>å’Œ<code>set</code>çš„<code>key</code>å¿…é¡»ä¸å¯å˜ï¼Œå› ä¸ºè¦ä¿è¯å¯å“ˆå¸Œ</li>
<li>é€šå¸¸æƒ…å†µä¸‹ï¼Œå»ºè®®ä½¿ç”¨<code>str</code>ä½œä¸º<code>dict</code>çš„<code>key</code></li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>React Nativeä¹‹Reduxçš„ä½¿ç”¨</title>
    <url>/2019/11/08/React%20Native%E4%B9%8BRedux%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>Redux</code>æ˜¯ä¸€ä¸ªçŠ¶æ€ç®¡ç†å·¥å…·ï¼Œæä¾›å¯é¢„æµ‹åŒ–çš„çŠ¶æ€ç®¡ç†ã€‚åœ¨åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨<code>state</code>å’Œ<code>props</code>æ¥ç®¡ç†ç»„ä»¶çš„æ•°æ®æµï¼Œä»¥åŠç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’ï¼Œç„¶åæ›´æ–°<code>UI</code>ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœåº”ç”¨ä¸å¤§ï¼Œä»£ç è§„èŒƒä¼˜ç§€ï¼Œä¸šåŠ¡é€»è¾‘å¤„ç†å¾—å½“ï¼Œé‚£ä¹ˆä½¿ç”¨<code>state</code>å’Œ<code>props</code>æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿç”¨ä¸ç€æ‰€è°“çš„<code>Redux</code>æ¥ç®¡ç†åº”ç”¨çš„çŠ¶æ€ã€‚</p>
<p>ä½†æ˜¯ï¼Œéšç€åº”ç”¨çš„é€æ¸åºå¤§ï¼Œä¸šåŠ¡é€»è¾‘å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œè¿™æ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæœ‰äº›ç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´çš„å€¼çš„ä¼ é€’ï¼ˆ<code>props</code>ï¼‰ä¼šå˜å¾—å¾ˆå›°éš¾ï¼Œä¿®æ”¹äº†è¿™ä¸ªç»„ä»¶ï¼Œå¦ä¸€ä¸ªç»„ä»¶ä¹Ÿè¦ä¿æŒåŒæ­¥ã€åˆ·æ–°ç­‰ç­‰æ“ä½œï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨<code>block</code>ã€<code>Notification</code>ã€<code>ç¼“å­˜</code>ç­‰æ“ä½œæ¥ä¿æŒåº”ç”¨çš„æœ€æ–°çŠ¶æ€ï¼Œä¸€ä¸å°å¿ƒï¼Œå®¹æ˜“å‡ºé”™ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ‰ä¸€ä¸ªå¥½çš„å·¥å…·æ¥æ›¿æˆ‘ä»¬æ¥ç®¡ç†æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€ï¼Œé‚£å°±å¤ªæ£’äº†ï¼Œè€Œ<code>Redux</code>æ­£æ˜¯å¸®æˆ‘ä»¬åšè¿™ä¸€å¤æ‚é€»è¾‘çš„ä¸€ä¸ªçŠ¶æ€ç®¡ç†å·¥å…·ï¼Œè®©æˆ‘ä»¬å¯ä»¥ç‹¬ç«‹åœ°åœ¨ä»»ä½•åœ°æ–¹è·å–åˆ°æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€ã€‚</p>
<p><a href="https://github.com/reduxjs/redux" target="_blank" rel="noopener">Reduxåœ¨GitHubåœ°å€ã€‚</a></p>
<h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><ul>
<li>action</li>
</ul>
<p><code>action</code>å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œç”¨æ¥æè¿°æŸä¸€ç§è¡Œä¸ºã€‚</p>
<ul>
<li>reducer</li>
</ul>
<p><code>reducer</code>æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œç”¨æ¥è®¡ç®—ã€åˆå¹¶åœ¨äº§ç”Ÿè¡Œä¸ºåçš„<code>state</code>æ•°æ®ï¼Œè¿”å›ä¸€ä¸ªå…¨æ–°çš„<code>state</code>åˆ°<code>store</code>ã€‚ä¹‹æ‰€ä»¥å«çº¯å‡½æ•°ï¼Œæ˜¯å› ä¸ºåœ¨<code>reducer</code>å‡½æ•°ä¸­ï¼Œåªåšæ•°æ®çš„åˆå¹¶ã€å¤„ç†æ“ä½œï¼Œä¸ä¼šè°ƒç”¨ä»»ä½•<code>API</code>ï¼Œä¹Ÿä¸ä¼šæ”¹å˜å¤–éƒ¨çš„<code>state</code>æ•°æ®ã€‚</p>
<ul>
<li>store</li>
</ul>
<p><code>store</code>æ˜¯ä¸€ä¸ªå­˜å‚¨æ•´ä¸ªåº”ç”¨çš„<code>stateæ ‘</code>ï¼Œå®ƒä¿å­˜äº†æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€ä¿¡æ¯ï¼Œé‡è¦çš„æ˜¯ï¼Œä»»ä½•åº”ç”¨ï¼Œæœ‰ä¸”åªæœ‰ä¸€ä¸ª<code>store</code>ã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…çš„ä¸‰æ–¹åº“å¦‚ä¸‹ï¼š</p>
<ul>
<li>redux</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save redux</span><br></pre></td></tr></table></figure>

<ul>
<li>react-redux</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save react-redux</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>react-redux</code>æ˜¯<code>redux</code>çš„å®˜æ–¹<code>react</code>ç»‘å®šåº“ï¼Œæä¾›ä¸€äº›ç»„ä»¶å…³è”å‡½æ•°ã€çŠ¶æ€ä¼ é€’<code>provider</code>ç­‰ã€‚</p>
</blockquote>
<ul>
<li>redux-thunk</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install redux-thunk</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>redux-thunk</code>æ˜¯ä¸€ä¸ª<code>Middleware</code>ï¼Œä¸<code>redux</code>ç»„åˆå¯è°ƒç”¨å¼‚æ­¥å‡½æ•°ã€‚</p>
</blockquote>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><h4 id="æ•ˆæœå›¾ï¼š"><a href="#æ•ˆæœå›¾ï¼š" class="headerlink" title="æ•ˆæœå›¾ï¼š"></a>æ•ˆæœå›¾ï¼š</h4><p><img src="https://i.loli.net/2019/11/08/5BjCJyZeXbIQAct.gif" alt="gif.gif"></p>
<blockquote>
<p>æ³¨ï¼šå‡è®¾ä½ å·²ç»ç†Ÿæ‚‰åˆ›å»º<code>React Native</code>å·¥ç¨‹ï¼Œå¦‚ä½•åˆ›å»ºè¿™é‡Œä¸å†è¯¦ç»†è¯´æ˜ï¼Œè‹¥ä¸æ‡‚çš„è¯å¯ç§»æ­¥åˆ°ï¼š<a href="https://facebook.github.io/react-native/" target="_blank" rel="noopener">React Nativeå®˜ç½‘</a> æˆ–è€… <a href="https://reactnative.cn/" target="_blank" rel="noopener">React Nativeä¸­æ–‡ç½‘</a>ã€‚</p>
</blockquote>
<h4 id="å·¥ç¨‹ç›®å½•ç»“æ„"><a href="#å·¥ç¨‹ç›®å½•ç»“æ„" class="headerlink" title="å·¥ç¨‹ç›®å½•ç»“æ„"></a>å·¥ç¨‹ç›®å½•ç»“æ„</h4><blockquote>
<p>æ³¨ï¼šç›®å½•å¯æ ¹æ®è‡ªå·±éœ€è¦ï¼Œå¹¶ä¸æ˜¯è§‰å¾—ï¼Œåªè¦ä½ è§‰å¾—æ–¹ä¾¿ã€åˆç†ã€ä½è€¦åˆå³å¯ã€‚</p>
</blockquote>
<p><img src="https://i.loli.net/2019/11/08/ORrSku1mWZUzeAa.png" alt="proj_structure"></p>
<h4 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><h6 id="Actionç›®å½•"><a href="#Actionç›®å½•" class="headerlink" title="Actionç›®å½•"></a>Actionç›®å½•</h6><ul>
<li>ActionType.js</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const ADD_NAME = &apos;ADD_NAME&apos;;</span><br></pre></td></tr></table></figure>

<p>ç”¨äºæè¿°<code>action</code>çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æŸç§è¡Œä¸ºï¼Œä¸€èˆ¬å»ºè®®ç”¨å­—ç¬¦ä¸²å¸¸é‡ã€‚</p>
<ul>
<li>NameAction.js</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;ADD_NAME&#125; from &quot;./ActionType&quot;;</span><br><span class="line"></span><br><span class="line">export const addName = data =&gt; (&#123;</span><br><span class="line">    type: ADD_NAME,</span><br><span class="line">    data,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–‡ä»¶ä¸»è¦ç”¨äºåˆ›å»º<code>action</code>å¯¹è±¡ï¼Œæ ¹æ®<code>Redux</code>æ ‡å‡†ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¿…é¡»æœ‰ä¸€ä¸ª<code>type</code>å­—æ®µï¼Œç”¨äºæè¿°è¦è§¦å‘çš„ç±»å‹ã€‚</p>
<h6 id="Reducerç›®å½•"><a href="#Reducerç›®å½•" class="headerlink" title="Reducerç›®å½•"></a>Reducerç›®å½•</h6><ul>
<li>NameReducer.js</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;ADD_NAME&#125; from &quot;../Action/ActionType&quot;;</span><br><span class="line"></span><br><span class="line">const initialState = &#123;</span><br><span class="line">    data: [</span><br><span class="line">        &#123;</span><br><span class="line">            title: &apos;test0&apos;,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export const nameReducer = (state = initialState, action) =&gt; &#123;</span><br><span class="line">    switch (action.type) &#123;</span><br><span class="line">        case ADD_NAME:</span><br><span class="line">            return &#123;</span><br><span class="line">                ...state,</span><br><span class="line">                data: state.data.concat(action.data),</span><br><span class="line">            &#125;;</span><br><span class="line">        default:</span><br><span class="line">            return state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»º<code>reducer</code>å‡½æ•°å³<code>nameReducer</code>ï¼Œæ¥å—å…ˆå‰çš„<code>state</code>ï¼Œé»˜è®¤æœ‰ä¸€ä¸ªåˆå§‹å€¼ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>action</code>ï¼Œä¹Ÿå°±æ˜¯å½“è§¦å‘æ“ä½œåæ¥å—åˆ°çš„<code>action</code>å¯¹è±¡ï¼Œé‡Œé¢åŒ…å«äº†ç±»å‹<code>type</code>å’Œæ•°æ®ï¼ˆæ•°æ®æ˜¯éå¿…é¡»çš„ï¼Œæ ¹æ®éœ€è¦çœ‹æ˜¯å¦ä¼ å…¥ï¼‰ã€‚</p>
<p>å¦‚æœæ‰¾ä¸åˆ°ç±»å‹ï¼Œé»˜è®¤è¿”å›å…ˆå‰çš„<code>state</code>çŠ¶æ€ã€‚</p>
<ul>
<li>index.js</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;combineReducers&#125; from &apos;redux&apos;;</span><br><span class="line">import &#123;nameReducer&#125; from &apos;./NameReducer&apos;;</span><br><span class="line"></span><br><span class="line">const rootReducer = combineReducers(&#123;</span><br><span class="line">    nameReducer,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default rootReducer;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡<code>redux</code>æä¾›çš„<code>combineReducers</code>å°†æ‰€æœ‰çš„<code>reducer</code>ç»„åˆæˆä¸€ä¸ª<code>rootReducer</code>ï¼ˆè¿™é‡Œä¸ºäº†æ–¹ä¾¿ï¼Œåªå†™äº†ä¸€ä¸ª<code>reducer</code>ï¼‰ã€‚</p>
<h6 id="Storeç›®å½•"><a href="#Storeç›®å½•" class="headerlink" title="Storeç›®å½•"></a>Storeç›®å½•</h6><ul>
<li>Store.js</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;createStore&#125; from &apos;redux&apos;;</span><br><span class="line">import rootReducer from &quot;../Reducer&quot;;</span><br><span class="line">const store = createStore(rootReducer);</span><br><span class="line">export default store;</span><br></pre></td></tr></table></figure>

<p><code>store</code>çš„èŒè´£æ˜¯ç»´æŒæ•´ä¸ªåº”ç”¨çš„çŠ¶æ€ï¼Œåˆ›å»º<code>store</code>ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥ä½¿ç”¨<code>Redux</code>æä¾›çš„å‡½æ•°<code>createStore</code>ï¼Œä¼ å…¥ä¸Šä¸€æ­¥åˆ›å»ºçš„<code>rootReducer</code>å³å¯ï¼Œè¿™æ ·ï¼Œ<code>redux</code>ç›¸å…³çš„ä¸œè¥¿å‡†å¤‡å¾—å·®ä¸å¤šäº†ï¼Œæ¥ä¸‹æ¥è¯¥åœ¨æˆ‘ä»¬çš„ç»„ä»¶é‡Œé¢ï¼Œç»‘å®šæˆ‘ä»¬çš„<code>store</code>ã€è§¦å‘<code>action</code>å°±å¥½äº†ã€‚</p>
<h6 id="Componentç›®å½•"><a href="#Componentç›®å½•" class="headerlink" title="Componentç›®å½•"></a>Componentç›®å½•</h6><ul>
<li>Home.js</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    View,</span><br><span class="line">    FlatList,</span><br><span class="line">    TouchableOpacity,</span><br><span class="line">    Text,</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line">import &#123;connect&#125; from &apos;react-redux&apos;;</span><br><span class="line">import &#123;addName&#125; from &apos;../Action/NameAction&apos;;</span><br><span class="line">import styles from &quot;./styles&quot;;</span><br><span class="line"></span><br><span class="line">const buttonText = &apos;Add Name&apos;;</span><br><span class="line">let index = 0;</span><br><span class="line"></span><br><span class="line">class Home extends Component &#123;</span><br><span class="line"></span><br><span class="line">    _addName = () =&gt; &#123;</span><br><span class="line">        index += 1;</span><br><span class="line">        const data = [&#123;title: `test$&#123;index&#125;`&#125;];</span><br><span class="line">        this.props.addName(data);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    _renderItem = (&#123;item&#125;) =&gt; &#123;</span><br><span class="line">        const &#123;title&#125; = item;</span><br><span class="line">        return (&lt;View style=&#123;styles.cell&#125;&gt;</span><br><span class="line">            &lt;Text&gt;&#123;title&#125;&lt;/Text&gt;</span><br><span class="line">        &lt;/View&gt;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">                &lt;View style=&#123;styles.navigationBar&#125;/&gt;</span><br><span class="line">                &lt;TouchableOpacity onPress=&#123;this._addName&#125;&gt;</span><br><span class="line">                    &lt;Text style=&#123;styles.nameButtonText&#125;&gt;&#123;buttonText&#125;&lt;/Text&gt;</span><br><span class="line">                &lt;/TouchableOpacity&gt;</span><br><span class="line">                &lt;View style=&#123;styles.line&#125;/&gt;</span><br><span class="line">                &lt;FlatList</span><br><span class="line">                    renderItem=&#123;this._renderItem&#125;</span><br><span class="line">                    data=&#123;this.props.data&#125;</span><br><span class="line">                    keyExtractor=&#123;(item, index) =&gt; index.toString()&#125;</span><br><span class="line">                /&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mapStateToProps = state =&gt; (&#123;</span><br><span class="line">    data: state.nameReducer.data,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const mapDispatchToProps = dispatch =&gt; (&#123;</span><br><span class="line">    addName: data =&gt; dispatch(addName(data))</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default connect(</span><br><span class="line">    mapStateToProps,</span><br><span class="line">    mapDispatchToProps,</span><br><span class="line">)(Home);</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªç»„ä»¶ä¸­ï¼Œæœ€é‡è¦çš„ä¸€ä¸ªæ­¥éª¤æ˜¯ä½¿ç”¨<code>react-redux</code>æä¾›çš„<code>connect</code>å‡½æ•°ï¼Œå°†<code>Home</code>ç»„ä»¶å’Œæˆ‘ä»¬çš„<code>redux</code>å…³è”èµ·æ¥ï¼Œè¿™æ ·å°±å¯ä»¥è·å–åˆ°<code>store</code>ä¸­çš„<code>state</code>ï¼Œè§¦å‘<code>action</code>ã€‚</p>
<p><strong>mapStateToProps</strong>ï¼š ä¸»è¦ç”¨äºå°†<code>store</code>ä¸­çš„<code>state</code>æ˜ å°„åˆ°å½“å‰ç»„ä»¶çš„<code>props</code>ï¼Œè¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ç»„ä»¶ä¸­é€šè¿‡<code>this.props</code>çš„å½¢å¼è·å–éœ€è¦çš„æ•°æ®ã€‚<code>state.nameReducer.data</code>ä¸­çš„<code>nameReducer</code>å°±æ˜¯<code>Reducerç›®å½•</code>ä¸‹çš„<code>index.js</code>é‡Œé¢çš„<code>nameReducer</code>ï¼Œæœ€ç»ˆå…¶å®å°±æ˜¯<code>NameReducer.js</code>æ–‡ä»¶ä¸­çš„çº¯å‡½æ•°<code>nameReducer</code>ï¼Œé‡Œé¢çš„<code>data</code>ä¹Ÿå°±æ˜¯ä»<code>store</code>å–å‡ºæ¥çš„æœ€æ–°<code>state</code>æ•°æ®ï¼Œåœ¨<code>render</code>å‡½æ•°é‡Œé¢ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>this.props.data</code>æ‹¿åˆ°æœ€æ–°çš„åˆ—è¡¨æ•°æ®ã€‚</p>
<p><strong>mapDispatchToPropsï¼š</strong> ä¸»è¦ç”¨äºå°†<code>dispatch(action)</code>æ“ä½œæ˜ å°„åˆ°å½“å‰çš„<code>Home</code>ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨<code>_addName</code>ç‚¹å‡»äº‹ä»¶é‡Œé¢ï¼Œä½¿ç”¨äº†<code>this.props.addName(data);</code>ï¼Œè¿™ä¸ª<code>this.props.addName</code>å°±æ˜¯<code>mapDispatchToProps</code>çš„åŠŸåŠ³ã€‚<code>dispatch(addName(data))</code>ä¸­çš„<code>addName</code>å°±æ˜¯ä¹‹å‰æˆ‘ä»¬åˆ›å»ºçš„<code>action</code>å¯¹è±¡ï¼ˆä½ ä¹Ÿå¯ä»¥ç†è§£æˆä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œå³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const addName = data =&gt; (&#123;</span><br><span class="line">    type: ADD_NAME,</span><br><span class="line">    data,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·çš„è¯ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ¥è°ƒç”¨<code>_addName</code>çš„ä½¿ç”¨ï¼Œé€šè¿‡<code>dispatch</code>æ¥è§¦å‘<code>addName()</code>è¿™ä¸ª<code>action</code>ï¼Œç„¶åè§¦å‘<code>nameReducer</code>ï¼Œæœ€åé€šè¿‡<code>this.props.data</code>è·å–åˆ°æœ€æ–°çš„<code>state</code>æ•°æ®æ¥åˆ·æ–°<code>UI</code>ã€‚</p>
<ul>
<li>styles.js</li>
</ul>
<p>è¿™é‡Œé¢éƒ½æ˜¯å­˜å‚¨ç»„ä»¶é‡Œé¢çš„æ ·å¼ï¼Œä½¿ç»„ä»¶é‡Œé¢æ›´åŠ å…³æ³¨ä¸šåŠ¡é€»è¾‘ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;StyleSheet&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">export default StyleSheet.create(&#123;</span><br><span class="line">    container: &#123;</span><br><span class="line">        flex: 1,</span><br><span class="line">    &#125;,</span><br><span class="line">    navigationBar: &#123;</span><br><span class="line">        height: 88,</span><br><span class="line">    &#125;,</span><br><span class="line">    nameButtonText: &#123;</span><br><span class="line">        height: 50,</span><br><span class="line">        padding: 15,</span><br><span class="line">        backgroundColor: &apos;black&apos;,</span><br><span class="line">        color: &apos;white&apos;,</span><br><span class="line">        alignSelf: &apos;center&apos;,</span><br><span class="line">        borderRadius: 10,</span><br><span class="line">    &#125;,</span><br><span class="line">    cell: &#123;</span><br><span class="line">        height: 50,</span><br><span class="line">        justifyContent: &apos;center&apos;,</span><br><span class="line">        marginLeft: 15,</span><br><span class="line">        marginRight: 15,</span><br><span class="line">        borderBottomWidth: 0.5,</span><br><span class="line">        borderBottomColor: &apos;blue&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    line: &#123;</span><br><span class="line">        marginTop: 15,</span><br><span class="line">        backgroundColor: &apos;green&apos;,</span><br><span class="line">        height: 0.5,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h6 id="App-js"><a href="#App-js" class="headerlink" title="App.js"></a>App.js</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import Home from &quot;./Redux/Component/Home&quot;;</span><br><span class="line">import &#123;Provider&#125; from &apos;react-redux&apos;;</span><br><span class="line">import Store from &apos;./Redux/Store/Store&apos;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;Provider store=&#123;Store&#125;&gt;</span><br><span class="line">                &lt;Home/&gt;</span><br><span class="line">            &lt;/Provider&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>App.js</code>æ˜¯æœ€é‡è¦çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› ä¸ºå®ƒæ˜¯æˆ‘ä»¬çš„æ ¹ç»„ä»¶ï¼Œæˆ‘è¦è¦ä½¿ç”¨<code>Redux</code>å¹¶åœ¨å…¨å±€çš„å…¶ä»–å­ç»„ä»¶è·å–åˆ°<code>state</code>ï¼Œé‚£ä¹ˆå°±è¦åœ¨æ ¹ç»„ä»¶çš„æœ€å¤–å±‚åŒ…æ‹¬ä¸€ä¸ª<code>Provider</code>å®¹å™¨ï¼Œä¸å¿…æ‹…å¿ƒï¼Œè¿™ä¸ªåœ¨<code>react-redux</code>ä¸­å·²ç»ç»™æˆ‘ä»¬å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯ç›´æ¥å¯¼å…¥ä½¿ç”¨å³å¯ã€‚</p>
<p>è¿™é‡Œçš„<code>Store</code>ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¹‹å‰é€šè¿‡<code>createStore(rootReducer)</code>åˆ›å»ºçš„å¹¶ä¸”å”¯ä¸€çš„ä¸€ä¸ª<code>store</code>ï¼Œå®ƒåœ¨å…¨å±€èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ï¼Œå› ä¸ºæˆ‘ä»¬æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å­˜æ”¾åœ¨è¿™ä¸ª<code>store</code>ä¸­ï¼Œå®ƒç»´æŒçš„æ˜¯ä¸€æ£µå®Œæ•´çš„<code>state</code>æ ‘ï¼Œæœ‰äº†å®ƒï¼Œä½ å¯ä»¥åœ¨å…¶ä»–ä»»æ„ç»„ä»¶é€šè¿‡<code>connect</code>è·å–åˆ°å½“å‰<code>store</code>ä¸­å­˜å‚¨çš„æ•°æ®å’ŒçŠ¶æ€ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul>
<li>actionæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºæè¿°æŸä¸€ä¸ªåŠ¨ä½œæˆ–è¡Œä¸ºï¼Œå¯ä»¥ä¼ å…¥æ•°æ®</li>
<li>reduceræ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä¸»è¦ç”¨äºå¤„ç†<code>state</code>æ•°æ®ï¼Œè¿”å›å…¨æ–°çš„<code>state</code>æ•°æ®</li>
<li>storeæ•´ä¸ªåº”ç”¨ä¸­åªæœ‰ä¸€ä¸ªï¼Œç»´æŒç€æ‰€æœ‰çš„<code>state</code>æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»æ„ç»„ä»¶é€šè¿‡<code>connect</code>è·å–</li>
</ul>
<blockquote>
<p>æœ¬æ–‡è™½ç„¶å¼•å…¥äº†<code>redux-thunk</code>ï¼Œç”±äºç¯‡å¹…æœ‰é™ï¼Œå¹¶æœªä½¿ç”¨ï¼Œæ”¾åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è¿›è¡Œè®²è§£ã€‚</p>
</blockquote>
<p>æœ¬æ–‡æºç ï¼š<a href="https://github.com/lchenfox/RN_ReduxDemo" target="_blank" rel="noopener">RN_ReduxDemo</a></p>
]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native</tag>
        <tag>Redux</tag>
        <tag>çŠ¶æ€ç®¡ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>React Nativeä½¿ç”¨react-native-pushyçƒ­æ›´æ–°å®¡æ ¸è¢«æ‹’</title>
    <url>/2019/11/05/React%20Native%E4%BD%BF%E7%94%A8react-native-pushy%E7%83%AD%E6%9B%B4%E6%96%B0%E5%AE%A1%E6%A0%B8%E8%A2%AB%E6%8B%92/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><hr>
<p>ä»Šå¹´ï¼Œç»¼åˆäº†ä¸€äº›è€ƒè™‘ï¼Œé€‰æ‹©äº† <a href="https://github.com/reactnativecn/react-native-pushy" target="_blank" rel="noopener">GitHub: react-native-pushy</a> ä½œä¸ºçƒ­æ›´æ–°ï¼Œåœ¨å‰é¢çš„ä¸¤ä¸ªç‰ˆæœ¬ä½¿ç”¨äº†çƒ­æ›´æ–°ï¼Œä½†æ˜¯æ²¡æœ‰è¢«æ‹’ï¼Œä¸Šçº¿éƒ½æ¯”è¾ƒé¡ºåˆ©ï¼Œç›´åˆ°è¿™ä¸ªç‰ˆæœ¬ï¼Œç¬¬äºŒå¤©ç›´æ¥è¢«è‹¹æœæ‹’ç»ï¼å‰æœ‰<code>WaxPatch</code>å’Œ<code>JSPatch</code>ç­‰çƒ­ä¿®å¤æ¡†æ¶ï¼Œå› ä¸ºä¼šè°ƒç”¨ç§æœ‰APIã€ç¯¡æ”¹åŸç”Ÿä»£ç çš„èƒ½åŠ›è€Œè¢«è‹¹æœæ‹’ä¹‹é—¨å¤–ï¼Œæ¥ç€è‹¹æœå…è®¸<code>React Native</code>çš„è¿™ç§ä¸ä¼šä¿®æ”¹åŸç”Ÿä»£ç ã€åªæ›´æ–°<code>jsä»£ç </code>å’Œä¸€äº›èµ„æºæ–‡ä»¶çš„çƒ­ä¿®å¤å­˜åœ¨ã€‚å¦‚ä»Šï¼Œé™†é™†ç»­ç»­å·²ç»æœ‰ä¸€éƒ¨åˆ†äººå› ä¸ºä½¿ç”¨<code>react-native-pushy</code>çƒ­æ›´æ–°è€Œç›´æ¥è¢«è‹¹æœæ‹’ç»ã€‚</p>
<h3 id="è¢«æ‹’åŸå› "><a href="#è¢«æ‹’åŸå› " class="headerlink" title="è¢«æ‹’åŸå› "></a>è¢«æ‹’åŸå› </h3><hr>
<h5 id="ç†ç”±å¦‚ä¸‹ï¼š"><a href="#ç†ç”±å¦‚ä¸‹ï¼š" class="headerlink" title="ç†ç”±å¦‚ä¸‹ï¼š"></a>ç†ç”±å¦‚ä¸‹ï¼š</h5><p>2019å¹´10æœˆ26æ—¥ ä¸Šåˆ12:17</p>
<p>å‘ä»¶äºº Apple</p>
<p>2.3 Performance: Accurate Metadata</p>
<p>2.5 Performance: Software Requirements</p>
<p>Guideline 2.3.1 - Performance</p>
<p>We discovered that your app contains hidden features.</p>
<p>The next submission of this app may require a longer review time, and this app will not be eligible for an expedited review until this issue is resolved.</p>
<p>Next Steps</p>
<ul>
<li>Review the Performance section of the App Store Review Guidelines.</li>
<li>Ensure your app is compliant with all sections of the App Store Review Guidelines and the Terms &amp; Conditions of the Apple Developer Program.</li>
<li>Once your app is fully compliant, resubmit your app for review.</li>
</ul>
<p>Submitting apps designed to mislead or harm customers or evade the review process may result in the termination of your Apple Developer Program account. Review the Terms &amp; Conditions of the Apple Developer Program to learn more about our policies regarding termination.</p>
<p>Guideline 2.5.2 - Performance - Software Requirements</p>
<p>Your app, extension, or linked framework appears to contain code designed explicitly with the capability to change your appâ€™s behavior or functionality after App Review approval, which is not in compliance with App Store Review Guideline 2.5.2 and section 3.3.2 of the Apple Developer Program License Agreement.</p>
<p>This code, combined with a remote resource, can facilitate significant changes to your appâ€™s behavior compared to when it was initially reviewed for the App Store. While you may not be using this functionality currently, it has the potential to load private frameworks, private methods, and enable future feature changes. This includes any code which passes arbitrary parameters to dynamic methods such as dlopen(), dlsym(), respondsToSelector:, performSelector:, method_exchangeImplementations(), and running remote scripts in order to change app behavior and/or call SPI, based on the contents of the downloaded script. Even if the remote resource is not intentionally malicious, it could easily be hijacked via a Man In The Middle (MiTM) attack, which can pose a serious security vulnerability to users of your app.</p>
<p>The next submission of this app may require a longer review time, and this app will not be eligible for an expedited review until this issue is resolved.</p>
<p>Next Steps</p>
<ul>
<li>Review the Software Requirements section of the App Store Review Guidelines.</li>
<li>Ensure your app is compliant with all sections of the App Store Review Guidelines and the Terms &amp; Conditions of the Apple Developer Program.</li>
<li>Once your app is fully compliant, resubmit your app for review.</li>
</ul>
<p>Submitting apps designed to mislead or harm customers or evade the review process may result in the termination of your Apple Developer Program account. Review the Terms &amp; Conditions of the Apple Developer Program to learn more about our policies regarding termination.</p>
<p>æ˜¾ç„¶ï¼Œè‹¹æœçš„å¤§æ„å¦‚ä¸‹ï¼š</p>
<ul>
<li>1.Appéšè—äº†åŠŸèƒ½</li>
<li>2.å®¡æ ¸é€šè¿‡åï¼Œå…·å¤‡ä¿®æ”¹åº”ç”¨ç¨‹åºçš„è¡Œä¸ºæˆ–åŠŸèƒ½çš„èƒ½åŠ›</li>
<li>3.æ£€æµ‹åˆ°APPè·å–è¿œç¨‹èµ„æºï¼Œæˆ–è®¸ä¼šè°ƒç”¨ç§æœ‰APIåŠç§æœ‰æ–¹æ³•ï¼Œåˆ©ç”¨åŠ¨æ€ç‰¹æ€§ç»™åŠ¨æ€æ–¹æ³•ä¼ é€’å‚æ•°ï¼Œå¦‚<code>dlopen()ã€dlsym()ã€respondsToSelector:ã€performSelector:ã€method_exchange()</code>ï¼Œæ˜“å—<code>MiTM</code>æ”»å‡»ï¼Œä¸‹å‘æ¶æ„è„šæœ¬ç­‰ç­‰</li>
</ul>
<p>å›å¤å¾ˆå®˜æ–¹ï¼Œä¹Ÿæ²¡æœ‰æ˜ç¡®æŒ‡å‡ºæ˜¯<strong>çƒ­æ›´æ–°</strong>çš„åŸå› ï¼Œä½†æ˜¯æœ‰éƒ¨åˆ†äººæ”¶åˆ°è¢«æ‹’çš„ç†ç”±é‡Œé¢æ˜ç¡®è‡´å‘½äº†ä½¿ç”¨<code>Hot Update</code>çƒ­æ›´æ–°ã€‚</p>
<h3 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h3><hr>
<ul>
<li><p>2019å¹´10æœˆ24æ—¥æäº¤</p>
</li>
<li><p>2019å¹´10æœˆ25æ—¥è¢«æ‹’</p>
</li>
<li><p>2019å¹´10æœˆ26æ—¥å»æ‰<code>jenkins+fastlane</code>è‡ªåŠ¨åŒ–æ‰“åŒ…è„šæœ¬ï¼ˆä»¥ä¸ºæ˜¯è¿™ä¸ªåŸå› ï¼Œæ¯•ç«Ÿä¹‹å‰çš„ç‰ˆæœ¬ä½¿ç”¨çƒ­æ›´æ–°æ²¡æœ‰è¢«æ‹’ï¼‰é‡æ–°æ‰“åŒ…ä¸Šä¼ åˆ°<code>App Store Connect</code></p>
</li>
<li><p>æˆªæ­¢2019å¹´10æœˆ30æ—¥ä¾ç„¶åœ¨å®¡æ ¸ä¸­</p>
</li>
<li><p>10æœˆ30æ—¥ä¸­åˆå»æ‰<code>iOS</code>çš„çƒ­æ›´æ–°ï¼Œå¹¶å†æ¬¡æ‰“åŒ…é‡æ–°ä¸Šä¼ ï¼Œå»æ‰çƒ­æ›´æ–°çš„æ­¥éª¤ï¼š</p>
</li>
</ul>
<p><strong>ï¼ˆ1ï¼‰ä¿®æ”¹AppDelegateä¸º</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">    NSURL *jsCodeLocation;</span><br><span class="line">#if DEBUG</span><br><span class="line">    // åŸæ¥çš„jsCodeLocationä¿ç•™åœ¨è¿™é‡Œ</span><br><span class="line">    jsCodeLocation = [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@&quot;index&quot; fallbackResource:nil];</span><br><span class="line">#else</span><br><span class="line">    // éDEBUGæƒ…å†µä¸‹å¯ç”¨çƒ­æ›´æ–°</span><br><span class="line">    jsCodeLocation = [[NSBundle mainBundle] URLForResource:@&quot;main&quot; withExtension:@&quot;jsbundle&quot;];</span><br><span class="line">//    jsCodeLocation=[RCTHotUpdate bundleURL];  // ä¸è¦çƒ­æ›´æ–°</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ2ï¼‰åˆ é™¤<code>Libraries -&gt; RCTHotUpdate.xcodeproj</code></strong></p>
<p><strong>ï¼ˆ3ï¼‰æ³¨é‡Šæ‰æ‰€æœ‰çƒ­æ›´æ–°çš„jsæ£€æµ‹ä»£ç </strong>ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">/****************** hot update *********************/</span><br><span class="line">/*</span><br><span class="line">import &#123;</span><br><span class="line">    isFirstTime,</span><br><span class="line">    isRolledBack,</span><br><span class="line">    packageVersion,</span><br><span class="line">    currentVersion,</span><br><span class="line">    checkUpdate,</span><br><span class="line">    downloadUpdate,</span><br><span class="line">    switchVersion,</span><br><span class="line">    switchVersionLater,</span><br><span class="line">    markSuccess,</span><br><span class="line">&#125; from &apos;react-native-update&apos;;</span><br><span class="line">**/</span><br><span class="line"></span><br><span class="line">const &#123;appKey&#125; = _updateConfig[Platform.OS];</span><br><span class="line"></span><br><span class="line">export default class rootApp extends Component &#123;</span><br><span class="line"></span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">         this._checkHotUpdateVersion();</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">    _checkHotUpdateVersion = (tryAgain = true) =&gt; &#123;</span><br><span class="line">        checkUpdate(appKey).then(info =&gt; &#123;</span><br><span class="line">           ...</span><br><span class="line">        &#125;).catch(() =&gt; &#123;</span><br><span class="line">           ...</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">	</span><br><span class="line">	......</span><br><span class="line"></span><br><span class="line">**/</span><br></pre></td></tr></table></figure>

<ul>
<li>11æœˆ5æ—¥å‡Œæ™¨2ç‚¹22åˆ†ï¼Œå®¡æ ¸é€šè¿‡ï¼ï¼ï¼</li>
</ul>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><hr>
<p>ä¹‹å‰ä½¿ç”¨çƒ­æ›´æ–°æ²¡æœ‰é—®é¢˜ï¼Œä»ç›®å‰å¤§å¤šæ•°äººç”±äºä½¿ç”¨çƒ­æ›´æ–°å®¡æ ¸è¢«æ‹’çš„æƒ…å†µæ¥çœ‹ï¼Œè‹¹æœå¼€å§‹ç€æ‰‹æ¸…ç†äº†ï¼Œå¹¶ä¸”åç»­æ”¯ä¸æ”¯æŒçƒ­æ›´æ–°ä¹Ÿå¾ˆéš¾è¯´ï¼Œå°½ç®¡ä¸€éƒ¨åˆ†äººè¿˜æ˜¯é€šè¿‡äº†å®¡æ ¸ï¼Œä½†æ˜¯ä¸æ’é™¤å®¡æ ¸é—æ¼çš„æƒ…å†µã€‚</p>
<p>åˆæ­¥çŒœæµ‹ï¼Œåç»­è‹¹æœå¯èƒ½ä¸æ”¯æŒçƒ­æ›´æ–°ï¼Œå°½ç®¡ä¸ä¿®æ”¹åŸç”Ÿä»£ç ï¼Œä¸è°ƒç”¨åŸç”Ÿç§æœ‰<code>API</code>ï¼Œä½†æ¯•ç«Ÿçƒ­æ›´æ–°çš„æœåŠ¡å™¨ä¸€èˆ¬æ˜¯æ‰˜ç®¡åœ¨ç¬¬ä¸‰æ–¹å¹³å°ä¸Šï¼Œä½†æ˜¯åœ¨è‹¹æœçœ‹æ¥ï¼Œåªè¦ä¸é€šè¿‡å…¶å®¡æ ¸çš„ï¼Œéƒ½æ˜¯ä¸å®‰å…¨çš„ã€‚</p>
<p>å…¶æ¬¡ï¼Œå°½ç®¡åªæ˜¯ä¿®æ”¹<code>js</code>åŠä¸€äº›èµ„æºæ–‡ä»¶ï¼Œä½†æ˜¯ä»å¯¹ç”¨æˆ·ä½“éªŒæ–¹é¢æ¥è¯´ï¼Œè‹¹æœå¯èƒ½ä¼šè§‰å¾—ä½¿ç”¨çƒ­æ›´æ–°ä¼šéšæ„æ›´æ”¹ç”¨æˆ·çš„ä¹ æƒ¯ï¼Œä¼šç»™ç”¨æˆ·é€ æˆä½“éªŒæ–¹é¢çš„ä¸€ç³»åˆ—é—®é¢˜ã€‚</p>
<p>æœ€åï¼Œä¹Ÿæ˜¯è‹¹æœè§‰å¾—æœ€å±é™©çš„åœ°æ–¹åœ¨äºï¼Œæ‹…å¿ƒ<code>MiTMæ”»å‡»</code>ï¼Œå¦å¤–æˆ‘ä¸ªäººè§‰å¾—ï¼Œè‹¹æœè¿˜æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œé‚£å°±æ˜¯å¸Œæœ›å¼€å‘è€…å›å½’åŸç”Ÿç”Ÿæ€ï¼Œæ¯•ç«Ÿï¼Œä½¿ç”¨è‡ªå·±çš„è¯­è¨€ï¼Œç»è¿‡è‡ªå·±çš„å®¡æ ¸æ‰æ˜¯è‹¹æœæœ€å¸Œæœ›çš„ã€‚</p>
]]></content>
      <categories>
        <category>React Native</category>
      </categories>
      <tags>
        <tag>React Native, react-native-pushy, çƒ­æ›´æ–°, è‹¹æœå®¡æ ¸</tag>
      </tags>
  </entry>
  <entry>
    <title>å›› PythonåŸºç¡€ä¹‹æ¡ä»¶è¯­å¥å’Œå¾ªç¯</title>
    <url>/2019/11/04/%E5%9B%9B%20Python%E5%9F%BA%E7%A1%80%E4%B9%8B%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5%E5%92%8C%E5%BE%AA%E7%8E%AF/</url>
    <content><![CDATA[<h3 id="ifæ¡ä»¶è¯­å¥"><a href="#ifæ¡ä»¶è¯­å¥" class="headerlink" title="ifæ¡ä»¶è¯­å¥"></a>ifæ¡ä»¶è¯­å¥</h3><p>åœ¨<code>Python</code>ä¸­ï¼Œæœ€å¸¸ç”¨çš„åˆ¤æ–­è‡ªç„¶å°±æ˜¯<code>ifè¯­å¥</code>ï¼Œå¯ä»¥ä½¿ç”¨<code>if ... elif ... else</code>æ¥å¯¹æ¡ä»¶è¿›è¡Œåˆ¤æ–­ï¼Œå’Œå…¶ä»–ä¸€äº›è¯­è¨€ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œçš„<code>elif</code>æ˜¯<code>else if</code>çš„ç¼©å†™ï¼Œä½†æ˜¯è¿™æ„å‘³ç€åœ¨<code>Python</code>ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>else if</code>æ¥ä»£æ›¿<code>elif</code>å‘¢ï¼Ÿåƒä¸‡è¦æ³¨æ„ï¼Œæ˜¯ä¸å…è®¸çš„ï¼ï¼å¿…é¡»ä½¿ç”¨<code>elif</code>çš„å½¢å¼ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ª<code>demo.py</code>æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">age = 19</span><br><span class="line">if age:</span><br><span class="line">    print(&apos;age exists&apos;)</span><br><span class="line"></span><br><span class="line">weight = 119</span><br><span class="line">if weight &gt; 150:</span><br><span class="line">    print(&apos;you are obese!&apos;)</span><br><span class="line">elif weight &gt; 100:</span><br><span class="line">    print(&apos;Great, you are handsome!&apos;)</span><br><span class="line">else:</span><br><span class="line">    print(&apos;Um...you are too thin!&apos;)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å°è¯•æ‰§è¡Œä¸€ä¸‹ï¼Œè¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  Desktop python3 demo.py</span><br><span class="line">age exists</span><br><span class="line">Great, you are handsome!</span><br></pre></td></tr></table></figure>

<p>åŸºæœ¬é€»è¾‘å’Œå…¶ä»–è¯­è¨€å‡ ä¹æ²¡ä»€ä¹ˆä¸åŒï¼Œä¸»è¦æ³¨æ„å…³é”®å­—å’ŒåŸºæœ¬æ ¼å¼æ¯”å¦‚ç¼©è¿›ã€å†’å·å°±è¡Œäº†ã€‚</p>
<h3 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h3><h5 id="for-in-å¾ªç¯"><a href="#for-in-å¾ªç¯" class="headerlink" title="for ... in ...å¾ªç¯"></a><code>for ... in ...</code>å¾ªç¯</h5><p>ä½¿ç”¨<code>for ... in ...</code>å¾ªç¯ï¼Œæˆ‘ä»¬å¯ä»¥éå†å‡º<code>list</code>æˆ–<code>tuple</code>çš„å…ƒç´ ï¼Œä¾‹å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">names = [&apos;Jhone&apos;, &apos;Alice&apos;, &apos;Joe&apos;]</span><br><span class="line">for name in names:</span><br><span class="line">    print(&apos;name is %s&apos; % name)</span><br><span class="line"></span><br><span class="line">ages = (1, 2, 3, 4, 5)</span><br><span class="line">for age in ages:</span><br><span class="line">    print(&apos;age is &#123;0&#125;&apos;.format(age))</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name is Jhone</span><br><span class="line">name is Alice</span><br><span class="line">name is Joe</span><br><span class="line">age is 1</span><br><span class="line">age is 2</span><br><span class="line">age is 3</span><br><span class="line">age is 4</span><br><span class="line">age is 5</span><br></pre></td></tr></table></figure>

<h5 id="range-å‡½æ•°"><a href="#range-å‡½æ•°" class="headerlink" title="range()å‡½æ•°"></a>range()å‡½æ•°</h5><p><code>Python</code>å†…ç½®äº†ä¸€ä¸ªå‡½æ•°å«åš<code>range()</code>ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªæœ‰åºçš„<strong>æ•´æ•°åºåˆ—</strong>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">values = range(5)</span><br><span class="line">for value in values:</span><br><span class="line">	print(&apos;value is %d&apos; % value)</span><br><span class="line"></span><br><span class="line">ages = range(2, 6)</span><br><span class="line">for age in ages:</span><br><span class="line">	print(&apos;age is &#123;0&#125;&apos;.format(age))</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">value is 0</span><br><span class="line">value is 1</span><br><span class="line">value is 2</span><br><span class="line">value is 3</span><br><span class="line">value is 4</span><br><span class="line">age is 2</span><br><span class="line">age is 3</span><br><span class="line">age is 4</span><br><span class="line">age is 5</span><br></pre></td></tr></table></figure>

<p>ä»ä»¥ä¸Šç»“æœå¯ä»¥çœ‹å‡ºï¼Œå½“åªæœ‰<code>1ä¸ªå‚æ•°</code>çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯<code>range(x)</code>çš„æ—¶å€™ï¼Œ<strong>è¡¨ç¤ºç”Ÿæˆä»<code>0</code>åˆ°<code>ä¸å¤§äºx</code>çš„æ•´æ•°åºåˆ—ã€‚</strong></p>
<p>è‹¥æœ‰<code>2</code>ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ç±»ä¼¼<code>range(x, y)</code>çš„æ—¶å€™ï¼Œ<strong>è¡¨ç¤ºç”Ÿæˆä»<code>x</code>å¼€å§‹åˆ°<code>ä¸å¤§äºy</code>çš„æ•´æ•°åºåˆ—ã€‚</strong></p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä»¥ä¸Šç”Ÿæˆçš„éƒ½æ˜¯ä»<code>xå¼€å§‹</code>å¹¶ä¸”ä¸å¤§äº<code>y</code>çš„åé¢çš„å…ƒç´ éƒ½æ¯”å‰é¢çš„å…ƒç´ <code>+1</code>çš„åºåˆ—ï¼Œé‚£å¦‚æœæˆ‘æƒ³è¦æ¯æ¬¡éƒ½<code>+2</code>è€Œä¸æ˜¯<code>+1</code>å‘¢ï¼Ÿå…¶å®ï¼Œ<code>range()å‡½æ•°</code>è¿˜æœ‰<code>3</code>ä¸ªå‚æ•°çš„è¡¨ç¤ºï¼Œç±»ä¼¼<code>range(x, y, z)</code>ï¼Œåé¢çš„<code>z</code>ä»£è¡¨çš„å°±æ˜¯<code>æ­¥é•¿</code>ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">values = range(1, 5, 2) # ç”Ÿæˆä»1å¼€å§‹ï¼Œå…ƒç´ æ¯æ¬¡é€’å¢ä¸º2å¹¶ä¸”ä¸å¤§äº5çš„æ•´æ•°åºåˆ—</span><br><span class="line">for value in values:</span><br><span class="line">	print(&apos;value is %d&apos; % (value))</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  Desktop python3 demo.py</span><br><span class="line">value is 1</span><br><span class="line">value is 3</span><br></pre></td></tr></table></figure>

<p>é—®é¢˜ï¼šæ±‚1åˆ°100çš„å¶æ•°ä¹‹å’Œï¼Ÿ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">values = range(0, 101, 2)</span><br><span class="line">sum = 0</span><br><span class="line">for value in values:</span><br><span class="line">	sum += value</span><br><span class="line">print(&apos;sum is &#123;0&#125;&apos;.format(sum))</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sum is 2550</span><br></pre></td></tr></table></figure>

<p>å“‡ï¼Œæ„Ÿè§‰å¤ªæ–¹ä¾¿äº†ï¼Œæœ‰äº†<code>range()</code>å‡½æ•°ï¼Œæœ‰æ—¶å€™çœŸçš„æ˜¯äº‹åŠåŠŸå€å‘¢ã€‚</p>
<h5 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a>whileå¾ªç¯</h5><p>è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå’Œå…¶ä»–è¯­è¨€å‡ ä¹æ˜¯ä¸€æ¨¡ä¸€æ ·ï¼Œä½¿ç”¨ä¹Ÿéå¸¸ç®€å•ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a = 5</span><br><span class="line">while a &gt; 0:</span><br><span class="line">	print(&apos;a is equal to %d&apos; % a)</span><br><span class="line">	a-=2</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  Desktop python3 demo.py</span><br><span class="line">a is equal to 5</span><br><span class="line">a is equal to 3</span><br><span class="line">a is equal to 1</span><br></pre></td></tr></table></figure>

<ul>
<li><code>break</code></li>
</ul>
<p><code>break</code>çš„ä½œç”¨æ˜¯ç»“æŸ<strong>æœ¬å±‚å¾ªç¯</strong>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ret = 5</span><br><span class="line">while ret:</span><br><span class="line">	ret -= 1</span><br><span class="line">	if ret == 2:</span><br><span class="line">		break</span><br><span class="line">	print(ret)</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  Desktop python3 demo.py</span><br><span class="line">4</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<ul>
<li><code>continue</code></li>
</ul>
<p><code>continue</code>çš„ä½œç”¨æ˜¯ç»“æŸ<strong>æœ¬æ¬¡å¾ªç¯</strong>ï¼Œè¯·æ³¨æ„å’Œ<code>break</code>çš„åŒºåˆ«ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ret = 5</span><br><span class="line">while ret:</span><br><span class="line">	ret -= 1</span><br><span class="line">	if ret == 2:</span><br><span class="line">		continue</span><br><span class="line">	print(ret)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">âœ  Desktop python3 demo.py</span><br><span class="line">4</span><br><span class="line">3</span><br><span class="line">1</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ul>
<li><p>æ¡ä»¶è¯­å¥ç”¨<code>if...elif...else</code></p>
</li>
<li><p><code>range()</code>å‡½æ•°ç”¨äºç”Ÿæˆæ•´æ•°åºåˆ—ï¼Œå¯æ ¹æ®<code>æ­¥é•¿</code>è°ƒæ•´ç”Ÿæˆæ•´æ•°åºåˆ—çš„é—´éš”</p>
</li>
<li><p>å¾ªç¯æœ‰<code>for...in...</code>å’Œ<code>while</code>ï¼Œæ ¹æ®æƒ…æ™¯å–èˆ</p>
</li>
<li><p><code>break</code>é€€å‡ºæœ¬å±‚å¾ªç¯ï¼Œ<code>continue</code>é€€å‡ºæœ¬æ¬¡å¾ªç¯</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸‰ PythonåŸºç¡€ä¹‹æ•°ç»„å’Œå…ƒç»„</title>
    <url>/2019/11/04/%E4%B8%89%20Python%E5%9F%BA%E7%A1%80%E4%B9%8B%E6%95%B0%E7%BB%84%E5%92%8C%E5%85%83%E7%BB%84/</url>
    <content><![CDATA[<h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><p><code>Python</code>ä¸­çš„æ•°ç»„æ˜¯<code>list</code>, å¯ä»¥é€šè¿‡<code>typeå‡½æ•°</code>æŸ¥çœ‹ä¸€ä¸‹ç±»å‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; arr = [1, 2, &apos;a&apos;, &apos;b&apos;, True, False]</span><br><span class="line">&gt;&gt;&gt; type(arr)</span><br><span class="line">&lt;class &apos;list&apos;&gt;</span><br></pre></td></tr></table></figure>

<p>æ•°ç»„æ¯”è¾ƒç®€å•ï¼Œå’Œå…¶ä»–è¯­è¨€åŸºæœ¬å·®ä¸å¤šï¼Œæœ‰ä¸€ç‚¹åŒºåˆ«æ˜¯<code>Python</code>ä¸­çš„æ•°ç»„èƒ½å¤Ÿå…¼å®¹<em>ä¸åŒçš„æ•°æ®ç±»å‹(å¦‚ä¸Šé¢)</em>ã€‚</p>
<ul>
<li>æ•°ç»„é•¿åº¦</li>
</ul>
<p>ä¹‹å‰ä½¿ç”¨åˆ°<code>len()</code>å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥æ±‚æ•°ç»„å…ƒç´ çš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„çš„é•¿åº¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; arr = [1, 2]</span><br><span class="line">&gt;&gt;&gt; len(arr)</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<ul>
<li>é€šè¿‡<code>index</code>è·å–å…ƒç´ </li>
</ul>
<p>æ•°ç»„æ˜¯æœ‰åºçš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>ç´¢å¼•</code>è·å–æ•°ç»„å…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; arr = [1, False]</span><br><span class="line">&gt;&gt;&gt; arr[0]</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é€šè¿‡<code>å€’åºçš„æ–¹å¼</code>è·å–æ•°ç»„çš„å…ƒç´ ï¼Œ<code>-1</code>è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œ<code>-2</code>è¡¨ç¤ºå€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä»¥æ­¤ç±»æ¨â€¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; arr = [1, 2, 3]</span><br><span class="line">&gt;&gt;&gt; arr[-1]</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<ul>
<li>æ·»åŠ å…ƒç´ </li>
</ul>
<p>é€šè¿‡<code>append()</code>å‡½æ•°å¯ä»¥å°†å…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; arr = [1, 2]</span><br><span class="line">&gt;&gt;&gt; arr.append(3)</span><br><span class="line">&gt;&gt;&gt; arr</span><br><span class="line">[1, 2, 3]</span><br></pre></td></tr></table></figure>

<ul>
<li>æ’å…¥å…ƒç´ </li>
</ul>
<p>å¯ä»¥é€šè¿‡<code>insert(index, value)</code>å‡½æ•°åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; arr = [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line">&gt;&gt;&gt; arr.insert(1, &quot;c&quot;)</span><br><span class="line">&gt;&gt;&gt; arr</span><br><span class="line">[&apos;a&apos;, &apos;c&apos;, &apos;b&apos;]</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ é™¤å…ƒç´ </li>
</ul>
<p>å¯ä»¥é€šè¿‡<code>pop(index)</code>æ¥åˆ é™¤æŒ‡å®šä½ç½®ï¼ˆ<code>ç´¢å¼•</code>ï¼‰çš„å…ƒç´ ï¼Œå¦‚æœä¸æ·»åŠ <code>index</code>ï¼Œè¡¨ç¤ºåˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ </p>
<p>åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; arr = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]</span><br><span class="line">&gt;&gt;&gt; arr.pop()</span><br><span class="line">&apos;c&apos;</span><br><span class="line">&gt;&gt;&gt; arr</span><br><span class="line">[&apos;a&apos;, &apos;b&apos;]</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤æŒ‡å®šå…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; arr = [&apos;a&apos;, &apos;b&apos;, True]</span><br><span class="line">&gt;&gt;&gt; arr.pop(1)</span><br><span class="line">&apos;b&apos;</span><br><span class="line">&gt;&gt;&gt; arr</span><br><span class="line">[&apos;a&apos;, True]</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¿®æ”¹å…ƒç´ </li>
</ul>
<p><code>Python</code>ä¸­çš„æ•°ç»„ä¿®æ”¹å…ƒç´ ååˆ†ç®€å•ï¼Œç›´æ¥å°†è¦æ›¿æ¢çš„å…ƒç´ èµ‹å€¼å³å¯ï¼Œä¾‹å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; arr = [1, 2, &apos;a&apos;, &apos;b&apos;, True]</span><br><span class="line">&gt;&gt;&gt; arr[2] = &apos;c&apos;</span><br><span class="line">&gt;&gt;&gt; arr</span><br><span class="line">[1, 2, &apos;c&apos;, &apos;b&apos;, True]</span><br></pre></td></tr></table></figure>

<h3 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h3><p><code>Python</code>ä¸­æœ‰å¦å¤–ä¸€ç§<strong>æœ‰åºåˆ—è¡¨</strong>å«åš<strong>å…ƒç»„</strong>ã€‚ä½†æ˜¯åŠ¡å¿…è®°ä½ï¼Œ<strong>å…ƒç»„ä¸€æ—¦åˆå§‹åŒ–ï¼Œå†…éƒ¨å…ƒç´ å°±ä¸èƒ½ä¿®æ”¹ï¼Œå› æ­¤ï¼Œä¸€æ—¦åˆå§‹åŒ–äº†æŸä¸ªå…ƒç»„ï¼Œä½ åªèƒ½è·å–ï¼Œæ— æ³•æ”¹å˜å…¶å…ƒç´ </strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; tuple = (1, 2, &quot;b&quot;)</span><br><span class="line">&gt;&gt;&gt; tuple[0] // è·å–ç¬¬ä¸€ä¸ªå…ƒç´ </span><br><span class="line">1</span><br><span class="line">&gt;&gt;&gt; tuple[2] // è·å–ç¬¬ä¸‰ä¸ªå…ƒç´ </span><br><span class="line">&apos;b&apos;</span><br><span class="line">&gt;&gt;&gt; len(tuple) // å…ƒç»„å…ƒç´ ä¸ªæ•°</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; len[2] = 3 // æ”¹å˜å€¼ï¼ŒæŠ¥é”™ï¼ï¼ï¼</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">TypeError: &apos;builtin_function_or_method&apos; object does not support item assignment</span><br></pre></td></tr></table></figure>

<p>å¾ˆæ˜æ˜¾ï¼Œ<code>Pythonè§£é‡Šå™¨</code>æç¤ºæˆ‘ä»¬ä¸èƒ½æ”¯æŒå…ƒç»„ä¿®æ”¹å€¼ã€‚</p>
<p>å¦å¤–ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå…ƒç´ çš„å…ƒç»„ï¼Œä¸ºäº†é¿å…å’Œæ—¥æœŸä½¿ç”¨çš„<code>å°æ‹¬å·()</code>äº§ç”Ÿæ­§ä¹‰ï¼Œå› æ­¤å…ƒç»„åœ¨åˆå§‹åŒ–æ—¶ï¼Œå¿…é¡»åœ¨å…ƒç´ åé¢æ·»åŠ <code>é€—å·,</code>ï¼Œ å¦åˆ™å°±ä¸æ˜¯å…ƒç»„ï¼Œè€Œæ˜¯æˆ‘ä»¬æ—¥å¸¸æ‰€ä½¿ç”¨çš„å˜é‡ã€‚</p>
<p>è¿™ä¸€ç‚¹å…¶å®ä½œä¸º<code>iOS</code>å¼€å‘è€…åº”è¯¥ä¹ŸçŸ¥é“ï¼Œ<code>Swift</code>åœ¨åˆå§‹åŒ–å…ƒç»„æ—¶ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿéœ€è¦æ·»åŠ <code>é€—å·,</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; tuple = (1,) // å¿…é¡»æ·»åŠ é€—å·</span><br><span class="line">&gt;&gt;&gt; tuple</span><br><span class="line">(1,)</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œå…ƒç»„çš„å…ƒç´ ä¸èƒ½ä¿®æ”¹ï¼ŒæŒ‡çš„æ˜¯å…ƒç´ æœ¬èº«ï¼Œæ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; tuple = (1, &apos;a&apos;, [2,3])</span><br><span class="line">&gt;&gt;&gt; tuple[2][0] = 4</span><br><span class="line">&gt;&gt;&gt; tuple[2][1] = 5</span><br><span class="line">&gt;&gt;&gt; tuple</span><br><span class="line">(1, &apos;a&apos;, [4, 5])</span><br></pre></td></tr></table></figure>

<p>å—¯ï¼Ÿä¸æ˜¯è¯´å…ƒç»„çš„å…ƒç´ ä¸èƒ½ä¿®æ”¹å—ï¼Ÿæ³¨æ„ï¼Œè¿™æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä¸Šé¢çš„å…ƒç»„<code>tuple</code>çš„ç¬¬<code>3</code>ä¸ªå…ƒç´ æœ¬èº«æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå½“æˆ‘ä»¬åš<code>tuple[2][0] = 4</code>æ“ä½œçš„æ—¶å€™ï¼Œå…ƒç»„çš„å…ƒç´ æœ‰æ²¡æœ‰å˜ï¼Ÿç­”æ¡ˆæ˜¯æ²¡æœ‰ï¼æ”¹å˜æ˜¯åªæ˜¯<code>[2,3]</code>è¿™ä¸ªæ•°ç»„çš„å…ƒç´ ï¼Œè¿™ä¸ªæ•°ç»„æœ¬èº«çš„åœ°å€ï¼ˆå†…å­˜ç©ºé—´ï¼‰æ˜¯æ²¡æœ‰æ”¹å˜çš„ï¼Œå› æ­¤å…ƒç»„<code>tuple</code>çš„ç¬¬<code>2</code>ä¸ªå…ƒç´ çš„å†…å­˜åœ°å€ä¹Ÿæ˜¯æ²¡æœ‰æ”¹å˜çš„ï¼Œä¸€å®šè¦æ³¨æ„åŒºåˆ†ã€‚</p>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ul>
<li><p>æ•°ç»„å’Œå¹³æ—¶ä½¿ç”¨çš„å…¶ä»–è¯­è¨€å¾ˆç›¸ä¼¼ï¼Œæ ¹æ®å†…ç½®å‡½æ•°è°ƒç”¨å³å¯ã€‚</p>
</li>
<li><p>å…ƒç»„å’Œæ•°ç»„å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯ï¼Œå…ƒç»„çš„å…ƒç´ åªèƒ½è®¿é—®ï¼Œä¸èƒ½ä¿®æ”¹ï¼</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoä¸ªæ€§åŒ–åŸŸåé…ç½®</title>
    <url>/2019/11/03/hexo%E4%B8%AA%E6%80%A7%E5%8C%96%E5%9F%9F%E5%90%8D%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å½“ä½¿ç”¨<code>hexo</code>ç»“åˆ<code>github</code>éƒ¨ç½²å‡ºæˆ‘ä»¬æƒ³è¦çš„åšå®¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³æŸ¥çœ‹è‡ªå·±çš„åšå®¢ï¼Œå°±ç›´æ¥è¾“å…¥ç±»ä¼¼<code>xxx.github.io</code>å°±å¯ä»¥è®¿é—®åšå®¢äº†ï¼Œ<code>xxx</code>å°±æ˜¯<code>github</code>ç”¨æˆ·åï¼Œæ¯”å¦‚æˆ‘çš„åšå®¢ç›´æ¥è¾“å…¥ <a href="http://lchenfox.github.io/" target="_blank" rel="noopener">http://lchenfox.github.io/</a> ã€‚æ˜¾ç„¶ï¼Œè¿™æ ·çš„ä¸€ä¸ª<code>URL</code>æ˜¯æ¯”è¾ƒ<code>low</code>çš„ï¼Œæˆ‘ä»¬ç»å¸¸å¯ä»¥åœ¨ç½‘ç«™ä¸Šçœ‹åˆ°å¾ˆå¤šä¸ªæ€§åŒ–çš„ä¸ªäººåšå®¢ï¼Œéƒ½æ˜¯ç”¨çš„ç§æœ‰åŸŸåï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹å¦‚ä½•éƒ¨ç½²å±äºæˆ‘ä»¬è‡ªå·±çš„åŸŸåã€‚</p>
<h2 id="è´­ä¹°åŸŸå"><a href="#è´­ä¹°åŸŸå" class="headerlink" title="è´­ä¹°åŸŸå"></a>è´­ä¹°åŸŸå</h2><p>é¦–å…ˆï¼Œ<code>åŸŸå</code>æ˜¯éœ€è¦èŠ±é’±ä¹°çš„ï¼Œæˆ‘è¿™é‡Œè´­ä¹°çš„æ˜¯ <a href="https://cloud.tencent.com/act/domainsales?from=dnspodqcloud" target="_blank" rel="noopener">è…¾è®¯äº‘åŸŸåè´­ä¹°</a>ï¼Œä½ ä¹Ÿå¯ä»¥åˆ°é˜¿é‡Œäº‘ä¸Šé¢ä¹°ï¼Œéƒ½å¯ä»¥ï¼Œä½ å¼€å¿ƒå°±è¡Œã€‚</p>
<p>è¿›å…¥åˆ°<strong>è…¾è®¯äº‘</strong>ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°å¦‚ä¸‹ç±»ä¼¼é¡µé¢</p>
<p><img src="https://i.loli.net/2019/11/03/V28URtr6Bbn7SD1.png" alt="image0"></p>
<p>ä¸€èˆ¬éƒ½é€‰æ‹©<code>.com</code>ï¼Œç‚¹å‡»<code>è´­ä¹°</code>ï¼Œç„¶åä¼šè¦æ±‚ä½ ç™»å½•ã€æ³¨å†Œã€å®åè®¤è¯ç­‰ç­‰ï¼Œç™»å½•å¯ä»¥ç›´æ¥ä½¿ç”¨å¾®ä¿¡ç™»å½•ç»‘å®šï¼Œéå¸¸æ–¹ä¾¿ï¼ŒæŒ‰æç¤ºæ¥å°±è¡Œã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè¾“å…¥ä½ å–œæ¬¢çš„åŸŸåï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¾ˆå¤šå¥½çš„åŸŸååŸºæœ¬éƒ½è¢«æ³¨å†Œäº†ï¼‰ï¼Œè¾“å…¥åŸŸåï¼Œä¼šæ£€æµ‹ä½ å½“å‰è¾“å…¥çš„åŸŸåæ˜¯å¦è¢«æ³¨å†Œï¼Œå¦‚æœæœªæ³¨å†Œï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œè§ä¸‹é¢ï¼š</p>
<p><img src="https://i.loli.net/2019/11/03/Uuc8dW2g1OCynJh.png" alt="image1"></p>
<p>ä¸‹ä¸€æ­¥ï¼Œä»˜æ¬¾ï¼Œç»“æŸï¼Œè¿™æ ·ä½ å°±æ‹¥æœ‰å±äºä½ è‡ªå·±çš„åŸŸåäº†ã€‚æ˜¯ä¸æ˜¯è´­ä¹°ç»“æŸï¼Œæœ‰äº†åŸŸåï¼Œä¸€åˆ‡å°±ç»“æŸäº†å‘¢ï¼Ÿå¹¶ä¸æ˜¯ï¼Œç»§ç»­å¾€ä¸‹çœ‹ã€‚</p>
<h2 id="ç»‘å®š"><a href="#ç»‘å®š" class="headerlink" title="ç»‘å®š"></a>ç»‘å®š</h2><p>åˆ°è¿™é‡Œï¼Œä½ å·²ç»æœ‰äº†åŸŸåï¼Œä½†æ˜¯ï¼Œä½ çš„åŸŸåè¿˜æ˜¯å¤„äº<code>æœªè§£æ</code>å’Œ<code>åŸŸåæ‰€æœ‰è€…æœªè®¤è¯ï¼ˆé»˜è®¤æ˜¯æ³¨å†Œè€…ï¼Œä½†æ˜¯è¦æ±‚ä½ é‡æ–°å¡«å†™èº«ä»½ä¿¡æ¯å’Œè”ç³»åœ°å€ã€é‚®ç®±ç­‰ç­‰ï¼‰</code>çš„ï¼Œä½ å¯ä»¥æ ¹æ®æç¤ºè¿›è¡Œæ“ä½œï¼Œéå¸¸ç®€å•ã€‚</p>
<p>æ¥ç€ï¼ˆæˆ‘çš„æ˜¯å‡ åˆ†é’Ÿï¼‰åŸŸåå®¡æ ¸é€šè¿‡åï¼Œä½ å°†éœ€è¦å°†<code>ä½ çš„åŸŸå</code>å’Œ<code>githubåšå®¢åœ°å€</code>ç»‘å®šèµ·æ¥ã€‚ç‚¹å‡»ä½ åŸŸåï¼Œè¿›å…¥åˆ°å¦‚ä¸‹å›¾ï¼ˆä¸‹å›¾æ˜¯æˆ‘å·²ç»å…³è”<code>githubåšå®¢</code>äº†ï¼‰ï¼š</p>
<p><img src="https://i.loli.net/2019/11/03/1R7viVKWs5pl34d.png" alt="image2"></p>
<ul>
<li><p>1ã€ ç‚¹å‡»<code>æ·»åŠ è®°å½•</code></p>
</li>
<li><p>2ã€ ä¸»æœºè®°å½•é€‰æ‹©<code>www</code></p>
</li>
<li><p>3ã€ è®°å½•ç±»å‹é€‰æ‹©<code>CNAME</code></p>
</li>
<li><p>4ã€ è®°å½•å€¼é€‰æ‹©<code>ä½ çš„githubåšå®¢åŸŸå</code></p>
</li>
</ul>
<p>okï¼Œåˆ°è¿™ä¸€æ­¥ï¼Œä½ åœ¨<code>è…¾è®¯äº‘</code>ä¸Šé¢çš„æ“ä½œåŸºæœ¬ç»“æŸäº†ã€‚</p>
<h2 id="hexoæœ¬åœ°åŸŸåå…³è”"><a href="#hexoæœ¬åœ°åŸŸåå…³è”" class="headerlink" title="hexoæœ¬åœ°åŸŸåå…³è”"></a>hexoæœ¬åœ°åŸŸåå…³è”</h2><ul>
<li>è¿›å…¥åˆ°ä½ æœ¬åœ°çš„<code>hexoæ ¹ç›®å½•</code>ä¸‹é¢çš„<code>sourceç›®å½•</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd source</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ›å»º<code>CNAME</code>æ–‡ä»¶ï¼ˆCNAMEå†™æ­»å°±è¡Œï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi CNAME</span><br></pre></td></tr></table></figure>

<ul>
<li>æ·»åŠ ä½ è´­ä¹°çš„åŸŸå</li>
</ul>
<p>æ¯”å¦‚æˆ‘çš„æ˜¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">www.clcoder.com</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ä¿å­˜é€€å‡º</p>
</li>
<li><p>é‡æ–°éƒ¨ç½²åšå®¢</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>

<p>åˆ°è¿™é‡Œï¼Œæ‰“å¼€ä½ çš„æ–°åŸŸåï¼Œä½ å°±å¯ä»¥çœ‹åˆ°å’Œä½ è´­ä¹°ä¹‹å‰ä½¿ç”¨çš„ç±»ä¼¼<code>xxx.github.io</code>çš„ä¸ªäººåšå®¢äº†ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><h5 id="1-è´­ä¹°åŸŸå"><a href="#1-è´­ä¹°åŸŸå" class="headerlink" title="1. è´­ä¹°åŸŸå"></a>1. è´­ä¹°åŸŸå</h5><h5 id="2-å¹³å°ï¼ˆå¦‚è…¾è®¯äº‘ï¼‰å…³è”åŸŸå"><a href="#2-å¹³å°ï¼ˆå¦‚è…¾è®¯äº‘ï¼‰å…³è”åŸŸå" class="headerlink" title="2. å¹³å°ï¼ˆå¦‚è…¾è®¯äº‘ï¼‰å…³è”åŸŸå"></a>2. å¹³å°ï¼ˆå¦‚è…¾è®¯äº‘ï¼‰å…³è”åŸŸå</h5><h5 id="3-æœ¬åœ°é…ç½®æ–°åŸŸåå¹¶é‡æ–°éƒ¨ç½²ã€å‘å¸ƒhexoæœåŠ¡"><a href="#3-æœ¬åœ°é…ç½®æ–°åŸŸåå¹¶é‡æ–°éƒ¨ç½²ã€å‘å¸ƒhexoæœåŠ¡" class="headerlink" title="3. æœ¬åœ°é…ç½®æ–°åŸŸåå¹¶é‡æ–°éƒ¨ç½²ã€å‘å¸ƒhexoæœåŠ¡"></a>3. æœ¬åœ°é…ç½®æ–°åŸŸåå¹¶é‡æ–°éƒ¨ç½²ã€å‘å¸ƒhexoæœåŠ¡</h5><p>æ‰€æœ‰çš„ä¸€åˆ‡ï¼Œéƒ½åˆšåˆšå¥½ã€‚</p>
]]></content>
      <categories>
        <category>Hexos</category>
      </categories>
      <tags>
        <tag>hexo, åŸŸå</tag>
      </tags>
  </entry>
  <entry>
    <title>äºŒ PythonåŸºç¡€ä¹‹å­—ç¬¦ä¸²å’Œç¼–ç </title>
    <url>/2019/10/28/%E4%BA%8C%20Python%E5%9F%BA%E7%A1%80%E4%B9%8B%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E7%BC%96%E7%A0%81/</url>
    <content><![CDATA[<h2 id="å­—ç¬¦ç¼–ç "><a href="#å­—ç¬¦ç¼–ç " class="headerlink" title="å­—ç¬¦ç¼–ç "></a>å­—ç¬¦ç¼–ç </h2><ul>
<li>ASCIIä¸Unicodeçš„åŒºåˆ«</li>
</ul>
<p><code>ASCII</code>ç¼–ç æ˜¯1ä¸ªå­—èŠ‚ï¼Œè€Œ<code>Unicode</code>ç¼–ç é€šå¸¸æ˜¯2ä¸ªå­—èŠ‚ã€‚</p>
<ul>
<li>è®¡ç®—æœºç³»ç»Ÿé€šç”¨çš„å­—ç¬¦ç¼–ç æ–¹å¼</li>
</ul>
<p>åœ¨è®¡ç®—æœºå†…å­˜ä¸­ï¼Œç»Ÿä¸€ä½¿ç”¨<code>Unicode</code>ç¼–ç ï¼Œå½“éœ€è¦ä¿å­˜åˆ°<code>ç¡¬ç›˜</code>æˆ–è€…éœ€è¦ä¼ è¾“çš„æ—¶å€™ï¼Œå°±è½¬æ¢æˆ<code>UTF-8</code>ç¼–ç ã€‚</p>
<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><p>åœ¨<code>Python3</code>çš„å­—ç¬¦ä¸²ä¸­ï¼Œä½¿ç”¨<code>Unicode</code>ç¼–ç ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>Python</code>çš„å­—ç¬¦ä¸²æ”¯æŒå¤šè¯­è¨€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; print(&apos;æµ‹è¯•pythonå­—ç¬¦ä¸²&apos;)</span><br><span class="line">æµ‹è¯•pythonå­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure>

<p>å¯¹äºå•ä¸ªå­—ç¬¦çš„ç¼–ç ï¼Œ<code>Python</code>æä¾›äº†<code>ord()</code>å‡½æ•°è·å–<strong>å­—ç¬¦çš„æ•´æ•°è¡¨ç¤º</strong>ï¼Œ<code>chr()</code>å‡½æ•°æŠŠç¼–ç è½¬æ¢æˆå¯¹åº”çš„å­—ç¬¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; ord(&apos;A&apos;)</span><br><span class="line">65</span><br><span class="line">&gt;&gt;&gt; chr(65)</span><br><span class="line">&apos;A&apos;</span><br><span class="line">&gt;&gt;&gt; ord(&apos;ä¸­&apos;)</span><br><span class="line">20013</span><br><span class="line">&gt;&gt;&gt; chr(20013)</span><br><span class="line">&apos;ä¸­&apos;</span><br></pre></td></tr></table></figure>

<p>ç”±äº<code>Python</code>çš„å­—ç¬¦ä¸²ç±»å‹æ˜¯<code>str</code>ï¼Œåœ¨å†…å­˜ä¸­ä»¥<code>Unicode</code>è¡¨ç¤ºï¼Œä¸€ä¸ªå­—ç¬¦å¯¹åº”è‹¥å¹²ä¸ªå­—èŠ‚ã€‚å¦‚æœè¦åœ¨ç½‘ç»œä¸Šä¼ è¾“æˆ–è€…ä¿å­˜åˆ°ç£ç›˜ä¸Šï¼Œå°±éœ€è¦æŠŠ<code>str</code>å˜æˆä»¥<strong>å­—èŠ‚ä¸ºå•ä½</strong>çš„<code>bytes</code>.</p>
<p><code>bytes</code>ç±»å‹çš„æ•°æ®ç”¨å¸¦<code>b</code>å‰ç¼€çš„å•å¼•å·æˆ–åŒå¼•å·è¡¨ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name = b&apos;ABC&apos;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼š<code>&#39;ABC&#39;</code>å’Œ<code>b&#39;ABC&#39;</code>è™½ç„¶å†…å®¹ä¸Šä¸€æ ·ï¼Œä½†æ˜¯ä¸¤è€…æ˜¯æœ‰åŒºåˆ«çš„ï¼Œ<code>&#39;ABC&#39;</code>æ˜¯<code>str</code>ï¼Œ<code>b&#39;ABC&#39;</code>ç±»å‹æ˜¯<code>bytes</code>å¹¶ä¸”æ¯ä¸ªå­—ç¬¦éƒ½åªå ç”¨<strong>1ä¸ªå­—èŠ‚</strong>ã€‚</p>
</blockquote>
<h3 id="strç¼–ç ä¸ºbytes"><a href="#strç¼–ç ä¸ºbytes" class="headerlink" title="strç¼–ç ä¸ºbytes"></a><code>str</code>ç¼–ç ä¸º<code>bytes</code></h3><p>å¯ä»¥å°†<code>str</code>ç±»å‹çš„å­—ç¬¦ä¸²ç¼–ç ä¸ºæŒ‡å®šçš„<code>bytes</code></p>
<ul>
<li>é€šè¿‡<code>ASCII</code>ç¼–ç </li>
</ul>
<p>è‹±æ–‡çš„å­—ç¬¦ä¸²æˆ‘ä»¬å¯ä»¥ç”¨è¿‡<code>ASCII</code>ç¼–ç ï¼Œä½†æ˜¯ä¸­æ–‡æ˜¯ä¸å…è®¸çš„ï¼Œå› ä¸ºè¶…è¿‡äº†<code>ASCII</code>çš„ç¼–ç èŒƒå›´ã€‚ä¸­æ–‡æˆ‘ä»¬ç”¨<code>UTF-8</code>å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; &apos;ABC&apos;.encode(&apos;ascii&apos;)</span><br><span class="line">b&apos;ABC&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;äººæ°‘å¸&apos;.encode(&apos;utf-8&apos;)</span><br><span class="line">b&apos;\xe4\xba\xba\xe6\xb0\x91\xe5\xb8\x81&apos;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨ï¼šåœ¨<code>bytes</code>ä¸­ï¼Œå¦‚æœæ— æ³•æ˜¾ç¤ºæˆ<code>ASCII</code>å­—ç¬¦çš„å­—èŠ‚ï¼Œä½¿ç”¨<code>\x##</code>è¡¨ç¤ºã€‚</p>
</blockquote>
<h3 id="bytesè§£ç ä¸ºstr"><a href="#bytesè§£ç ä¸ºstr" class="headerlink" title="bytesè§£ç ä¸ºstr"></a><code>bytes</code>è§£ç ä¸º<code>str</code></h3><p>æˆ‘ä»¬ä»ç½‘ç»œæˆ–ç£ç›˜ä¸Šè¯»å–åˆ°çš„éƒ½æ˜¯å­—èŠ‚æµ<code>bytes</code>ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦<strong>è§£ç </strong>ä¸º<code>str</code>ï¼Œå¯ä»¥ä½¿ç”¨<code>decode</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; b&apos;ABC&apos;.decode(&apos;ascii&apos;)</span><br><span class="line">&apos;ABC&apos;</span><br><span class="line">&gt;&gt;&gt; b&apos;\xe4\xba\xba\xe6\xb0\x91\xe5\xb8\x81&apos;.decode(&apos;utf-8&apos;)</span><br><span class="line">&apos;äººæ°‘å¸&apos;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ<code>bytes</code>ä¸­åªæœ‰ä¸€å°éƒ¨åˆ†å­—èŠ‚æ˜¯æ— æ•ˆçš„ï¼Œé‚£ä¹ˆå¯ä»¥ä¼ å…¥<code>errors=&#39;ignore&#39;</code>æ¥å¿½ç•¥é”™è¯¯çš„å­—èŠ‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; b&apos;\xe4\xba\xba\xe6\xb0\x91\xe5\xb8\x81\xaa\xbb\xcc&apos;.decode(&apos;utf-8&apos;, errors=&apos;ignore&apos;)</span><br><span class="line">&apos;äººæ°‘å¸&apos;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸ä½¿ç”¨<code>errors=&#39;ignore&#39;</code>ï¼Œåˆ™ä¼šæŠ¥é”™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; b&apos;\xe4\xba\xba\xe6\xb0\x91\xe5\xb8\x81\xaa\xbb\xcc&apos;.decode(&apos;utf-8&apos;)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">UnicodeDecodeError: &apos;utf-8&apos; codec can&apos;t decode byte 0xaa in position 9: invalid start byte</span><br></pre></td></tr></table></figure>

<h3 id="è®¡ç®—å­—ç¬¦æ•°"><a href="#è®¡ç®—å­—ç¬¦æ•°" class="headerlink" title="è®¡ç®—å­—ç¬¦æ•°"></a>è®¡ç®—å­—ç¬¦æ•°</h3><p>å¯ä»¥ä½¿ç”¨<code>len()</code>å‡½æ•°æ¥è®¡ç®—<code>str</code>çš„å­—ç¬¦æ•°ï¼Œæ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; len(&apos;abc&apos;)</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; len(&apos;æˆ‘çˆ±ä¸­å›½&apos;)</span><br><span class="line">4</span><br></pre></td></tr></table></figure>

<h3 id="è®¡ç®—å­—èŠ‚æ•°"><a href="#è®¡ç®—å­—èŠ‚æ•°" class="headerlink" title="è®¡ç®—å­—èŠ‚æ•°"></a>è®¡ç®—å­—èŠ‚æ•°</h3><p>å¦‚æœéœ€è¦è®¡ç®—ä¸€ä¸ª<code>str</code>ç±»å‹çš„<em>å­—èŠ‚æ•°</em>ï¼Œéœ€è¦å…ˆå°†<code>str</code>ç¼–ç æˆä¸º<code>bytes</code>ï¼Œç„¶åä½¿ç”¨<code>len()</code>å‡½æ•°è®¡ç®—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; len(&apos;abc&apos;.encode(&apos;ascii&apos;))</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; len(&apos;æˆ‘çˆ±ä¸­å›½&apos;.encode(&apos;utf-8&apos;))</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œ<code>1ä¸ªä¸­æ–‡</code>ç»è¿‡<code>UTF-8</code>ç¼–ç åé€šå¸¸å ç”¨<code>3ä¸ªå­—èŠ‚</code>ï¼Œ<code>1ä¸ªè‹±æ–‡å­—ç¬¦</code>åªå ç”¨<code>1ä¸ªå­—èŠ‚</code>ã€‚</p>
<p>ç”±äº<code>Python</code>æºä»£ç æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ª<code>æ–‡æœ¬æ–‡ä»¶</code>ï¼Œå› æ­¤ï¼Œä¸ºäº†ä¿è¯ä½¿ç”¨çš„ç¼–ç æ–¹å¼ç»Ÿä¸€ï¼Œé˜²æ­¢å«æœ‰ä¸­æ–‡å¯¼è‡´ä¹±ç ï¼Œä»¥ä¾¿<code>Pythonè§£é‡Šå™¨</code>è¯»å–æºæ–‡ä»¶æ˜¯æŒ‰ç…§<code>UTF-8</code>çš„æ–¹å¼è¯»å–ï¼Œæœ€å¥½åœ¨æºæ–‡ä»¶å¤´éƒ¨åŠ ä¸Šï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€è¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰<code>Linux/OS X</code>ç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ª<code>Python</code>å¯æ‰§è¡Œç¨‹åºï¼Œ<code>Windows</code>ç³»ç»Ÿä¼šå¿½ç•¥è¿™ä¸ªæ³¨é‡Šã€‚</p>
<p>ç¬¬äºŒè¡Œæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰<code>Pythonè§£é‡Šå™¨</code>ï¼ŒæŒ‰ç…§<code>UTF-8</code>çš„æ–¹å¼è¯»å–æºä»£ç ï¼Œå¦åˆ™å¦‚æœæºæ–‡ä»¶ä¸­å«æœ‰<strong>ä¸­æ–‡</strong>çš„è¯å¯èƒ½ä¼šå¯¼è‡´ä¹±ç ã€‚</p>
<blockquote>
<p>ç”³æ˜äº†<code>UTF-8ç¼–ç </code>å¹¶ä¸æ„å‘³ç€ä½ çš„<code>.pyæ–‡ä»¶</code>å°±æ˜¯<code>UTF-8ç¼–ç </code>çš„ï¼Œå¿…é¡»å¹¶ä¸”è¦ç¡®ä¿æ–‡æœ¬ç¼–è¾‘å™¨æ­£åœ¨ä½¿ç”¨<code>UTF-8 without BOMç¼–ç </code>; å¦‚æœ<code>.pyæ–‡ä»¶</code>æœ¬èº«ä½¿ç”¨<code>UTF-8ç¼–ç </code>ï¼Œå¹¶ä¸”ä¹Ÿç”³æ˜äº†<code># -*- coding: utf-8 -*-</code>ï¼Œæ‰“å¼€å‘½ä»¤æç¤ºç¬¦æµ‹è¯•å°±å¯ä»¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡ã€‚</p>
</blockquote>
<h3 id="æ ¼å¼åŒ–"><a href="#æ ¼å¼åŒ–" class="headerlink" title="æ ¼å¼åŒ–"></a>æ ¼å¼åŒ–</h3><p>å¸¸ç”¨æ ¼å¼åŒ–å ä½ç¬¦å¦‚ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>å ä½ç¬¦</th>
<th>ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>%d</td>
<td>æ•´å‹</td>
</tr>
<tr>
<td>%f</td>
<td>æµ®ç‚¹å‹</td>
</tr>
<tr>
<td>%s</td>
<td>å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>%x</td>
<td>åå…­è¿›åˆ¶æ•´æ•°</td>
</tr>
</tbody></table>
<ul>
<li>é€šç”¨ç”¨æ³•</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; print(&apos;I\&apos;am %s, I am %d years old, grade percentage is %s%%&apos; % (&apos;langke&apos;, 18, &apos;90&apos;))</span><br><span class="line">I&apos;am langke, I am 18 years old, grade percentage is 90%</span><br></pre></td></tr></table></figure>

<ul>
<li>ä½¿ç”¨<code>format()</code>å‡½æ•°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; print(&apos;æˆ‘æ˜¯&#123;0&#125;, æˆ‘ä»Šå¹´çš„æˆç»©æé«˜äº†&#123;1:.2f&#125;%&apos;.format(&apos;åˆ˜å¾·å&apos;, 16.394))</span><br><span class="line">æˆ‘æ˜¯åˆ˜å¾·å, æˆ‘ä»Šå¹´çš„æˆç»©æé«˜äº†16.39%</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>ç›®å‰ä½¿ç”¨æœ€å¤šçš„ç¼–ç æ–¹å¼æ˜¯<code>UTF-8</code>ï¼Œå¦‚æœæ²¡æœ‰ç‰¹åˆ«çš„ä¸šåŠ¡è¦æ±‚ï¼Œå°½é‡ä½¿ç”¨<code>UTF-8</code>ç¼–ç ã€è§£ç ï¼Œä»¥é¿å…ä¹±ç ä»¥åŠå…¶ä»–ä¸å¿…è¦çš„éº»çƒ¦ã€‚</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>vimå‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨</title>
    <url>/2019/10/27/vim%E5%91%BD%E4%BB%A4%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æœ¬æ–‡åŸºäº<code>Mac OS</code>ç¯å¢ƒï¼Œä¸»è¦è®°å½•ä¸€äº›å¸¸ç”¨çš„<code>vim</code>é…ç½®å’Œä¸€äº›å¸¸ç”¨å‘½ä»¤ã€‚</p>
<h3 id="é…ç½®vim"><a href="#é…ç½®vim" class="headerlink" title="é…ç½®vim"></a>é…ç½®vim</h3><ul>
<li>åˆ›å»ºé…ç½®æ–‡ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi ~/.vimrc</span><br></pre></td></tr></table></figure>

<ul>
<li>æ˜¾ç¤ºè¡Œæ•°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">set number</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ·»åŠ åˆ°é…ç½®æ–‡ä»¶<code>.vimrc</code>ä¸­ï¼Œé‡å¯ç»ˆç«¯å³å¯ç”Ÿæ•ˆã€‚</p>
</blockquote>
<ul>
<li>tabç¼©è¿›ï¼ˆæŒ‰4ä¸ªç©ºæ ¼ç¼©è¿›ï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:set tabstop=4</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ·»åŠ åˆ°é…ç½®æ–‡ä»¶<code>.vimrc</code>ä¸­ï¼Œé‡å¯ç»ˆç«¯å³å¯ç”Ÿæ•ˆã€‚</p>
</blockquote>
<h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><ul>
<li>æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ—ä¸¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åŠæ–‡ä»¶å¤¹</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure>

<p>æˆ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">l</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ›å»ºæ–‡ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">touch xxx</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ›å»ºå¹¶æ‰“å¼€æ–‡ä»¶ï¼ˆå¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œç›´æ¥æ‰“å¼€ç¼–è¾‘ï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi xxx</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ›å»ºæ–‡ä»¶å¤¹</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mkdir xxx</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ é™¤æ–‡ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rm xxx</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ é™¤ç©ºæ–‡ä»¶å¤¹</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rmdir xxx</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ é™¤æ–‡ä»¶å¤¹ï¼ˆåŒ…æ‹¬æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰ä¸œè¥¿ï¼Œæ…ç”¨ï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rm -rf xxx</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹æ–‡ä»¶å†…å®¹</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat xxx</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">less xxx</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">more xxx</span><br></pre></td></tr></table></figure>

<ul>
<li>å¼€å§‹ç¼–è¾‘</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">i</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¿å­˜</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">w</span><br></pre></td></tr></table></figure>

<ul>
<li>é€€å‡º</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">q</span><br></pre></td></tr></table></figure>

<ul>
<li>å¼ºåˆ¶é€€å‡ºï¼ˆä¸ä¼šä¿å­˜æ‰€ä¿®æ”¹çš„å†…å®¹ï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">q!</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¿å­˜å¹¶é€€å‡º</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wq</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ZZ</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ é™¤å½“å‰è¡Œ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dd</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ é™¤å½“å‰è¡Œä»¥ä¸‹å¤šå°‘è¡Œ</li>
</ul>
<p>æ¯”å¦‚åˆ é™¤å½“å‰è¡Œå¾€ä¸‹<code>3</code>è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:3dd</span><br></pre></td></tr></table></figure>

<ul>
<li>æ’¤é”€</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">u</span><br></pre></td></tr></table></figure>

<ul>
<li>ç§»åŠ¨æ–‡ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mv æºè·¯å¾„ ç›®æ ‡è·¯å¾„</span><br></pre></td></tr></table></figure>

<p>å¦‚å°†<code>å½“å‰æ–‡ä»¶</code>ç§»åŠ¨åˆ°ç”¨æˆ·åå½•ä¸‹çš„<code>DemoDir</code>æ–‡ä»¶å¤¹ä¸­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mv ./test.file ~/DemoDir</span><br></pre></td></tr></table></figure>

<ul>
<li>æ‹·è´æ–‡ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp æºè·¯å¾„ ç›®æ ‡è·¯å¾„</span><br></pre></td></tr></table></figure>

<ul>
<li>å…‰æ ‡è·³åˆ°ç¬¬å‡ è¡Œ</li>
</ul>
<p>æ¯”å¦‚è·³åˆ°ç¬¬<code>5</code>è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:5</span><br></pre></td></tr></table></figure>

<ul>
<li>å…‰æ ‡å·¦ç§»</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">h</span><br></pre></td></tr></table></figure>

<ul>
<li>å…‰æ ‡ç”±ç§»</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">l</span><br></pre></td></tr></table></figure>

<ul>
<li>å…‰æ ‡ä¸Šç§»</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">k</span><br></pre></td></tr></table></figure>

<ul>
<li>å…‰æ ‡ä¸‹ç§»</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">j</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨å½“å‰è¡Œä¸‹é¢æ’å…¥ç©ºè¡Œå¹¶å¼€å§‹ç¼–è¾‘</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">o</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨å½“å‰è¡Œä¸Šé¢æ’å…¥ç©ºè¡Œå¹¶å¼€å§‹ç¼–è¾‘</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">O</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨å½“å‰è¡Œå¤´éƒ¨å¼€å§‹ç¼–è¾‘</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">I</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨å½“å‰è¡Œæœ«å¼€å§‹ç¼–è¾‘</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">A</span><br></pre></td></tr></table></figure>

<ul>
<li>å¤åˆ¶å½“å‰è¡Œ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yy</span><br></pre></td></tr></table></figure>

<ul>
<li>ç²˜è´´åˆ°å½“å‰è¡Œä¸‹é¢</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">p</span><br></pre></td></tr></table></figure>

<ul>
<li>ç²˜è´´åˆ°å½“å‰è¡Œä¸Šé¢</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">P</span><br></pre></td></tr></table></figure>

<ul>
<li>ä»å½“å‰è¡Œå¾€ä¸‹å¤åˆ¶nè¡Œ(nä¸ºæ•°å­—)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nyy</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>vim, å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€ PythonåŸºç¡€ä¹‹æ•°æ®ç±»å‹å’Œå˜é‡</title>
    <url>/2019/10/27/%E4%B8%80%20Python%E5%9F%BA%E7%A1%80%E4%B9%8B%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%8F%98%E9%87%8F/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æœ¬æ–‡åŸºäº<code>Python 3.7.4</code>ç¯å¢ƒä¸‹è¿è¡Œã€‚</p>
<h3 id="æ•´æ•°"><a href="#æ•´æ•°" class="headerlink" title="æ•´æ•°"></a>æ•´æ•°</h3><p><code>Python</code>å¯ä»¥å¤„ç†<strong>ä»»æ„å¤§å°</strong>çš„æ•´æ•°ï¼Œè¿™å°±è¡¨ç¤ºåœ¨æˆ‘ä»¬ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œä¸ä¼šå‡ºç°<strong>æ•°æ®æº¢å‡º</strong>çš„æƒ…å†µï¼Œè¿™ä¸€ç‚¹ä¹Ÿæå¤§åœ°æ–¹ä¾¿äº†<code>Python</code>çš„å¼€å‘è€…ã€‚</p>
<h3 id="æµ®ç‚¹æ•°"><a href="#æµ®ç‚¹æ•°" class="headerlink" title="æµ®ç‚¹æ•°"></a>æµ®ç‚¹æ•°</h3><p><code>æµ®ç‚¹æ•°</code>å°±æ˜¯<code>å°æ•°</code>ï¼Œåªæ˜¯<strong>è¿‡å¤§</strong>ã€<strong>è¿‡å°</strong>æˆ–<strong>æŸäº›æƒ…å†µä¸‹</strong>çš„<code>æµ®ç‚¹æ•°</code>æˆ‘ä»¬ä¼šé‡‡ç”¨<code>ç§‘å­¦è®¡æ•°æ³•</code>æ¥è¡¨ç¤ºï¼Œæ¯”å¦‚ï¼š3.88e9ã€38.8e8ã€‚</p>
<p>æ³¨æ„ï¼š<code>æµ®ç‚¹æ•°</code>å’Œ<code>æ•´æ•°</code>çš„åœ¨è®¡ç®—æœºä¸­çš„å­˜å‚¨æ–¹å¼ä¸ä¸€æ ·ï¼Œ<code>æ•´æ•°</code>ä¸€å®šæ˜¯<strong>ç²¾ç¡®çš„</strong>ï¼Œè€Œ<code>æµ®ç‚¹æ•°</code>å¯èƒ½ä¼šæœ‰å››èˆäº”å…¥çš„è¯¯å·®ã€‚</p>
<h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><p><code>Python</code>çš„<code>å­—ç¬¦ä¸²</code>å¯ä»¥ç”¨<code>å•å¼•å·&#39;&#39;</code>æˆ–è€…<code>åŒå¼•å·&quot;&quot;</code>æ‹¬èµ·æ¥ï¼Œä½†æ˜¯å¿…é¡»<code>æˆå¯¹ä½¿ç”¨</code>ï¼Œä¸èƒ½<code>å•å¼•å·</code>å’Œ<code>åŒå¼•å·</code>æ··ç”¨ï¼Œå¦åˆ™ä¼š<strong>æŠ¥é”™</strong>ã€‚</p>
<p>å¦‚æœéœ€è¦åœ¨å­—ç¬¦ä¸²å†…ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚<code>å•å¼•å·&#39;&#39;</code>æˆ–è€…<code>åŒå¼•å·&quot;&quot;</code>ç­‰ï¼Œå¯ä»¥ä½¿ç”¨<code>åæ–œæ \</code>è¿›è¡Œè½¬è¯‘ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print(&apos;The world\&apos;s beautiful!&apos;)</span><br></pre></td></tr></table></figure>

<p>å¯¹åº”è¾“å‡ºçš„å†…å®¹æ˜¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">The world&apos;s beautiful!</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œå¦‚æœä¸æƒ³è½¬ä¹‰å‘¢ï¼Ÿè¿™æ—¶ï¼Œ<code>Python</code>ç»™æˆ‘ä»¬æä¾›äº†<code>r</code>å‰ç¼€ä»£è¡¨å­—ç¬¦ä¸²å†…çš„æ‰€æœ‰å­—ç¬¦ä¸éœ€è¦è½¬ä¹‰ã€‚ä¾‹å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print(r&apos;The world\&apos;s beautiful!&apos;)</span><br></pre></td></tr></table></figure>

<p>å¯¹åº”è¾“å‡ºçš„å†…å®¹æ˜¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">The world\&apos;s beautiful!</span><br></pre></td></tr></table></figure>

<h3 id="å¸ƒå°”å€¼"><a href="#å¸ƒå°”å€¼" class="headerlink" title="å¸ƒå°”å€¼"></a>å¸ƒå°”å€¼</h3><p><code>Python</code>çš„<code>å¸ƒå°”å€¼</code>ç”¨<code>True</code>å’Œ<code>False</code>æ¥è¡¨ç¤ºã€‚</p>
<p>ä¸<code>å¸ƒå°”å€¼</code>å¸¸æ­é…ä½¿ç”¨çš„è¿˜æœ‰<code>é€»è¾‘è¿ç®—ç¬¦</code>ï¼š<code>or(æˆ–)</code>ã€<code>and(ä¸)</code>ã€<code>not(é)</code>ã€‚ä¾‹å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; True or False</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; True and False</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; not True</span><br><span class="line">False</span><br></pre></td></tr></table></figure>

<h3 id="ç©ºå€¼"><a href="#ç©ºå€¼" class="headerlink" title="ç©ºå€¼"></a>ç©ºå€¼</h3><p><code>Python</code>æä¾›äº†<code>ç©ºå€¼</code>ï¼Œç”¨<code>None</code>è¡¨ç¤ºï¼Œå®ƒçš„ç±»å‹æ˜¯<code>NoneType</code>ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨<code>Python</code>çš„å†…ç½®å‡½æ•°<code>type()</code>å‡½æ•°æŸ¥çœ‹å…¶ç±»å‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; type(None)</span><br><span class="line">&lt;class &apos;NoneType&apos;&gt;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š<code>None</code>å’Œ<code>0</code>æ˜¯æœ‰åŒºåˆ«çš„ï¼Œ<code>0</code>æ˜¯æœ‰æ„ä¹‰çš„ï¼Œ<code>None</code>æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„<code>ç©ºå€¼</code>ã€‚</p>
<h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><p><code>Python</code>ä¸­çš„<code>å˜é‡</code>å¾ˆç®€å•ï¼Œä¸éœ€è¦å£°æ˜å…¶ä»€ä¹ˆç±»å‹ï¼Œç›´æ¥ä½¿ç”¨ï¼Œå¹¶ä¸”å¿…é¡»æ˜¯`æ•°å­—ã€å¤§å°å†™è‹±æ–‡å­—æ¯ã€ä¸‹åˆ’çº¿_çš„ç»„åˆã€‚</p>
<p>ä¾‹å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name = &apos;Alice&apos;</span><br><span class="line"></span><br><span class="line">age = 18</span><br><span class="line"></span><br><span class="line">isGirl = True</span><br></pre></td></tr></table></figure>

<p><code>name</code>æ˜¯ä¸€ä¸ª<code>å­—ç¬¦ä¸²ç±»å‹</code>çš„<code>å˜é‡</code>ã€‚</p>
<p><code>age</code>æ˜¯ä¸€ä¸ª<code>æ•´å‹</code>çš„<code>å˜é‡</code>ã€‚</p>
<p><code>isGirl</code>æ˜¯ä¸€ä¸ª<code>å¸ƒå°”ç±»å‹</code>çš„<code>å˜é‡</code>ã€‚</p>
<p><code>Python</code>çš„<code>å˜é‡ç±»å‹</code>æ˜¯<strong>ä¸å›ºå®šçš„</strong>ï¼Œæ„å‘³ç€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">value = &apos;Alice&apos;</span><br><span class="line">value = 666</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºäº†ä¸€ä¸ª<code>å­—ç¬¦ä¸²ç±»å‹</code>çš„<code>å˜é‡value</code>ï¼Œæ¥ç€ï¼Œæˆ‘ä»¬åˆç»™å…¶èµ‹å€¼ä¸€ä¸ª<code>æ•´å‹ç±»å‹</code>çš„å€¼<code>666</code>ï¼Œè¿™æ ·æ˜¯å¦å¯ä»¥å‘¢ï¼Ÿç­”æ¡ˆï¼šæ˜¯ã€‚å› ä¸º<code>Python</code>æ˜¯<code>åŠ¨æ€è¯­è¨€</code>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå˜é‡æœ¬èº«ç±»å‹æ˜¯ä¸å›ºå®šçš„ï¼Œä½ å¯ä»¥æŠŠ<code>å­—ç¬¦ä¸²</code>èµ‹å€¼ç»™<code>æ•´å‹</code>çš„<code>å˜é‡</code>ï¼Œä¹Ÿå¯ä»¥æŠŠ<code>æ•´å‹å€¼</code>èµ‹å€¼ç»™<code>å­—ç¬¦ä¸²ç±»å‹</code>çš„<code>å˜é‡</code>ã€‚</p>
<p>æœ‰<code>åŠ¨æ€è¯­è¨€</code>ï¼Œå°±æ„å‘³ç€æœ‰<code>é™æ€è¯­è¨€</code>ï¼Œæ¯”å¦‚<code>Java</code>ã€<code>Swift</code>ç­‰ç­‰ã€‚</p>
<h3 id="å¸¸é‡"><a href="#å¸¸é‡" class="headerlink" title="å¸¸é‡"></a>å¸¸é‡</h3><p>é¡¾åæ€ä¹‰ï¼Œ<code>å¸¸é‡</code>å°±æ˜¯<strong>ä¸èƒ½æ”¹å˜çš„å˜é‡</strong>ï¼Œä½†æ˜¯ï¼Œåœ¨<code>Python</code>ä¸­ï¼Œæ˜¯æ²¡æœ‰<code>å¸¸é‡</code>è¿™ä¸€ç²¾ç¡®æ¦‚å¿µçš„ï¼Œé€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬ä¼šç”¨<em>å…¨éƒ¨å¤§å†™</em>çš„æ–¹å¼æ¥<em>è¡¨ç¤ºå¸¸é‡</em>ï¼Œæ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AGE = 18</span><br><span class="line">PI = 3.14</span><br></pre></td></tr></table></figure>

<h3 id="é™¤æ³•"><a href="#é™¤æ³•" class="headerlink" title="é™¤æ³•"></a>é™¤æ³•</h3><ul>
<li>æ­£å¸¸çš„é™¤æ³• <code>/</code></li>
</ul>
<p>ä½¿ç”¨<code>/</code>åšé™¤æ³•ï¼Œç»“æœæ°¸è¿œæ˜¯æµ®ç‚¹æ•°ã€‚æ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; 10 / 3</span><br><span class="line">3.3333333333333335</span><br><span class="line">&gt;&gt;&gt; 4 / 2</span><br><span class="line">2.0</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ°æ¿é™¤ <code>//</code></li>
</ul>
<p>ç»“æœæ°¸è¿œæ˜¯<code>æ•´æ•°</code>ã€‚æ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; 10 // 3</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<ul>
<li>å–ä½™ <code>%</code></li>
</ul>
<p>æ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; 10 % 3</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p><code>Python</code>çš„åŸºæœ¬æ•°æ®ç±»å‹åŠå˜é‡æ¯”è¾ƒçµæ´»ï¼Œä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„ä¸€äº›ä¸å…¶ä»–è¯­è¨€ä¸åŒçš„åœ°æ–¹ï¼Œå¦‚<code>åœ°æ¿é™¤</code>ã€<code>é€šç”¨é™¤æ³•çš„ç»“æœæ˜¯æµ®ç‚¹æ•°</code>å¹¶ä¸”<code>å˜é‡</code>æ˜¯<code>åŠ¨æ€çš„</code>ã€‚<code>Python</code>æ˜¯ä¸€é—¨<code>åŠ¨æ€ç±»å‹è¯­è¨€</code>ï¼Œå½“ç„¶ï¼Œä¹Ÿæ˜¯ä¸€é—¨<code>è§£é‡Šå‹</code>ã€<code>é€šç”¨å‹</code>ã€<code>é«˜çº§</code>ç¼–ç¨‹è¯­è¨€ã€‚</p>
<hr>
<p>å­¦ä¹ èµ„æ–™æ¥æºï¼š<a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017063826246112" target="_blank" rel="noopener">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</a>ã€‚</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoçš„åŸºæœ¬ä½¿ç”¨</title>
    <url>/2019/09/23/Hexo%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="åˆ›å»ºåšå®¢"><a href="#åˆ›å»ºåšå®¢" class="headerlink" title="åˆ›å»ºåšå®¢"></a>åˆ›å»ºåšå®¢</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new &quot;åšå®¢æ ‡é¢˜&quot;</span><br></pre></td></tr></table></figure>

<h2 id="å‘å¸ƒåšå®¢"><a href="#å‘å¸ƒåšå®¢" class="headerlink" title="å‘å¸ƒåšå®¢"></a>å‘å¸ƒåšå®¢</h2><p>å…ˆæ¸…ç†ç¼“å­˜ï¼Œä¸€èˆ¬å¯èƒ½ä¼šç”±äºæœ¬åœ°ç¼“å­˜è€Œå¯¼è‡´å‘å¸ƒæ²¡æœ‰ç”Ÿæ•ˆï¼ˆå¯é€‰ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure>

<p>å‘å¸ƒå’Œéƒ¨ç½²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä»¥ä¸Šå‘½ä»¤å…¶å®å’Œï¼š1. <code>hexo g</code>ï¼Œ2. <code>hexo d</code> æ˜¯ä¸€æ ·çš„ã€‚</p>
</blockquote>
<h2 id="æ›´æ¢ä¸»é¢˜"><a href="#æ›´æ¢ä¸»é¢˜" class="headerlink" title="æ›´æ¢ä¸»é¢˜"></a>æ›´æ¢ä¸»é¢˜</h2><p>æ¨èäººæ°”æœ€ä½³çš„<code>next</code>ä¸»é¢˜ï¼Œå…¶ä»–æ›´æ¢ä¸»é¢˜çš„æ–¹å¼éƒ½å·®ä¸å¤šçš„</p>
<ul>
<li>1.å®‰è£…</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/theme-next/hexo-theme-next.git themes/next</span><br></pre></td></tr></table></figure>

<ul>
<li>2.ä¿®æ”¹</li>
</ul>
<p>æ‰“å¼€æ ¹ç›®å½•ä¸‹é…ç½®æ–‡ä»¶<code>_config.yml</code>, æ‰¾åˆ°<code>theme</code>é¡¹ï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶</h2><h3 id="ä¸€-ä¿®æ”¹ä¸»é¢˜å¸ƒå±€"><a href="#ä¸€-ä¿®æ”¹ä¸»é¢˜å¸ƒå±€" class="headerlink" title="ä¸€ ä¿®æ”¹ä¸»é¢˜å¸ƒå±€"></a>ä¸€ ä¿®æ”¹ä¸»é¢˜å¸ƒå±€</h3><p>åœ¨æ ¹ç›®å½•ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi themes/next/_config.yml</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Schemes</span><br><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">scheme: Pisces</span><br><span class="line">#scheme: Gemini</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®è‡ªå·±éœ€è¦ï¼Œæ‰“å¼€ç›¸åº”çš„<code>scheme</code>é¡¹ï¼Œå³å¯æµè§ˆç›¸åº”çš„æ•ˆæœã€‚æˆ‘æ¯”è¾ƒå–œæ¬¢<code>scheme: Pisces</code>ï¼Œå·¦ä¾§æ˜¯æ ç›®ï¼Œå³ä¾§æ˜¾ç¤ºå†…å®¹ã€‚</p>
<h3 id="äºŒ-å¢åŠ æ ‡ç­¾å’Œåˆ†ç±»"><a href="#äºŒ-å¢åŠ æ ‡ç­¾å’Œåˆ†ç±»" class="headerlink" title="äºŒ å¢åŠ æ ‡ç­¾å’Œåˆ†ç±»"></a>äºŒ å¢åŠ <code>æ ‡ç­¾å’Œåˆ†ç±»</code></h3><p>åœ¨æ ¹ç›®å½•ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi themes/next/_config.yml</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  #about: /about/ || user</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  archives: /archives/ || archive</span><br><span class="line">  #schedule: /schedule/ || calendar</span><br><span class="line">  #sitemap: /sitemap.xml || sitemap</span><br><span class="line">  #commonweal: /404/ || heartbeat</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œé¢çš„<code>menué¡¹</code>ï¼Œæ¥ç€æ‰“å¼€ç›¸åº”çš„å­é…ç½®é¡¹<code>tags</code>å’Œ<code>categories</code>ã€‚</p>
<h4 id="2-1-åˆ†ç±»"><a href="#2-1-åˆ†ç±»" class="headerlink" title="2.1 åˆ†ç±»"></a>2.1 åˆ†ç±»</h4><ul>
<li>2.1.1 æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå‘½åä¸º <code>categories</code> ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure>

<ul>
<li>2.1.2 ç¼–è¾‘åˆšæ–°å»ºçš„é¡µé¢ï¼Œå°†é¡µé¢çš„ç±»å‹è®¾ç½®ä¸º <code>categories</code> ï¼Œä¸»é¢˜å°†è‡ªåŠ¨ä¸ºè¿™ä¸ªé¡µé¢æ˜¾ç¤ºæ‰€æœ‰åˆ†ç±»ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">title: åˆ†ç±»</span><br><span class="line">date: 2019-10-07 21:27:11</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<ul>
<li>2.1.3 å…³è”åšå®¢</li>
</ul>
<p>åœ¨æ–‡ç« å¤´éƒ¨ï¼Œæ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">categories: iOS</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å…³è”åˆ°äº†<code>iOS</code>åˆ†ç±»äº†ã€‚</p>
<ul>
<li>2.1.4 äºŒçº§åˆ†ç±»</li>
</ul>
<p>æœ‰æ—¶å€™å¯èƒ½éœ€è¦æ·»åŠ äºŒçº§åˆ†ç±»ï¼Œæ¯”å¦‚<code>iOS</code>ä¸‹é¢æœ‰<code>Swift</code>å’Œ<code>Objective-C</code>ï¼Œ é‚£ä¹ˆäºŒçº§åˆ†ç±»ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥åœ¨æ–‡ç« çš„å¤´éƒ¨çš„åˆ†ç±»ä¸­ä¾æ¬¡æ·»åŠ ä¸€çº§åˆ†ç±»ã€äºŒçº§åˆ†ç±»ã€‚æ¯”å¦‚</p>
<p><code>iOS</code>åˆ†ç±»ä¸‹æœ‰ä¸€ä¸ª<code>Swift</code>åˆ†ç±»</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello, swift!</span><br><span class="line">date: 2019-11-04 20:01:18</span><br><span class="line">categories: </span><br><span class="line">- iOS</span><br><span class="line">- Swift</span><br><span class="line">tags: Swift</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p><code>iOS</code>åˆ†ç±»ä¸‹å†æœ‰ä¸€ä¸ª<code>Objective-C</code>åˆ†ç±»</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello, Objective-C!</span><br><span class="line">date: 2019-11-04 20:01:18</span><br><span class="line">categories: </span><br><span class="line">- iOS</span><br><span class="line">- Objective-C</span><br><span class="line">tags: OC</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h4 id="2-2-æ ‡ç­¾"><a href="#2-2-æ ‡ç­¾" class="headerlink" title="2.2 æ ‡ç­¾"></a>2.2 æ ‡ç­¾</h4><ul>
<li>2.2.1 æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå‘½åä¸º<code>tags</code> ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new page &quot;tags&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>2.2.2 ç¼–è¾‘åˆšæ–°å»ºçš„é¡µé¢ï¼Œå°†é¡µé¢çš„ç±»å‹è®¾ç½®ä¸º <code>tags</code> ï¼Œä¸»é¢˜å°†è‡ªåŠ¨ä¸ºè¿™ä¸ªé¡µé¢æ˜¾ç¤ºæ ‡ç­¾äº‘ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">title: æ ‡ç­¾</span><br><span class="line">date: 2019-10-07 21:27:11</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h3 id="ä¸‰-æ·»åŠ å¤´åƒ"><a href="#ä¸‰-æ·»åŠ å¤´åƒ" class="headerlink" title="ä¸‰ æ·»åŠ å¤´åƒ"></a>ä¸‰ æ·»åŠ å¤´åƒ</h3><p>ç¼–è¾‘ä¸»é¢˜çš„ <code>_config.yml</code>ï¼Œæ–°å¢å­—æ®µ<code>avatar</code>ï¼Œ å€¼è®¾ç½®æˆå¤´åƒçš„é“¾æ¥åœ°å€ã€‚</p>
<p>å…¶ä¸­ï¼Œå¤´åƒçš„é“¾æ¥åœ°å€å¯ä»¥æ˜¯ï¼š<br>    1    å®Œæ•´çš„äº’è”ç½‘ <code>URL</code>ï¼Œä¾‹å¦‚ï¼š<code>https://avatars1.githubusercontent.com/u/32269?v=3&amp;s=460</code><br>    2    ç«™ç‚¹å†…çš„åœ°å€ï¼Œä¾‹å¦‚ï¼š<br>    â—¦    <code>/uploads/avatar.jpg</code> éœ€è¦å°†ä½ çš„å¤´åƒå›¾ç‰‡æ”¾ç½®åœ¨ ç«™ç‚¹çš„ <code>source/uploads/</code>ï¼ˆå¯èƒ½éœ€è¦æ–°å»ºuploadsç›®å½•ï¼‰<br>    â—¦    <code>/images/avatar.jpg</code> éœ€è¦å°†ä½ çš„å¤´åƒå›¾ç‰‡æ”¾ç½®åœ¨ ä¸»é¢˜çš„ <code>source/images/</code> ç›®å½•ä¸‹ã€‚</p>
<p>åœ¨æ ¹ç›®å½•ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi themes/next/_config.yml</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°å¹¶æ‰“å¼€<code>avatar: /images/avatar.jpg</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Sidebar Avatar</span><br><span class="line"># in theme directory(source/images): /images/avatar.gif</span><br><span class="line"># in site  directory(source/uploads): /uploads/avatar.gif</span><br><span class="line">avatar: /images/avatar.jpg</span><br></pre></td></tr></table></figure>

<h3 id="å››-æ–‡ç« æˆªæ–­"><a href="#å››-æ–‡ç« æˆªæ–­" class="headerlink" title="å›› æ–‡ç« æˆªæ–­"></a>å›› æ–‡ç« æˆªæ–­</h3><p>åœ¨<code>themes/next/_config.yml</code>ä¸‹å¼€å¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">auto_excerpt:</span><br><span class="line">  enable: true</span><br><span class="line">  length: 150</span><br></pre></td></tr></table></figure>

<h3 id="äº”-æ·»åŠ æ–‡ç« é˜…è¯»æ¬¡æ•°"><a href="#äº”-æ·»åŠ æ–‡ç« é˜…è¯»æ¬¡æ•°" class="headerlink" title="äº” æ·»åŠ æ–‡ç« é˜…è¯»æ¬¡æ•°"></a>äº” æ·»åŠ æ–‡ç« é˜…è¯»æ¬¡æ•°</h3><p>è¯¦ç»†è¯·æŸ¥çœ‹ï¼š<a href="https://github.com/theme-next/hexo-theme-next/blob/master/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md" target="_blank" rel="noopener">æ·»åŠ æ–‡ç« é˜…è¯»æ¬¡æ•°</a> ï¼Œè‹¥è®¿é—®å‡ºç°é—®é¢˜ï¼ŒæŸ¥çœ‹ï¼š<a href="https://leaferx.online/2018/02/11/lc-security/" target="_blank" rel="noopener">Leancloudè®¿å®¢ç»Ÿè®¡æ’ä»¶é‡å¤§å®‰å…¨æ¼æ´ä¿®å¤æŒ‡å—</a>ã€‚</p>
<blockquote>
<p>æç¤ºï¼šåœ¨éƒ¨ç½²æ’ä»¶è¿‡ç¨‹ä¸­æˆ–åœ¨<a href="https://www.leancloud.cn/" target="_blank" rel="noopener">leancloudå®˜ç½‘</a>æ³¨å†Œçš„æ—¶å€™ï¼Œè¦æŠŠè´¦å·å¯†ç è®°ä¸‹æ¥ï¼Œæ¯”å¦‚æˆ‘å°±æ˜¯æ”¾åœ¨æ‰‹æœºçš„å¤‡å¿˜å½•ä¸­ï¼Œä¸ç„¶åæœŸéƒ¨ç½²å¯èƒ½ä¼šæœ‰éº»çƒ¦ã€‚</p>
</blockquote>
<h3 id="äº”-æ·»åŠ æœ¬åœ°æœç´¢"><a href="#äº”-æ·»åŠ æœ¬åœ°æœç´¢" class="headerlink" title="äº” æ·»åŠ æœ¬åœ°æœç´¢"></a>äº” æ·»åŠ æœ¬åœ°æœç´¢</h3><p>æ·»åŠ ç™¾åº¦/è°·æ­Œ/æœ¬åœ° è‡ªå®šä¹‰ç«™ç‚¹å†…å®¹æœç´¢</p>
<ul>
<li>å®‰è£… <code>hexo-generator-searchdb</code>ï¼Œåœ¨ç«™ç‚¹çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<ul>
<li>ç¼–è¾‘ <code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code>ï¼Œæ–°å¢ä»¥ä¸‹å†…å®¹åˆ°ä»»æ„ä½ç½®ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure>

<ul>
<li>ç¼–è¾‘ <code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code>ï¼Œå¯ç”¨æœ¬åœ°æœç´¢åŠŸèƒ½ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Local search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<p>æ›´å¤šå¯ä»¥æŸ¥çœ‹ï¼š<a href="http://theme-next.iissnan.com/third-party-services.html#share-system" target="_blank" rel="noopener">ç¬¬ä¸‰æ–¹æœåŠ¡</a></p>
<p>æœ¬æ–‡å·²æ¶‰åŠæˆ–æœªæ¶‰åŠçš„é…ç½®è¯¦æƒ…å¯è§ï¼š<a href="https://github.com/iissnan/hexo-theme-next/wiki" target="_blank" rel="noopener">hexo-theme-nextä¸»é¢˜åœ¨githubçš„ä½¿ç”¨é…ç½®æ–‡æ¡£è¯´æ˜</a></p>
]]></content>
      <categories>
        <category>Hexos</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>hello-world</title>
    <url>/2019/09/23/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
      <categories>
        <category>Hexos</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Jenkins + Fastlane + è’²å…¬è‹± + iOS + Androidæ‰“åŒ…</title>
    <url>/2019/09/23/Jenkins-Fastlane-%E8%92%B2%E5%85%AC%E8%8B%B1-iOS-Android%E6%89%93%E5%8C%85/</url>
    <content><![CDATA[<h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€ å‰è¨€"></a>ä¸€ å‰è¨€</h2><p>æœ¬æ•™ç¨‹ç»“åˆ<code>Jenkins</code>ã€<code>Fastlane</code>å’Œ<code>è’²å…¬è‹±</code>å¯¹<code>iOS</code>å’Œ<code>Android</code>å®ç°è‡ªåŠ¨åŒ–æ‰“åŒ…å¹¶ä¸Šä¼ è’²å…¬è‹±ï¼Œè¯¦ç»†è¯´æ˜äº†æ‰“åŒ…çš„<code>jenkinsé…ç½®</code>ã€<code>fastlaneè„šæœ¬é…ç½®</code>å¹¶ä¸Šä¼ åˆ°è’²å…¬è‹±ã€‚ç„¶è€Œï¼Œé’ˆå¯¹å®‰è£…<code>jenkins</code>å¹¶æ²¡æœ‰è¯¦ç»†çš„å¤§é‡ç¯‡å¹…è¯´æ˜ï¼Œè‹¥å®‰è£…<code>jenkins</code>å‡ºç°é—®é¢˜ï¼Œå¯è‡ªè¡Œ<code>Google</code>æˆ–<code>å»å®˜æ–¹ç½‘ç«™</code>æŸ¥è¯¢ï¼Œèµ„æ–™å¾ˆå¤šï¼Œè¿™é‡Œå¹¶ä¸ä¸€ä¸€åˆ—ä¸¾ã€‚</p>
<h2 id="äºŒ-ç¯å¢ƒ"><a href="#äºŒ-ç¯å¢ƒ" class="headerlink" title="äºŒ ç¯å¢ƒ"></a>äºŒ ç¯å¢ƒ</h2><p>æœ¬æ–‡ä¸»è¦é’ˆå¯¹<code>React Native</code>é¡¹ç›®å¯¹<code>iOS</code>å’Œ<code>Android</code>è¿›è¡Œæ‰“åŒ…ï¼Œç¬”è€…ä¹Ÿäº²è‡ªå®è·µè¿‡åŸç”Ÿé¡¹ç›®çš„æ‰“åŒ…ï¼Œé™¤äº†è·¯å¾„ä¸ä¸€æ ·ï¼Œå…¶ä½™éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p>
<p>ç¯å¢ƒå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">React Native Environment Info:</span><br><span class="line">    System:</span><br><span class="line">      OS: macOS 10.14.5</span><br><span class="line">      CPU: (4) x64 Intel(R) Core(TM) i3-8100B CPU @ 3.60GHz</span><br><span class="line">      Memory: 166.11 MB / 8.00 GB</span><br><span class="line">      Shell: 5.3 - /bin/zsh</span><br><span class="line">    Binaries:</span><br><span class="line">      Node: 11.5.0 - /usr/local/bin/node</span><br><span class="line">      Yarn: 1.17.3 - ~/.yarn/bin/yarn</span><br><span class="line">      npm: 6.4.1 - /usr/local/bin/npm</span><br><span class="line">      Watchman: 4.9.0 - /usr/local/bin/watchman</span><br><span class="line">    SDKs:</span><br><span class="line">      iOS SDK:</span><br><span class="line">        Platforms: iOS 12.2, macOS 10.14, tvOS 12.2, watchOS 5.2</span><br><span class="line">      Android SDK:</span><br><span class="line">        API Levels: 23, 26, 27, 28</span><br><span class="line">        Build Tools: 23.0.1, 26.0.1, 27.0.3, 28.0.2, 28.0.3</span><br><span class="line">        System Images: android-23 | Intel x86 Atom_64, android-23 | Google APIs Intel x86 Atom, android-23 | Google APIs Intel x86 Atom_64, android-27 | Intel x86 Atom_64, android-27 | Google APIs Intel x86 Atom, android-27 | Google Play Intel x86 Atom</span><br><span class="line">    IDEs:</span><br><span class="line">      Android Studio: 3.3 AI-182.5107.16.33.5314842</span><br><span class="line">      Xcode: 10.2.1/10E1001 - /usr/bin/xcodebuild</span><br><span class="line">    npmPackages:</span><br><span class="line">      react: ^16.6.0-alpha.8af6728 =&gt; 16.6.0-alpha.8af6728</span><br><span class="line">      react-native: 0.57.4 =&gt; 0.57.4</span><br><span class="line">    npmGlobalPackages:</span><br><span class="line">      react-native-cli: 2.0.1</span><br><span class="line">      react-native-update-cli: 0.1.0</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰-å®‰è£…"><a href="#ä¸‰-å®‰è£…" class="headerlink" title="ä¸‰ å®‰è£…"></a>ä¸‰ å®‰è£…</h2><h4 id="3-1-å®‰è£…Jenkins"><a href="#3-1-å®‰è£…Jenkins" class="headerlink" title="3.1 å®‰è£…Jenkins"></a>3.1 å®‰è£…<code>Jenkins</code></h4><ul>
<li>3.1.1 å‡çº§ruby</li>
</ul>
<blockquote>
<p>ç”±äº<code>fastlane</code>ä¾èµ–<code>rubyç¯å¢ƒ</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>Mac</code>ä¸‹å¾—<code>ruby</code>æˆ–è€…ç‰ˆæœ¬æ¯”è¾ƒä½ï¼Œè¿™å–å†³äºä½ çš„ç³»ç»Ÿï¼Œä½†æ˜¯å»ºè®®å¯¹å…¶è¿›è¡Œå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œä»¥å…åç»­å‡ºé”™ã€‚</p>
</blockquote>
<p><em>3.1.1.1 æŸ¥çœ‹å½“å‰<code>ruby</code>ç‰ˆæœ¬ï¼š</em></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ruby -v</span><br></pre></td></tr></table></figure>

<p><em>3.1.1.2 å®‰è£…<code>rvm</code>(Ruby Version Manager)</em></p>
<p><strong>æ³¨ï¼š</strong><a href="https://docs.fastlane.tools/best-practices/continuous-integration/jenkins/" target="_blank" rel="noopener">fastlaneå®˜æ–¹å»ºè®®</a>ä½¿ç”¨<a href="https://github.com/rbenv/rbenv" target="_blank" rel="noopener">rbenv</a>æ¥å®‰è£…å’Œç®¡ç†<code>ruby</code>ã€‚äº‹å®ä¸Šï¼Œä½¿ç”¨<code>rvm</code>å·²ç»è¶³å¤Ÿï¼Œå–å†³äºä¸ªäººçš„é€‰æ‹©ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">\curl -sSL https://get.rvm.io | bash -s stable --ruby</span><br></pre></td></tr></table></figure>

<p><em>3.1.1.3 é€€å‡ºç»ˆç«¯ï¼Œé‡æ–°æ‰“å¼€ï¼ŒæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</em></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rvm -v</span><br></pre></td></tr></table></figure>

<p><em>3.1.1.4 åˆ—ä¸¾å‡ºrubyæ‰€æœ‰ç‰ˆæœ¬</em> </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rvm list known</span><br></pre></td></tr></table></figure>

<p><em>3.1.1.5 å‡çº§ruby</em></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rvm install ç‰ˆæœ¬å· // æ³¨æ„ï¼šè¿™ä¸ªç‰ˆæœ¬å·æ˜¯ä½ åˆšæ‰åˆ—ä¸¾å‡ºæ¥çš„rubyæ‰€æœ‰ç‰ˆæœ¬å·ä¹‹ä¸€ï¼Œä¸€èˆ¬é€‰æ‹©æœ€æ–°çš„å³å¯</span><br></pre></td></tr></table></figure>

<ul>
<li>3.1.2 å®‰è£…<code>Jenkins</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew update &amp;&amp; brew install jenkins</span><br></pre></td></tr></table></figure>

<p>è‹¥é‡åˆ°é—®é¢˜ï¼Œè¯·æŸ¥çœ‹<a href="https://jenkins.io/zh/doc/book/installing/" target="_blank" rel="noopener">Jenkinså®˜ç½‘</a> æˆ– è‡ªè¡Œ<code>Google</code>ã€‚</p>
<blockquote>
<p>æ³¨ï¼šä¸æ¨èç›´æ¥ä¸‹è½½<code>pkg</code>åŒ…ç›´æ¥å®‰è£…ã€‚</p>
</blockquote>
<h4 id="3-2-å®‰è£…xcodeæ‰“åŒ…æ‰€éœ€å‘½ä»¤è¡Œå·¥å…·"><a href="#3-2-å®‰è£…xcodeæ‰“åŒ…æ‰€éœ€å‘½ä»¤è¡Œå·¥å…·" class="headerlink" title="3.2 å®‰è£…xcodeæ‰“åŒ…æ‰€éœ€å‘½ä»¤è¡Œå·¥å…·"></a>3.2 å®‰è£…<code>xcode</code>æ‰“åŒ…æ‰€éœ€å‘½ä»¤è¡Œå·¥å…·</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure>

<h4 id="3-3-å®‰è£…fastlane"><a href="#3-3-å®‰è£…fastlane" class="headerlink" title="3.3 å®‰è£…fastlane"></a>3.3 å®‰è£…<code>fastlane</code></h4><ul>
<li>æ–¹å¼ä¸€ï¼Œä½¿ç”¨<code>Homebrew</code>å®‰è£…</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew cask install fastlane</span><br></pre></td></tr></table></figure>

<ul>
<li>æ–¹å¼äºŒï¼Œ ä½¿ç”¨<code>RubyGems</code>å®‰è£…</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gem install fastlane -NV</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯¹äºæ–¹å¼äºŒï¼Œè‹¥é‡åˆ°æ— æ‰§è¡Œæƒé™ï¼Œå¯å°è¯•ï¼š<code>sudo gem install fastlane -NV</code>ã€‚</p>
</blockquote>
<h4 id="3-4-è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#3-4-è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="3.4 è®¾ç½®ç¯å¢ƒå˜é‡"></a>3.4 è®¾ç½®ç¯å¢ƒå˜é‡</h4><p>å°†ä¸€ä¸‹å‘½ä»¤æ·»åŠ åˆ°ä½ çš„<code>~/.bashrc</code>, <code>~/.bash_profile</code>, <code>~/.profile</code> æˆ–è€… <code>~/.zshrc</code>ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export LC_ALL=en_US.UTF-8</span><br><span class="line">export LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨ï¼šæ·»åŠ çš„ç›®çš„æ˜¯ä¿è¯<code>fastlane</code>èƒ½å¤Ÿåœ¨<code>utf-8</code>ç¼–ç ç¯å¢ƒä¸‹æ‰§è¡Œï¼Œå¦åˆ™åœ¨æœªè®¾ç½®<code>utf-8</code>ä¸ºé»˜è®¤ç¼–ç çš„ç³»ç»Ÿä¸Šï¼Œ<code>fastlane</code>è¿è¡Œå¯èƒ½ä¼šå‡ºç°é”™è¯¯âŒã€‚</p>
</blockquote>
<p>æ¥ç€ä½¿å…¶ç”Ÿæ•ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨ï¼šå¦‚æœä½ æ˜¯æ·»åŠ åˆ°<code>~/.bashrc</code>ä¸­ï¼Œå°±ä½¿ç”¨<code>source ~/.bashrc</code>; è‹¥ä½ æ˜¯æ·»åŠ åˆ°<code>~/.bash_profile</code>ä¸­ï¼Œå°±ä½¿ç”¨<code>source ~/.bash_profile</code>ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
</blockquote>
<h2 id="å››-åˆå§‹åŒ–"><a href="#å››-åˆå§‹åŒ–" class="headerlink" title="å›› åˆå§‹åŒ–"></a>å›› åˆå§‹åŒ–</h2><h4 id="4-1-ä½¿ç”¨Gemfile-å¯é€‰ï¼Œä½†æ˜¯å»ºè®®å®‰è£…"><a href="#4-1-ä½¿ç”¨Gemfile-å¯é€‰ï¼Œä½†æ˜¯å»ºè®®å®‰è£…" class="headerlink" title="4.1 ä½¿ç”¨Gemfile(å¯é€‰ï¼Œä½†æ˜¯å»ºè®®å®‰è£…)"></a>4.1 ä½¿ç”¨<code>Gemfile</code>(å¯é€‰ï¼Œä½†æ˜¯å»ºè®®å®‰è£…)</h4><blockquote>
<p>æ³¨ï¼šè¿™åªæ˜¯<code>fastlane</code>å®˜æ–¹æ¨èï¼ŒåŸå› å¦‚æœæˆ‘ä»¬ä½¿ç”¨<code>Gemfile</code>æ–‡ä»¶çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥å®šä¹‰<code>fastlane</code>çš„ç›¸å…³ä¾èµ–ï¼Œå…¶æ¬¡è¿™ä¹Ÿå¯ä»¥è®©æˆ‘ä»¬ç°åœ¨æ‰€ä½¿ç”¨åˆ°çš„<code>fastlane</code>ç‰ˆæœ¬ä¸€ç›®äº†ç„¶ï¼Œå¹¶ä¸”è¿˜å¯ä»¥åŠ å¿«<code>fastlane</code>å‘½ä»¤çš„æ‰§è¡Œï¼Œè¿™<strong>ä¸æ˜¯å¿…é¡»çš„æ­¥éª¤ï¼ï¼ï¼</strong></p>
</blockquote>
<ul>
<li>4.1.1 åœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸‹ï¼ˆxxx.xcodeprojæ‰€åœ¨ç›®å½•ï¼‰åˆ›å»º<code>Gemfile</code></li>
</ul>
<blockquote>
<p>ï¼ˆä¸€èˆ¬æ˜¯æ ¹ç›®å½•ï¼Œå¦‚æœæ˜¯<code>React Native</code>é¡¹ç›®ï¼Œåˆ™åœ¨<code>ios</code>ç›®å½•ä¸‹ï¼Œ <code>Android</code>çš„è¯è¿›å…¥<code>.../android</code>ç›®å½•ä¸‹ï¼Œ <code>Android</code>æ²¡æœ‰<code>scheme.xcodeproj</code>ï¼‰</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">touch Gemfile</span><br></pre></td></tr></table></figure>

<ul>
<li>4.1.2 å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°åˆšæ‰åˆ›å»ºçš„<code>Gemfile</code>æ–‡ä»¶ä¸­</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source &quot;https://rubygems.org&quot;</span><br><span class="line"></span><br><span class="line">gem &quot;fastlane&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>4.1.3 å®‰è£…<code>bundle</code>å‘½ä»¤</li>
</ul>
<p>è¯·ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">bundle install</span><br><span class="line"></span><br><span class="line">bundle update</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨1ï¼šå¦‚æœä»¥ä¸Šæ‰§è¡Œæ²¡æœ‰æƒé™ï¼Œè¯·åœ¨å‰é¢æ·»åŠ  <code>sudo</code> å‘½ä»¤ã€‚ä»¥ä¸Šä¼šç”Ÿæˆ <code>Gemfile</code> å’Œ <code>Gemfile.lock</code> æ–‡ä»¶ï¼Œå¯ä»¥æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ<code>git</code>ä¸­ã€‚</p>
</blockquote>
<blockquote>
<p>æ³¨2ï¼šåé¢æ‰§è¡Œ<code>fastlane</code>å‘½ä»¤çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <code>bundle exec fastlane [lane]</code>ï¼Œ åé¢çš„ <code>[lane]</code> ä»£è¡¨ä½ åœ¨<code>Fastfile</code>æ–‡ä»¶é‡Œé¢é…ç½®çš„<code>laneé¡¹</code>ï¼Œæ¯”å¦‚ï¼š<code>bundle exec fastlane topgyer</code>å‘½ä»¤ä¸­çš„<code>toppgyer</code>ã€‚</p>
</blockquote>
<blockquote>
<p>æ³¨3: å¦‚æœè¦æ›´æ–°<code>fastlane</code>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨: <code>[sudo] bundle update fastlane</code>å‘½ä»¤ã€‚</p>
</blockquote>
<h4 id="4-2-åˆå§‹åŒ–fastlane"><a href="#4-2-åˆå§‹åŒ–fastlane" class="headerlink" title="4.2 åˆå§‹åŒ–fastlane"></a>4.2 åˆå§‹åŒ–<code>fastlane</code></h4><blockquote>
<p><code>cd</code>åˆ° <code>scheme.xcodeproj</code>æ‰€åœ¨ç›®å½•ï¼ˆä¸€èˆ¬æ˜¯æ ¹ç›®å½•ï¼Œå¦‚æœæ˜¯<code>React Native</code>é¡¹ç›®ï¼Œåˆ™åœ¨<code>ios</code>ç›®å½•ä¸‹ï¼Œ <code>Android</code>çš„è¯è¿›å…¥<code>.../android</code>ç›®å½•ä¸‹ï¼Œ <code>Android</code>æ²¡æœ‰<code>scheme.xcodeproj</code>ï¼‰</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fastlane init</span><br></pre></td></tr></table></figure>

<p>å‡ºç°ï¼š<code>What would you like to use fastlane for?</code></p>
<p>ç­”ï¼š4</p>
<blockquote>
<p>æ ¹æ®æç¤ºé€‰æ‹©ç›¸åº”çš„æç¤ºé¡¹ï¼Œä¸€è·¯å¾€ä¸‹èµ°å³å¯ã€‚</p>
</blockquote>
<h2 id="äº”-æ·»åŠ æ’ä»¶"><a href="#äº”-æ·»åŠ æ’ä»¶" class="headerlink" title="äº” æ·»åŠ æ’ä»¶"></a>äº” æ·»åŠ æ’ä»¶</h2><p>è¿™é‡Œæˆ‘ä»¬æ·»åŠ çš„æ˜¯<code>è’²å…¬è‹±</code>æ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fastlane add_plugin pgyer</span><br></pre></td></tr></table></figure>

<h2 id="å…­-ä¿®æ”¹é…ç½®"><a href="#å…­-ä¿®æ”¹é…ç½®" class="headerlink" title="å…­ ä¿®æ”¹é…ç½®"></a>å…­ ä¿®æ”¹é…ç½®</h2><h4 id="6-1-iOS"><a href="#6-1-iOS" class="headerlink" title="6.1 iOS"></a>6.1 iOS</h4><p><code>cd</code>åˆ°<code>ios/fastlane</code>ç›®å½•ä¸‹ï¼Œä¿®æ”¹<code>Fastfile</code>æ–‡ä»¶ï¼Œæ›¿æ¢æ‰€æœ‰å†…å®¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ‰“åŒ…å¹³å°</span><br><span class="line">default_platform(:ios)</span><br><span class="line"></span><br><span class="line">platform :ios do</span><br><span class="line">desc &quot;ä¸Šä¼ ad-hocçš„ipaåŒ…åˆ°è’²å…¬è‹±å¹³å°&quot; </span><br><span class="line"></span><br><span class="line">  lane :UploadToPgyer do|option|</span><br><span class="line">    # è‡ªåŠ¨å¢åŠ Build</span><br><span class="line">    increment_build_number</span><br><span class="line">    </span><br><span class="line">    # â£ï¸ç¼–è¯‘çš„schemeï¼Œä¹Ÿå°±æ˜¯ â€œxxx.xcodeprojâ€ ä¸­çš„ â€œxxxâ€(å¿…é¡»ä¸€è‡´ï¼ï¼ï¼)</span><br><span class="line">    scheme_name = &quot;å·¥ç¨‹å&quot;</span><br><span class="line"></span><br><span class="line">    # è·å–é¡¹ç›®ä¸­çš„ Version å’Œ Build</span><br><span class="line">    version = get_info_plist_value(path: &quot;./#&#123;scheme_name&#125;/Info.plist&quot;, key: &quot;CFBundleShortVersionString&quot;)</span><br><span class="line">    build = get_info_plist_value(path: &quot;./#&#123;scheme_name&#125;/Info.plist&quot;, key: &quot;CFBundleVersion&quot;)</span><br><span class="line">    </span><br><span class="line">    # å¯¼å‡ºipaåŒ…è·¯å¾„ï¼ˆè¿™é‡Œæ”¾åœ¨å½“å‰æ‰€åœ¨çš„buildç›®å½•ä¸‹ï¼Œæ‰“åŒ…æˆåŠŸåï¼ŒipaåŒ…å°±å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å“¦ï¼‰</span><br><span class="line">    output_directory = &quot;./build&quot;</span><br><span class="line">    </span><br><span class="line">    # å¯¼å‡ºipaçš„åç§°ï¼šä¾‹å¦‚ï¼ˆwanke_1.0.0_5_20190910111549.ipaï¼‰ï¼Œä¹Ÿå¯ä»¥å†™æ­»ï¼Œè¿™æ˜¯çµæ´»çš„ï¼Œå–å†³äºä½ çš„éœ€è¦ã€‚</span><br><span class="line">    # â‘  wankeï¼šè¿™æ˜¯ä½ çš„å·¥ç¨‹åï¼›1.0.0ï¼šè¿™æ˜¯ä½ çš„ç‰ˆæœ¬å·ï¼ˆå–å†³äºä½ åœ¨xcodeä¸­çš„è®¾ç½®ï¼‰</span><br><span class="line">    # â‘¡ 20190910111549ï¼šè¿™æ˜¯è¯¦ç»†æ—¶é—´ï¼Œå½¢å¼ä¸ºï¼šå¹´-æœˆ-æ—¥-å°æ—¶-åˆ†é’Ÿ-ç§’ã€‚ä»£è¡¨çš„æ˜¯ä½ æœ¬æ¬¡æ‰“åŒ…çš„æ—¶é—´ã€‚</span><br><span class="line">    output_name = &quot;#&#123;scheme_name&#125;_#&#123;version&#125;_#&#123;build&#125;_#&#123;Time.now.strftime(&apos;%Y%m%d%H%M%S&apos;)&#125;.ipa&quot;</span><br><span class="line"></span><br><span class="line">    # æ‰“åŒ…æ—¶è¾“å‡ºæç¤ºï¼Œå¯éšä¾¿ä¿®æ”¹ï¼Œæˆ–è€…ä¸è¦éƒ½è¡Œ</span><br><span class="line">    puts &quot;-----å¼€å§‹æ‰“åŒ…-----&quot;</span><br><span class="line">    </span><br><span class="line">    gym(</span><br><span class="line">      export_method: &quot;ad-hoc&quot;,  # å¯¼å‡ºæ–¹å¼ï¼šad-hocï¼ˆæµ‹è¯•åŒ…ï¼‰ã€app-storeï¼ˆä¸Šä¼ åˆ°App StoreåŒ…ï¼‰ã€enterpriseï¼ˆä¼ä¸šæµ‹è¯•åŒ…ï¼‰</span><br><span class="line">      export_xcargs: &quot;-allowProvisioningUpdates&quot;,</span><br><span class="line">      export_options:&#123;</span><br><span class="line">         provisioningProfiles: &#123;</span><br><span class="line">            &quot;cn.com.kkk&quot; =&gt; &quot;iPhone Distribution: kkk. (77777XXRRR)&quot;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      scheme: scheme_name,</span><br><span class="line">      clean: true, # æ¯æ¬¡æ‰“åŒ…éƒ½æ¸…ç©ºä¸Šä¸€æ¬¡çš„ç¼–è¯‘ä¿¡æ¯</span><br><span class="line">      output_directory: output_directory,</span><br><span class="line">      output_name: output_name</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    # æ‰“åŒ…æ—¶è¾“å‡ºæç¤ºï¼Œå¯éšä¾¿ä¿®æ”¹ï¼Œæˆ–è€…ä¸è¦éƒ½è¡Œ</span><br><span class="line">    puts &quot;-----å¼€å§‹ä¸Šä¼ åˆ°è’²å…¬è‹±å¹³å°-----&quot;</span><br><span class="line">    </span><br><span class="line">    # â£ï¸è’²å…¬è‹±å¹³å°çš„ API Key å’Œ User Keyï¼ˆç›´æ¥å¤åˆ¶è¿‡æ¥å³å¯ï¼‰</span><br><span class="line">    pgyer(api_key: &quot;è’²å…¬è‹±API Key&quot;, user_key: &quot;è’²å…¬è‹±User Key&quot;)</span><br><span class="line">  end</span><br><span class="line"></span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<blockquote>
<p>iOSæ³¨æ„ï¼š<code>Fastfile</code>æ–‡ä»¶ä¸­åŠ â£ï¸çš„åœ°æ–¹ä¸ºå¿…å¡«é¡¹ï¼Œå…¶ä»–åœ°æ–¹åŸºæœ¬ä¸ç”¨æ”¹åŠ¨å³å¯ç›´æ¥æ‰“åŒ…ï¼Œå¦‚æœæƒ³è‡ªå·±æ”¹åŠ¨æˆ–æ·»åŠ å…¶ä»–å‚æ•°ä¹Ÿå¯ä»¥ï¼Œè‡ªè¡Œ<code>Google</code>æˆ–å»å®˜æ–¹æŸ¥çœ‹å‘½ä»¤ï¼ï¼ï¼</p>
</blockquote>
<h4 id="6-2-Android"><a href="#6-2-Android" class="headerlink" title="6.2 Android"></a>6.2 Android</h4><p><code>cd</code>åˆ°<code>anddroid/fastlane</code>ç›®å½•ä¸‹ï¼Œä¿®æ”¹<code>Fastfile</code>æ–‡ä»¶ï¼Œæ›¿æ¢æ‰€æœ‰å†…å®¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">default_platform(:android)</span><br><span class="line"></span><br><span class="line">platform :android do</span><br><span class="line">  desc &quot;ä¸Šä¼ androidçš„apkåŒ…åˆ°è’²å…¬è‹±å¹³å°&quot;</span><br><span class="line">  lane :UploadToPgyer do</span><br><span class="line">     gradle(task: &apos;clean&apos;)</span><br><span class="line">     gradle(task: &quot;assembleRelease&quot;)</span><br><span class="line">    # â£ï¸è’²å…¬è‹±å¹³å°çš„ API Key å’Œ User Keyï¼ˆç›´æ¥å¤åˆ¶è¿‡æ¥å³å¯ï¼‰</span><br><span class="line">    pgyer(api_key: &quot;è’²å…¬è‹±API Key&quot;, user_key: &quot;è’²å…¬è‹±User Key&quot;)</span><br><span class="line">  end</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Androidæ³¨æ„ï¼š<code>Fastfile</code>æ–‡ä»¶ä¸­åŠ â£ï¸çš„åœ°æ–¹ä¸ºå¿…å¡«é¡¹ï¼Œå…¶ä»–åœ°æ–¹åŸºæœ¬ä¸ç”¨æ”¹åŠ¨å³å¯ç›´æ¥æ‰“åŒ…ï¼Œå¦‚æœæƒ³è‡ªå·±æ”¹åŠ¨æˆ–æ·»åŠ å…¶ä»–å‚æ•°ä¹Ÿå¯ä»¥ï¼Œè‡ªè¡Œ<code>Google</code>æˆ–å»å®˜æ–¹æŸ¥çœ‹å‘½ä»¤ï¼ï¼ï¼</p>
</blockquote>
<h2 id="ä¸ƒ-æ‰“åŒ…ä¸Šä¼ "><a href="#ä¸ƒ-æ‰“åŒ…ä¸Šä¼ " class="headerlink" title="ä¸ƒ æ‰“åŒ…ä¸Šä¼ "></a>ä¸ƒ æ‰“åŒ…ä¸Šä¼ </h2><h4 id="7-1-æœ¬åœ°ç›´æ¥æ‰“åŒ…"><a href="#7-1-æœ¬åœ°ç›´æ¥æ‰“åŒ…" class="headerlink" title="7.1 æœ¬åœ°ç›´æ¥æ‰“åŒ…"></a>7.1 æœ¬åœ°ç›´æ¥æ‰“åŒ…</h4><blockquote>
<p>ï¼ˆä¸€èˆ¬æ˜¯æ ¹ç›®å½•ï¼Œå¦‚æœæ˜¯<code>React Native</code>é¡¹ç›®ï¼Œåˆ™åœ¨<code>ios</code>ç›®å½•ä¸‹ï¼Œ <code>Android</code>çš„è¯è¿›å…¥<code>.../android</code>ç›®å½•ä¸‹ï¼Œ <code>Android</code>æ²¡æœ‰<code>scheme.xcodeproj</code>ï¼‰</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fastlane UploadToPgyer</span><br></pre></td></tr></table></figure>

<h4 id="7-2-ä½¿ç”¨Jenkinsæ‰“åŒ…"><a href="#7-2-ä½¿ç”¨Jenkinsæ‰“åŒ…" class="headerlink" title="7.2 ä½¿ç”¨Jenkinsæ‰“åŒ…"></a>7.2 ä½¿ç”¨<code>Jenkins</code>æ‰“åŒ…</h4><blockquote>
<p>è¯´æ˜ï¼šåœ¨ä½¿ç”¨<code>Jenkins</code>æ‰“åŒ…ä¹‹å‰ï¼Œè¯·å…ˆå°è¯•<code>7.1</code>èƒ½å¤Ÿåœ¨æœ¬åœ°æ‰“åŒ…æˆåŠŸï¼Œå› ä¸º<code>Jenkins</code>åªæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæœ€ç»ˆæ‰§è¡Œè¿˜æ˜¯æœ¬åœ°<code>fastfile</code>æ–‡ä»¶ä¸­çš„è„šæœ¬ï¼Œè‹¥æœ¬åœ°æ‰“åŒ…å¤±è´¥ï¼Œæ„å‘³ç€ä½ åœ¨<code>jenkins</code>ä¸Šé…ç½®å‡ºæ¥æ‰“åŒ…å¿…ç„¶å¤±è´¥ã€‚</p>
</blockquote>
<p><code>jenkins</code>å®‰è£…å¥½åï¼Œé…ç½®ä»¥åŠåˆ›å»ºé¡¹ç›®è¿™é‡Œå°±ç›´æ¥å¿½ç•¥ï¼Œæœ‰é—®é¢˜è‡ªè¡Œ<code>Google</code>ã€‚æ¥ä¸‹æ¥ç›´æ¥è¿›å…¥é…ç½®é¡¹ã€‚</p>
<ul>
<li><strong>7.2.1 <code>general</code></strong></li>
</ul>
<p><img src="https://i.loli.net/2019/09/12/d6vytZ87IHOgPVw.png" alt="1241568256881_.pic_å¥½çš„.jpg"></p>
<ul>
<li><strong>7.2.2 æºç ç®¡ç†</strong></li>
</ul>
<p><img src="https://i.loli.net/2019/09/11/C6JfdemONPYoRHA.png" alt="496131568186987_.pic_å¥½çš„.jpg"></p>
<ul>
<li><p><strong>7.2.3 æ„å»ºè§¦å‘å™¨ï¼ˆä¸éœ€è¦ï¼Œå¯è·³è¿‡ï¼‰</strong></p>
</li>
<li><p><strong>7.2.4 æ„å»ºç¯å¢ƒ</strong></p>
</li>
</ul>
<p><img src="https://i.loli.net/2019/09/11/eKa54XmDkqhGrxM.png" alt="496141568187214_.pic.jpg"></p>
<ul>
<li><strong>7.2.5 æ„å»º</strong></li>
</ul>
<p><img src="https://i.loli.net/2019/09/12/28EUzOMVWySrqQu.png" alt="1251568258617_.pic_å¥½çš„.jpg"></p>
<p><code>shellè„šæœ¬</code>å¦‚ä¸‹ï¼ˆå¯ç›´æ¥å¤åˆ¶ç²˜è´´ä½¿ç”¨ï¼Œéœ€è¦ä¿®æ”¹çš„åœ°æ–¹ä»¥ä¸‹æœ‰è¯´æ˜ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"># ä½¿ç¯å¢ƒå˜é‡é…ç½®ç”Ÿæ•ˆ</span><br><span class="line">source ~/.bash_profile</span><br><span class="line">case $Platform in</span><br><span class="line">    iOS)</span><br><span class="line">         echo &quot;â£ï¸å¼€å§‹iOSæ‰“åŒ…ï¼ŒæˆåŠŸåè‡ªåŠ¨ä¸Šä¼ åˆ°è’²å…¬è‹±&quot;</span><br><span class="line">         # è§£é”Macä¸Šçš„é’¥åŒ™ä¸²ï¼ˆ123456789æ˜¯ä½ è‡ªå·±çš„å¼€æœºå¯†ç ï¼‰ï¼ŒLiuDeHuaæ˜¯ä½ è‡ªå·±çš„ç”¨æˆ·åï¼Œå¯ç”¨pwdå‘½ä»¤æŸ¥çœ‹</span><br><span class="line">		 security unlock-keychain -p 123456789 /Users/LiuDeHua/Library/Keychains/login.keychain</span><br><span class="line">		 # è¿™ä¸ªç›®å½•å°±æ˜¯jenkinsæ‹‰å–çš„å·¥ç¨‹æ‰€åœ¨çš„ç›®å½•ï¼Œåªæœ‰è¿™ä¸ªç›®å½•ä¸‹å¯ä»¥æ‰“åŒ…</span><br><span class="line">		 cd /Users/LiuDeHua/jenkins/workspace/CIProject/JenkinsDemo/ios</span><br><span class="line">		 # è¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†ç§»é™¤ä¸Šä¸€æ¬¡æ‰“çš„ipaåŒ…ï¼Œç•™ç€æ²¡ç”¨ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä¿ç•™   </span><br><span class="line">		 #ï¼ˆæ³¨ï¼šç”±äºæˆ‘åœ¨Fastlaneæ–‡ä»¶å¯¼å‡ºçš„åŒ…åä¸æ‰“åŒ…æ—¶é—´ç›¸å…³ï¼Œæ¯æ¬¡éƒ½ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æ¯æ‰“ä¸€æ¬¡å°±ä¼šä¸æ–­å¢åŠ ipaåŒ…ï¼‰     </span><br><span class="line">		 rm -rf /Users/LiuDeHua/jenkins/workspace/CIProject/JenkinsDemo/ios/build</span><br><span class="line">    ;;</span><br><span class="line">    Android)</span><br><span class="line">         echo &quot;â£ï¸å¼€å§‹Androidæ‰“åŒ…ï¼ŒæˆåŠŸåè‡ªåŠ¨ä¸Šä¼ åˆ°è’²å…¬è‹±&quot;</span><br><span class="line">         # è¿™ä¸ªç›®å½•å°±æ˜¯jenkinsæ‹‰å–çš„å·¥ç¨‹æ‰€åœ¨çš„ç›®å½•ï¼Œåªæœ‰è¿™ä¸ªç›®å½•ä¸‹å¯ä»¥æ‰“åŒ…</span><br><span class="line">		 cd /Users/langke/jenkins/workspace/CIProject/JenkinsDemo/android</span><br><span class="line">    ;;</span><br><span class="line">    *)</span><br><span class="line">    	echo &quot;âŒArguments error! Please check your shell script!!!&quot;</span><br><span class="line">    	exit</span><br><span class="line">    ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line"># æ›´æ–°bundleå‘½ä»¤ï¼ˆfastlaneå®˜æ–¹å»ºè®®çš„ï¼‰ï¼Œå¦‚æœæ²¡ä½¿ç”¨bundleï¼Œè¿™ä¸€è¡Œç›´æ¥å»æ‰</span><br><span class="line">/usr/local/bin/bundle update</span><br><span class="line"># æ‰“åŒ…æœ¬åœ°çš„fastlaneè„šæœ¬ï¼Œå¦‚æœæ²¡ä½¿ç”¨bundleï¼Œå»æ‰/usr/local/bin/bundle execå³å¯ </span><br><span class="line">/usr/local/bin/bundle exec fastlane UploadToPgyer</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; æ³¨æ„ï¼šä»¥ä¸Šçš„è·¯å¾„ï¼Œæ¯”å¦‚ `/Users/LiuDeHua/jenkins/workspace/CIProject/JenkinsDemo/ios` éƒ½å¯ä»¥è‡ªå·±åˆ©ç”¨`terminal`è¿›å…¥åˆ°ä½ çš„å·¥ç¨‹æ ¹ç›®å½•ä¸‹ï¼Œç„¶åä½¿ç”¨ `pwd` å‘½ä»¤æŸ¥çœ‹å¹¶å¤åˆ¶ç²˜è´´å³å¯ï¼Œæ¯ä¸ªäººçš„ç”¨æˆ·åã€é¡¹ç›®åä¸€èˆ¬éƒ½ä¸ä¸€æ ·ï¼Œå› æ­¤è·¯å¾„ä¹Ÿä¸ä¸€æ ·ï¼Œä½†åŸç†éƒ½æ˜¯ä¸€æ ·çš„ã€‚</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>7.2.6 æ„å»ºåæ“ä½œï¼ˆä¸éœ€è¦ï¼Œå¯è·³è¿‡ï¼‰</strong></li>
</ul>
<h2 id="å…«-Jenkinsæ‰“åŒ…æŠ¥é”™"><a href="#å…«-Jenkinsæ‰“åŒ…æŠ¥é”™" class="headerlink" title="å…« Jenkinsæ‰“åŒ…æŠ¥é”™"></a>å…« Jenkinsæ‰“åŒ…æŠ¥é”™</h2><ul>
<li>âŒ  <code>(iOS)</code>  error: Canâ€™t find â€˜nodeâ€™ binary to build React Native bundle</li>
</ul>
<blockquote>
<p>è¿™ä¸ªæŠ¥é”™ä¸€èˆ¬é’ˆå¯¹<code>React Native</code>å·¥ç¨‹ï¼ŒåŸç”Ÿé¡¹ç›®ä¸ä¼šã€‚</p>
</blockquote>
<p>âœ… æ‰“å¼€<code>xcode</code>, <code>Build Phases</code> -&gt; <code>Bundle React Native code and images</code></p>
<p>é‡Œé¢çš„è„šæœ¬é»˜è®¤çœ‹èµ·æ¥æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ğŸ‘‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export NODE_BINARY=/usr/local/bin/node</span><br><span class="line">../node_modules/react-native/scripts/react-native-xcode.sh</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>terminal</code>ä¸Šè¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">which node</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚æˆ‘ç”µè„‘ä¸ŠğŸ’»çš„è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/usr/local/bin/node</span><br></pre></td></tr></table></figure>

<p>å°†<code>/usr/local/bin/node</code>æ›¿æ¢è„šæœ¬ä¸­çš„<code>node</code>å³å¯ï¼Œå³æœ€ç»ˆç»“æœçœ‹èµ·æ¥å¦‚ä¸‹ğŸ‘‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export NODE_BINARY=node</span><br><span class="line">../node_modules/react-native/scripts/react-native-xcode.sh</span><br></pre></td></tr></table></figure>

<ul>
<li>âŒ âŒ <code>Android</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">FAILURE: Build failed with an exception.</span><br><span class="line"> </span><br><span class="line">What went wrong:</span><br><span class="line">Execution failed for task &apos;:app:bundleReleaseJsAndAssets&apos;.</span><br><span class="line">A problem occurred starting process &apos;command &apos;node&apos;&apos;</span><br></pre></td></tr></table></figure>

<p>âœ…âœ… æœ¬åœ°è¿›å…¥åˆ°é¡¹ç›®çš„ <code>./android</code>ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">./gradlew --stop</span><br></pre></td></tr></table></figure>

<p>ç­”æ¡ˆæºè‡ª: <a href="https://github.com/facebook/react-native/issues/6875#issuecomment-215854946" target="_blank" rel="noopener">github</a></p>
<p>ç„¶åé‡æ–°å°è¯•æ‰“åŒ…ï¼Œåº”è¯¥å°±<code>OK</code>äº†ã€‚</p>
]]></content>
      <categories>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>jenkins, fastlane, iOS, Android, è‡ªåŠ¨åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>Swiftè‡ªåŠ¨å¸ƒå±€SnapKitçš„è¯¦ç»†ä½¿ç”¨ä»‹ç»</title>
    <url>/2017/04/27/Swift%E8%87%AA%E5%8A%A8%E5%B8%83%E5%B1%80SnapKit%E7%9A%84%E8%AF%A6%E7%BB%86%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/</url>
    <content><![CDATA[<h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>SnapKitï¼Œä¸€ä¸ªç»å…¸çš„<strong>Swift</strong>ç‰ˆçš„ç¬¬ä¸‰æ–¹åº“ï¼Œä¸“é—¨ç”¨äºé¡¹ç›®çš„è‡ªåŠ¨å¸ƒå±€ï¼Œç›®å‰åœ¨githubä¸Šçš„<strong>stars</strong>å°±é«˜è¾¾9340é¢—æ˜Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªä¸å°çš„æ•°å­—ï¼Œäº¦è¶³ä»¥è¯æ˜å®ƒå­˜åœ¨çš„éå‡¡æ„ä¹‰å’Œä½œç”¨ã€‚ä½œè€…è®¤ä¸ºï¼Œåœ¨iOSå¼€å‘ï¼ˆswiftï¼‰ä¸­ï¼Œå®ƒæ˜¯ç”¨äºé¡¹ç›®æœ€ä¼˜ç§€çš„è‡ªåŠ¨å¸ƒå±€çš„å¿…é€‰åº“ä¹‹ä¸€ã€‚å®ƒçš„ä½œè€…ä»ç„¶æ˜¯å†™Objective-Cçš„ç¬¬ä¸‰æ–¹åº“Masonryçš„å¤§ç‰› - <strong>@Robert Payne</strong>ï¼Œå¼€é—¨è§å±±ï¼Œæœ¬æ–‡å°†è¯¦ç»†ä»‹ç»ä»‹ç»<strong>SnapKit</strong>çš„è¯¦ç»†ä½¿ç”¨å’Œå®‰è£…ï¼Œç›¸ä¿¡å¯¹äºåˆå…¥é—¨è¯¥åº“çš„å¼€å‘è€…æˆ–è®¸ä¼šæœ‰ä¸€å®šçš„å¸®åŠ©ï¼Œå½“ç„¶ï¼Œé‰´äºä½œè€…èƒ½åŠ›æœ‰é™ï¼Œå¦‚æœ‰ä¸è¶³ä¹‹å¤„ï¼Œæ¬¢è¿æŒ‡ç‚¹å’Œæ‰¹è¯„ã€‚ä¹Ÿå¯ä»¥é€šè¿‡åŠ ä½œè€…åˆ›å»ºçš„iOS(Swift)å¼€å‘äº’åŠ©ç¾¤äº¤æµå’Œå­¦ä¹ ï¼Œç¾¤å·QQï¼š558179558ã€‚</p>
<h3 id="Snapkitçš„å®‰è£…ï¼ˆCocoaPods"><a href="#Snapkitçš„å®‰è£…ï¼ˆCocoaPods" class="headerlink" title="Snapkitçš„å®‰è£…ï¼ˆCocoaPods)"></a>Snapkitçš„å®‰è£…ï¼ˆCocoaPods)</h3><h4 id="ç¯å¢ƒé…ç½®è¦æ±‚ï¼š"><a href="#ç¯å¢ƒé…ç½®è¦æ±‚ï¼š" class="headerlink" title="ç¯å¢ƒé…ç½®è¦æ±‚ï¼š"></a>ç¯å¢ƒé…ç½®è¦æ±‚ï¼š</h4><ul>
<li><p>iOS 8.0 / Mac OS X 10.11+ </p>
</li>
<li><p>Xcode 8.0+</p>
</li>
<li><p>Swift 3.0+</p>
</li>
</ul>
<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>åœ¨å·²ç»å®‰è£…CocoaPodsçš„å‰æä¸‹ï¼Œ å³å¯ä»¥è¿›è¡Œä¸‹åˆ—æ­¥éª¤ã€‚</p>
<ul>
<li>åœ¨ä½ çš„é¡¹ç›®å·¥ç¨‹é‡Œçš„<strong>Podfile</strong>æ–‡ä»¶é‡Œé¢æ·»åŠ </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source &apos;https://github.com/CocoaPods/Specs.git&apos;</span><br><span class="line"></span><br><span class="line">platform :ios, &apos;10.0&apos;</span><br><span class="line"></span><br><span class="line">use_frameworks!</span><br><span class="line"></span><br><span class="line">target &apos;è¿™é‡Œæ˜¯ä½ çš„å·¥ç¨‹åç§°&apos; do</span><br><span class="line">    pod &apos;SnapKit&apos;, &apos;~&gt; 3.0&apos;</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<ul>
<li>è€ç”Ÿå¸¸è°ˆï¼Œè¿è¡ŒCocoaPodsçš„å¦‚ä¸‹å‘½ä»¤</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pod install</span><br></pre></td></tr></table></figure>

<p>åˆ°æ­¤ï¼Œä¸å‡ºæ„å¤–çš„è¯ï¼Œä½ å·²ç»å°†<strong>SnapKit</strong>é›†æˆåˆ°ä½ çš„é¡¹ç›®ä¸­äº†ã€‚ç„¶åï¼Œå°±å¼€å§‹è®²æ€ä¹ˆä½¿ç”¨å®ƒäº†ã€‚</p>
<h3 id="Snapkitçš„å¸ƒå±€ä½¿ç”¨"><a href="#Snapkitçš„å¸ƒå±€ä½¿ç”¨" class="headerlink" title="Snapkitçš„å¸ƒå±€ä½¿ç”¨"></a>Snapkitçš„å¸ƒå±€ä½¿ç”¨</h3><p><strong>1</strong>ã€ å®ç°ä¸€ä¸ªå®½é«˜ä¸º100ï¼Œå±…äºå½“å‰è§†å›¾çš„ä¸­å¿ƒçš„è§†å›¾å¸ƒå±€ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">import SnapKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">     </span><br><span class="line">        let testView = UIView()</span><br><span class="line">        testView.backgroundColor = UIColor.cyan</span><br><span class="line">        view.addSubview(testView)</span><br><span class="line">        testView.snp.makeConstraints &#123; (make) in</span><br><span class="line">            make.width.equalTo(100)         // å®½ä¸º100</span><br><span class="line">            make.height.equalTo(100)        // é«˜ä¸º100</span><br><span class="line">            make.center.equalTo(view)       // ä½äºå½“å‰è§†å›¾çš„ä¸­å¿ƒ</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ›´ç®€æ´çš„å†™æ³•å¯ä»¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">import SnapKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">     </span><br><span class="line">        let testView = UIView()</span><br><span class="line">        testView.backgroundColor = UIColor.cyan</span><br><span class="line">        view.addSubview(testView)</span><br><span class="line">        testView.snp.makeConstraints &#123; (make) in</span><br><span class="line">            make.width.height.equalTo(100)    // é“¾å¼è¯­æ³•ç›´æ¥å®šä¹‰å®½é«˜</span><br><span class="line">            make.center.equalToSuperview()    // ç›´æ¥åœ¨çˆ¶è§†å›¾å±…ä¸­</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå›¾</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-e0670758f7c9b415.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="TestPicture1"></p>
<p><strong>2</strong>ã€View2ä½äºView1å†…ï¼Œ view2ä½äºView1çš„ä¸­å¿ƒï¼Œ å¹¶ä¸”è·ç¦»Viewçš„è¾¹è·çš„è·ç¦»éƒ½ä¸º20</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">import SnapKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">     </span><br><span class="line">         // é»‘è‰²è§†å›¾ä½œä¸ºçˆ¶è§†å›¾</span><br><span class="line">         let view1 = UIView()</span><br><span class="line">         view1.frame = CGRect(x: 0, y: 0, width: 300, height: 300)</span><br><span class="line">         view1.center = view.center</span><br><span class="line">         view1.backgroundColor = UIColor.black</span><br><span class="line">         view.addSubview(view1)</span><br><span class="line">         </span><br><span class="line">         // æµ‹è¯•è§†å›¾</span><br><span class="line">         let view2 = UIView()</span><br><span class="line">         view2.backgroundColor = UIColor.magenta</span><br><span class="line">         view1.addSubview(view2)</span><br><span class="line">         view2.snp.makeConstraints &#123; (make) in</span><br><span class="line">         	  make.top.equalToSuperview().offset(20)      // å½“å‰è§†å›¾çš„é¡¶éƒ¨è·ç¦»çˆ¶è§†å›¾çš„é¡¶éƒ¨ï¼š20ï¼ˆçˆ¶è§†å›¾é¡¶éƒ¨+20ï¼‰</span><br><span class="line">         	  make.left.equalToSuperview().offset(20)     // å½“å‰è§†å›¾çš„å·¦è¾¹è·ç¦»çˆ¶è§†å›¾çš„å·¦è¾¹ï¼š20ï¼ˆçˆ¶è§†å›¾å·¦è¾¹+20ï¼‰</span><br><span class="line">              make.bottom.equalToSuperview().offset(-20)  // å½“å‰è§†å›¾çš„åº•éƒ¨è·ç¦»çˆ¶è§†å›¾çš„åº•éƒ¨ï¼š-20ï¼ˆçˆ¶è§†å›¾åº•éƒ¨-20ï¼‰</span><br><span class="line">              make.right.equalToSuperview().offset(-20)   // å½“å‰è§†å›¾çš„å³è¾¹è·ç¦»çˆ¶è§†å›¾çš„å³è¾¹ï¼š-20ï¼ˆçˆ¶è§†å›¾å³è¾¹-20ï¼‰</span><br><span class="line">         &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ›´ç®€æ´çš„å†™æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">import SnapKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">     </span><br><span class="line">         // é»‘è‰²è§†å›¾ä½œä¸ºçˆ¶è§†å›¾</span><br><span class="line">         let view1 = UIView()</span><br><span class="line">         view1.frame = CGRect(x: 0, y: 0, width: 300, height: 300)</span><br><span class="line">         view1.center = view.center</span><br><span class="line">         view1.backgroundColor = UIColor.black</span><br><span class="line">         view.addSubview(view1)</span><br><span class="line">         </span><br><span class="line">         // æµ‹è¯•è§†å›¾</span><br><span class="line">         let view2 = UIView()</span><br><span class="line">         view2.backgroundColor = UIColor.magenta</span><br><span class="line">         view1.addSubview(view2)</span><br><span class="line">         view2.snp.makeConstraints &#123; (make) in</span><br><span class="line">            make.edges.equalToSuperview().inset(UIEdgeInsets(top: 20, left: 20, bottom: 20, right: 20))</span><br><span class="line">         &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå›¾</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-ad6e16114189a9bb.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="TestPicture2"></p>
<p><strong>3</strong>ã€å¸ƒå±€ä¸€ä¸ªè§†å›¾view2ï¼Œ è®©å®ƒçš„æ°´å¹³ä¸­å¿ƒçº¿å°äºç­‰äºå¦ä¸€ä¸ªè§†å›¾view2çš„å·¦è¾¹ï¼Œå¯ä»¥è¿™æ ·å¸ƒå±€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">import SnapKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">     </span><br><span class="line">         // é»‘è‰²è§†å›¾ä½œä¸ºçˆ¶è§†å›¾</span><br><span class="line">         let view1 = UIView()</span><br><span class="line">         view1.frame = CGRect(x: 0, y: 0, width: 300, height: 300)</span><br><span class="line">         view1.center = view.center</span><br><span class="line">         view1.backgroundColor = UIColor.black</span><br><span class="line">         view.addSubview(view1)</span><br><span class="line">        </span><br><span class="line">         // æµ‹è¯•è§†å›¾</span><br><span class="line">         let view2 = UIView()</span><br><span class="line">         view2.backgroundColor = UIColor.magenta</span><br><span class="line">         view1.addSubview(view2)</span><br><span class="line">         view2.snp.makeConstraints &#123; (make) in</span><br><span class="line">            // è®©é¡¶éƒ¨è·ç¦»view1çš„åº•éƒ¨ä¸º10çš„è·ç¦»</span><br><span class="line">            make.top.equalTo(view1.snp.bottom).offset(10)</span><br><span class="line">            // è®¾ç½®å®½ã€é«˜</span><br><span class="line">            make.width.height.equalTo(100)</span><br><span class="line">            // æ°´å¹³ä¸­å¿ƒçº¿&lt;=view1çš„å·¦è¾¹</span><br><span class="line">            make.centerX.lessThanOrEqualTo(view1.snp.leading)</span><br><span class="line">         &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå›¾</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-fda525f8d8d474b0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="TestPicture"></p>
<h3 id="è§†å›¾çš„å±æ€§è¯´æ˜"><a href="#è§†å›¾çš„å±æ€§è¯´æ˜" class="headerlink" title="è§†å›¾çš„å±æ€§è¯´æ˜"></a>è§†å›¾çš„å±æ€§è¯´æ˜</h3><p>é€šè¿‡ä¸Šé¢çš„å¤§è‡´ç®€å•å¸ƒå±€æˆ‘ä»¬å¯¹SnapKitæœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ï¼Œé‚£ä¹ˆï¼Œ å®ƒçš„å¸ƒå±€å±æ€§æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿå’ŒåŸç”Ÿçš„å¸ƒå±€ç±»æœ‰ä»€ä¹ˆå…³è”ï¼Ÿ ä¸‹é¢çœ‹ä¸€ä¸ªSnapKitçš„å¸ƒå±€å±æ€§è¡¨</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-98e6cb55d8b7702c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<p>ä»è¡¨ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ï¼ŒSnapkitçš„å¸ƒå±€å±æ€§éƒ½æ˜¯æºè‡ªäºç³»ç»Ÿçš„NSLayoutAttributeï¼Œé‚£ä¹ˆï¼ŒNSLayoutAttributeæ˜¯ä¸ªä»€ä¹ˆå‘¢ï¼Ÿå…¶å®ï¼Œå®ƒåœ¨swiftä¸­æ˜¯ä¸€ä¸ªæšä¸¾ï¼Œå†…éƒ¨åˆ—ä¸¾äº†å¾ˆå¤šå¸ƒå±€å±æ€§è¯¸å¦‚topã€leftã€leadingã€centerXç­‰ï¼ŒSnapkitçš„å¸ƒå±€å±æ€§ä¸å®ƒä»¬éƒ½å­˜åœ¨ä¸€ä¸€çš„å¯¹åº”å…³ç³»ã€‚</p>
<h4 id="Snapkit-çš„-greaterThanOrEqualTo-å±æ€§"><a href="#Snapkit-çš„-greaterThanOrEqualTo-å±æ€§" class="headerlink" title="Snapkit çš„ greaterThanOrEqualTo å±æ€§"></a>Snapkit çš„ greaterThanOrEqualTo å±æ€§</h4><p>å¦‚æœæƒ³è®©è§†å›¾View2çš„å·¦è¾¹&gt;=çˆ¶è§†å›¾View1çš„å·¦è¾¹ï¼Œ è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ç”¨åˆ°greaterThanOrEqualTo</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">import SnapKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        </span><br><span class="line">         // é»‘è‰²è§†å›¾ä½œä¸ºçˆ¶è§†å›¾</span><br><span class="line">         let view1 = UIView()</span><br><span class="line">         view1.frame = CGRect(x: 0, y: 0, width: 300, height: 300)</span><br><span class="line">         view1.center = view.center</span><br><span class="line">         view1.backgroundColor = UIColor.black</span><br><span class="line">         view.addSubview(view1)</span><br><span class="line">        </span><br><span class="line">         // æµ‹è¯•è§†å›¾</span><br><span class="line">         let view2 = UIView()</span><br><span class="line">         view2.backgroundColor = UIColor.magenta</span><br><span class="line">         view1.addSubview(view2)</span><br><span class="line">         view2.snp.makeConstraints &#123; (make) in</span><br><span class="line">            // è®©é¡¶éƒ¨è·ç¦»view1çš„åº•éƒ¨ä¸º10çš„è·ç¦»</span><br><span class="line">            make.top.equalTo(view1.snp.bottom).offset(10)</span><br><span class="line">            // è®¾ç½®å®½ã€é«˜</span><br><span class="line">            make.width.height.equalTo(100)</span><br><span class="line">            // æ°´å¹³ä¸­å¿ƒçº¿&lt;=view1çš„å·¦è¾¹</span><br><span class="line">            make.left.greaterThanOrEqualTo(view1)</span><br><span class="line">            </span><br><span class="line">            // æˆ–è€…, å’Œä¸Šé¢ä¸€è¡Œä»£ç ä¸€æ ·çš„æ•ˆæœ</span><br><span class="line">//            make.left.greaterThanOrEqualTo(view1.snp.left)</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå›¾</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-4a58ce03c79222d3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="TestPicture"></p>
<p>å…¶å®ï¼ŒgreaterThanOrEqualToè¿™ä¸ªå±æ€§æœ‰ç‚¹å¤šä½™ï¼Œæ¯”å¦‚ä¸Šé¢è¿™è¡Œä»£ç  <strong>make.left.greaterThanOrEqualTo(view1)</strong> ï¼Œ æˆ‘ä»¬å¯ä»¥æ¢æˆ <strong>make.left.equalToSuperview()</strong>æˆ–<strong>make.left.equalTo(view1.snp.left)</strong>ï¼Œ æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ <strong>&gt;=</strong> æˆ– <strong>&lt;=</strong> æˆ‘ä»¬éƒ½å¯ä»¥ç›´æ¥ç”¨<strong>equalTo</strong>æ¥ä»£æ›¿ï¼</p>
<h4 id="SnapKitçš„greaterThanOrEqualToå’ŒlessThanOrEqualToè”åˆä½¿ç”¨"><a href="#SnapKitçš„greaterThanOrEqualToå’ŒlessThanOrEqualToè”åˆä½¿ç”¨" class="headerlink" title="SnapKitçš„greaterThanOrEqualToå’ŒlessThanOrEqualToè”åˆä½¿ç”¨"></a>SnapKitçš„greaterThanOrEqualToå’ŒlessThanOrEqualToè”åˆä½¿ç”¨</h4><p>å½“æˆ‘ä»¬æƒ³è¦è®©æŸä¸ªè§†å›¾çš„<strong>widthæˆ–height</strong>å¤§äºç­‰äºæŸä¸ªç‰¹å®šçš„å€¼ï¼Œå°äºç­‰äºæŸä¸ªç‰¹å®šçš„å€¼çš„æ—¶å€™ï¼Œä¸€èˆ¬è€Œè¨€ï¼ŒSnapkitä¼šä»¥greaterThanOrEqualToä¸ºå‡†ï¼Œè¿™é‡Œä¸¾ä¸€ä¸ªwidthçš„ä¾‹å­ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œè¿™é‡ŒæŒ‡è´´å‡ºäº†viewDidLoadä¸­çš„ä»£ç ï¼ˆå…¶ä»–æ²¡å¿…è¦ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// é»‘è‰²è§†å›¾ä½œä¸ºçˆ¶è§†å›¾</span><br><span class="line">let view1 = UIView()</span><br><span class="line">view1.frame = CGRect(x: 0, y: 0, width: 300, height: 300)</span><br><span class="line">view1.center = view.center</span><br><span class="line">view1.backgroundColor = UIColor.black</span><br><span class="line">view.addSubview(view1)</span><br><span class="line">   </span><br><span class="line">// æµ‹è¯•è§†å›¾</span><br><span class="line">let view2 = UIView()</span><br><span class="line">view2.backgroundColor = UIColor.magenta</span><br><span class="line">view1.addSubview(view2)</span><br><span class="line">view2.snp.makeConstraints &#123; (make) in</span><br><span class="line">   make.width.lessThanOrEqualTo(300)</span><br><span class="line">   make.width.greaterThanOrEqualTo(200)</span><br><span class="line">   make.height.equalTo(100)</span><br><span class="line">   make.center.equalToSuperview()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ•ˆæœå›¾</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-09c6303f2d50331c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Test6"></p>
<p>å¾ˆæ˜æ˜¾ï¼Œæœ€åçš„å®½åº¦æ˜¯ä»¥<strong>make.width.greaterThanOrEqualTo(200)</strong>ä¸ºæ ‡å‡†çš„ï¼Œä¹Ÿå¯ä»¥è¿™æ ·çš„ï¼Œåœ¨åŒæ—¶ä½¿ç”¨ä¸¤è€…çš„æƒ…å†µä¸‹ï¼Œ<strong>greaterThanOrEqualTo</strong>çš„ä¼˜å…ˆçº§ç•¥æ¯”<strong>lessThanOrEqualTo</strong>çš„ä¼˜å…ˆçº§é«˜ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬åªè®¾ç½®<strong>make.width.lessThanOrEqualTo(300)</strong>ï¼Œé‚£ä¹ˆview2æ˜¯ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥çš„ï¼Œå› ä¸ºview2ä¸çŸ¥é“ä½ è¦è¡¨è¾¾çš„æ˜¯è¦æ˜¾ç¤ºå¤šå°‘ï¼Œå°äºç­‰äº300ï¼Œåˆ°åº•æ˜¯100è¿˜æ˜¯200å‘¢ï¼Ÿ(è¿™é‡ŒæŒ‡é’ˆå¯¹widthå’Œheightï¼‰æ‰€ä»¥å®ƒä¸èƒ½ç¡®å®šè¿™ä¸ªçº¦æŸçš„å€¼ï¼Œä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å•ç‹¬è®¾ç½®<strong>make.width.greaterThanOrEqualTo(200)</strong>ï¼Œé‚£ä¹ˆå°±å’Œä¸Šé¢çš„æ•ˆæœä¸€æ ·ï¼Œå› ä¸ºå®ƒä¼šä»¥200ä¸ºæ ‡å‡†å¸ƒå±€çº¦æŸï¼</p>
<h4 id="lessThanOrEqualToçš„ç”¨äºä¸Šã€ä¸‹ã€å·¦ã€å³"><a href="#lessThanOrEqualToçš„ç”¨äºä¸Šã€ä¸‹ã€å·¦ã€å³" class="headerlink" title="lessThanOrEqualToçš„ç”¨äºä¸Šã€ä¸‹ã€å·¦ã€å³"></a>lessThanOrEqualToçš„ç”¨äºä¸Šã€ä¸‹ã€å·¦ã€å³</h4><p>å¦‚æœæˆ‘ä»¬æƒ³è¦è§†å›¾view2çš„å·¦è¾¹ &lt;= view1.left + 10, é‚£ä¹ˆå°±å¯ä»¥ç›´æ¥ç”¨åˆ°<strong>lessThanOrEqualTo</strong>å¸ƒå±€äº†ï¼Œçœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// é»‘è‰²è§†å›¾ä½œä¸ºçˆ¶è§†å›¾</span><br><span class="line">let view1 = UIView()</span><br><span class="line">view1.frame = CGRect(x: 0, y: 0, width: 300, height: 300)</span><br><span class="line">view1.center = view.center</span><br><span class="line">view1.backgroundColor = UIColor.black</span><br><span class="line">view.addSubview(view1)</span><br><span class="line">   </span><br><span class="line">// æµ‹è¯•è§†å›¾</span><br><span class="line">let view2 = UIView()</span><br><span class="line">view2.backgroundColor = UIColor.magenta</span><br><span class="line">view1.addSubview(view2)</span><br><span class="line">view2.snp.makeConstraints &#123; (make) in</span><br><span class="line">   make.left.lessThanOrEqualTo(20)		// &lt;= çˆ¶è§†å›¾çš„å·¦è¾¹+20</span><br><span class="line">   make.right.equalTo(-40)				// = çˆ¶è§†å›¾çš„å³è¾¹-40</span><br><span class="line">   make.height.equalTo(100)</span><br><span class="line">   make.center.equalToSuperview()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå›¾</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-f85ad9126140abae.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Test7"></p>
<h4 id="Snapkitå¸ƒå±€çš„çµæ´»æ€§"><a href="#Snapkitå¸ƒå±€çš„çµæ´»æ€§" class="headerlink" title="Snapkitå¸ƒå±€çš„çµæ´»æ€§"></a>Snapkitå¸ƒå±€çš„çµæ´»æ€§</h4><ul>
<li>Snapkitå¸ƒå±€çµæ´»æ€§å¾ˆå¼ºï¼Œ æˆ‘ä»¬çœ‹ä¸‹é¢çš„ä¾‹å­, ä»–ä»¬çš„æ•ˆæœæ˜¯ä¸€æ ·çš„</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">make.left.equalToSuperview().offset(10)</span><br><span class="line">make.left.equalTo(10)</span><br><span class="line">make.left.equalTo(view1.snp.left).offset(10)</span><br></pre></td></tr></table></figure>

<ul>
<li>è®¾ç½®è§†å›¾çš„å¤§å°ï¼ˆwidthï¼Œheightï¼‰,ä»–ä»¬æ•ˆæœæ˜¯ä¸€æ ·çš„</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">make.width.height.equalTo(100)</span><br><span class="line">æˆ–</span><br><span class="line">make.width.equalTo(100)</span><br><span class="line">make.height.equalTo(100)</span><br><span class="line">æˆ–</span><br><span class="line">make.size.equalTo(CGSize(width: 100, height: 100))</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¼˜å…ˆçº§(priority)</li>
</ul>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹Snapkitçš„ä¼˜å…ˆçº§è®¾ç½®ï¼Œ ä¼˜å…ˆçº§éƒ½æ˜¯é™„åŠ åœ¨çº¦æŸé“¾çš„æœ«å°¾å¤„ï¼Œçœ‹ä¸‹é¢çš„ä½¿ç”¨æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// é»‘è‰²è§†å›¾ä½œä¸ºçˆ¶è§†å›¾</span><br><span class="line">let view1 = UIView()</span><br><span class="line">view1.frame = CGRect(x: 0, y: 0, width: 300, height: 300)</span><br><span class="line">view1.center = view.center</span><br><span class="line">view1.backgroundColor = UIColor.black</span><br><span class="line">view.addSubview(view1)</span><br><span class="line">    </span><br><span class="line">// æµ‹è¯•è§†å›¾</span><br><span class="line">let view2 = UIView()</span><br><span class="line">view2.backgroundColor = UIColor.magenta</span><br><span class="line">view1.addSubview(view2)</span><br><span class="line">view2.snp.makeConstraints &#123; (make) in</span><br><span class="line">	make.width.equalTo(100).priority(666)</span><br><span class="line">	make.width.equalTo(250).priority(999)</span><br><span class="line">	make.height.equalTo(111)</span><br><span class="line">	make.center.equalToSuperview()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå›¾</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-87a1f04f3651a3a8.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="priorityimage"></p>
<p>ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çŸ¥é“, æˆ‘ä»¬è®¾ç½®äº†ä¸¤ä¸ªä¼˜å…ˆçº§ï¼šmake.width.equalTo(100).priority(666) <strong>å’Œ</strong> make.width.equalTo(250).priority(999)ï¼Œ é‚£è¿è¡Œç»“æœæ˜¯ä¸€ä¸ªå“ªä¸ªä¸ºå‡†å‘¢ï¼Ÿæ˜¾ç„¶æ˜¯ä»¥ä¼˜å…ˆçº§ä¸º <strong>999</strong>çš„ä¸ºå‡†ï¼Œå› ä¸º priority(999)&gt;priotity(666)ï¼Œ æ‰€ä»¥åœ¨ä½¿ç”¨Snapkitçš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¼˜å…ˆçº§priorityæ¥è®¾ç½®æˆ‘ä»¬çš„çº¦æŸï¼Œ å¦å¤–ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼ŒSnapKitçš„ä¼˜å…ˆçº§æœ€å¤§å€¼åªèƒ½æ˜¯ 1000ï¼Œ å¦‚æœä¼˜å…ˆçº§çš„æ•°å€¼è¶…è¿‡1000ï¼Œåˆ™è¿è¡Œæ—¶å°±ä¼š<strong>Crash</strong>ï¼è¿™é‡Œè¦å°¤å…¶æ³¨æ„ã€‚</p>
<br>

<ul>
<li>æ›´æ–°çº¦æŸï¼ˆå¼•ç”¨çº¦æŸï¼‰</li>
</ul>
<br>

<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿å­˜æŸä¸€ä¸ªçº¦æŸå¸ƒå±€æ¥æ›´æ–°ç›¸åº”çš„çº¦æŸï¼Œæˆ–è€…ä¿å­˜ä¸€ç»„çº¦æŸå¸ƒå±€åˆ°ä¸€ä¸ªæ•°ç»„ä¸­æ›´æ–°çº¦æŸï¼Œ å…·ä½“çœ‹ä¸‹é¢ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// ä¿å­˜çº¦æŸï¼ˆå¼•ç”¨çº¦æŸï¼‰</span><br><span class="line">var updateConstraint: Constraint?</span><br><span class="line">    </span><br><span class="line">override func viewDidLoad() &#123;</span><br><span class="line">    super.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    // é»‘è‰²è§†å›¾ä½œä¸ºçˆ¶è§†å›¾</span><br><span class="line">    let view1 = UIView()</span><br><span class="line">    view1.frame = CGRect(x: 0, y: 0, width: 300, height: 300)</span><br><span class="line">    view1.center = view.center</span><br><span class="line">    view1.backgroundColor = UIColor.black</span><br><span class="line">    view.addSubview(view1)</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•è§†å›¾</span><br><span class="line">    let view2 = UIView()</span><br><span class="line">    view2.backgroundColor = UIColor.magenta</span><br><span class="line">    view1.addSubview(view2)</span><br><span class="line">    view2.snp.makeConstraints &#123; (make) in</span><br><span class="line">        make.width.height.equalTo(100)  // å®½é«˜ä¸º100</span><br><span class="line">        self.updateConstraint = make.top.left.equalTo(10).constraint   // è·ç¦»çˆ¶è§†å›¾ä¸Šã€å·¦ä¸º10</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    let updateButton = UIButton(type: .custom)</span><br><span class="line">    updateButton.backgroundColor = UIColor.brown</span><br><span class="line">    updateButton.frame = CGRect(x: 100, y: 80, width: 50, height: 30)</span><br><span class="line">    updateButton.setTitle(&quot;æ›´æ–°&quot;, for: .normal)</span><br><span class="line">    updateButton.addTarget(self, action: #selector(updateConstraintMethod), for: .touchUpInside)</span><br><span class="line">    view.addSubview(updateButton)</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">// æ›´æ–°çº¦æŸ</span><br><span class="line">func updateConstraintMethod() &#123;</span><br><span class="line">    self.updateConstraint?.update(offset: 50)   // æ›´æ–°è·ç¦»çˆ¶è§†å›¾ä¸Šã€å·¦ä¸º50</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="http://upload-images.jianshu.io/upload_images/1974698-5d2e213fdaa51b25.gif?imageMogr2/auto-orient/strip" alt="testgif1"></p>
<ul>
<li>æ›´æ–°çº¦æŸ(snp.updateConstraints)</li>
</ul>
<p>è¯´èµ·è¿™ä¸ª<code>updateConstraints</code>, æˆ‘ä¹Ÿæ‡µé€¼è¿‡ï¼Œé‚£ä¹ˆå®ƒåˆ°åº•æœ‰ä½•ä½œç”¨å‘¢ï¼Ÿåˆæ€ä¹ˆç”¨å‘¢ï¼Ÿå®ƒå’Œä¸€å¼€å§‹å°±ä½¿ç”¨çš„<code>makeConstraints</code>åˆæœ‰ä»€ä¹ˆæ˜ç¡®çš„åŒºåˆ«å‘¢ï¼Ÿè¯·ç»§ç»­å¾€ä¸‹çœ‹</p>
<p><strong>è¯´æ˜1</strong>ï¼šå¦‚æœä½ è¿™æ˜¯æ›´æ–°æŸä¸ªçº¦æŸæˆ–æŸå‡ ä¸ªçº¦æŸçš„å¸¸é‡å€¼ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨<code>updateConstraints</code>è€Œä¸æ˜¯<code>makeConstraints</code>ã€‚</p>
<p><strong>è¯´æ˜2</strong>ï¼šè¿™ä¸ªä¹Ÿæ˜¯è‹¹æœæ¨èç”¨æ¥æ·»åŠ æˆ–æ›´æ–°çº¦æŸçš„æ–¹å¼</p>
<p><strong>è¯´æ˜3</strong>ï¼šè¿™ä¸ªæ–¹æ³•å¯ä»¥è°ƒç”¨å¤šæ¬¡ï¼Œä¼šç›¸åº”<code>setNeedsUpdateConstraints</code>, åœ¨æ§åˆ¶å™¨ä¸­ï¼Œå¯ä»¥å†™åœ¨<code>override func updateViewConstraints()</code>æ–¹æ³•é‡Œé¢ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥å†™åœ¨ä½ æƒ³è¦ä»€ä¹ˆæ—¶å€™æ›´æ–°çš„ç‚¹å‡»äº‹ä»¶é‡Œé¢ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">import SnapKit</span><br><span class="line"></span><br><span class="line">class ViewController: UIViewController &#123;</span><br><span class="line"></span><br><span class="line">    lazy var blackView = UIView()</span><br><span class="line">    </span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        </span><br><span class="line">        blackView.backgroundColor = UIColor.black</span><br><span class="line">        view.addSubview(blackView)</span><br><span class="line">        blackView.snp.makeConstraints &#123; (make) in</span><br><span class="line">            </span><br><span class="line">            // å››ä¸ªçº¦æŸç¡®å®šä½ç½®å’Œå¤§å°</span><br><span class="line">            make.width.equalTo(100)</span><br><span class="line">            make.height.equalTo(150)</span><br><span class="line">            make.top.equalTo(10)</span><br><span class="line">            make.centerX.equalToSuperview()</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    override func updateViewConstraints() &#123;</span><br><span class="line">        </span><br><span class="line">        blackView.snp.updateConstraints &#123; (make) in</span><br><span class="line">            // æ›´æ–°è·ç¦»çˆ¶è§†å›¾é¡¶éƒ¨çš„çº¦æŸï¼ˆä» 10 ---&gt; 300 ï¼‰</span><br><span class="line">            make.top.equalTo(300)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // æ ¹æ®è‹¹æœï¼Œè°ƒç”¨çˆ¶ç±»åº”è¯¥æ”¾åœ¨æœ«å°¾</span><br><span class="line">        super.updateViewConstraints()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>æ³¨æ„</code>: ä»ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬å¾ˆæ˜ç¡®åœ°çŸ¥é“ï¼Œ <code>blackView</code>é€šè¿‡<code>width</code>ã€<code>height</code>ã€<code>top</code>ã€<code>centerX</code>ç¡®å®šäº†å®ƒæœ¬èº«çš„å¤§å°å’Œä½ç½®ï¼Œ ä½†æ˜¯ï¼Œ åœ¨ run å‡ºæ¥ä¹‹åï¼Œå®ƒçš„topæ”¹å˜äº†è·ç¦»ï¼Œ ä» 10 å˜æˆäº† 300ï¼Œå…¶ä»–ä¸‰ä¸ªçº¦æŸä¿æŒä¸å˜ï¼Œ è§ä¸‹å›¾æ•ˆæœï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-f26b2286347c39cc.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test10"></p>
<p>æ˜¾è€Œæ˜“è§ï¼Œ é™¤äº†<code>top</code>çº¦æŸï¼Œ å…¶ä»–éƒ½æ²¡æœ‰æ”¹å˜ï¼ ä¹Ÿå°±æ˜¯è¯´ï¼Œçº¦æŸè¢«æ›´æ–°ï¼ˆç›¸å½“äºç³»ç»Ÿå‡çº§ä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ªé“ç†ï¼‰</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬é€šè¿‡UIButtonçš„ç‚¹å‡»äº‹ä»¶æ¥è¯æ˜ä¸€ä¸‹åˆ¶ä½œçº¦æŸ<code>makeConstraints</code>å’Œ<code>updateConstraints</code><strong>å…·ä½“çš„åŒºåˆ«</strong>åœ¨å“ªé‡Œï¼Ÿ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">lazy var blackView = UIView()</span><br><span class="line">    </span><br><span class="line">override func viewDidLoad() &#123;</span><br><span class="line">    super.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    blackView.backgroundColor = UIColor.black</span><br><span class="line">    view.addSubview(blackView)</span><br><span class="line">    blackView.snp.makeConstraints &#123; (make) in</span><br><span class="line">        </span><br><span class="line">        make.width.equalTo(100)</span><br><span class="line">        make.height.equalTo(150)</span><br><span class="line">        make.top.equalTo(50)</span><br><span class="line">        make.centerX.equalToSuperview()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    let btn = UIButton(type: .custom)</span><br><span class="line">    btn.backgroundColor = UIColor.brown</span><br><span class="line">    btn.frame = CGRect(x: 100, y: 200, width: 60, height: 30)</span><br><span class="line">    btn.addTarget(self, action: #selector(buttonAction), for: .touchUpInside)</span><br><span class="line">    view.addSubview(btn)</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">// ç‚¹å‡»æ›´æ–°/åˆ¶ä½œçº¦æŸ</span><br><span class="line">func buttonAction() &#123;</span><br><span class="line">    </span><br><span class="line">    blackView.snp.makeConstraints &#123; (make) in</span><br><span class="line">        make.width.height.equalTo(20)</span><br><span class="line">        make.top.equalTo(300)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…ˆçœ‹æ•ˆæœå›¾</p>
<p><strong>ç‚¹å‡»äº‹ä»¶å‘ç”Ÿå‰(å›¾1ï¼‰ï¼š</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-9a709cc7bfd4a9e9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test11"></p>
<p><strong>ç‚¹å‡»äº‹ä»¶å‘ç”Ÿåï¼ˆå›¾2ï¼‰</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-e5f347e060f611f2.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test12"></p>
<p><strong>å›¾3</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-a8eb71769d210970.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test14"></p>
<p><strong>å›¾4</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-ca57e8436580500d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test13"></p>
<blockquote>
<p>ä¸Šé¢ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œè§†å›¾ <strong>blackView</strong>ä¸€å¼€å§‹æ˜¯ç”±å››ä¸ªçº¦æŸç¡®å®šä½ç½®å’Œå¤§å°ï¼Œåœ¨ç‚¹å‡»äº‹æƒ…å“åº”åï¼Œæˆ‘ä»¬åˆç»™ <strong>blackView</strong> åˆ¶ä½œï¼ˆè®°ä½ï¼Œæ˜¯åˆ¶ä½œï¼Œè€Œä¸æ˜¯é‡åšï¼Œä¸¤è€…æœ‰æ˜ç¡®çš„åŒºåˆ«ï¼‰äº†3ä¸ªçº¦æŸï¼Œåˆ†åˆ«æ˜¯ <code>width</code>ã€<code>height</code>ã€<code>top</code>, é‚£ä¹ˆè¿™æ ·åšé—®é¢˜å‡ºç°åœ¨å“ªé‡Œå‘¢ï¼Ÿ <strong>ç¬¬ä¸€</strong>ï¼Œ ç‚¹å‡»äº‹æƒ…å‘ç”Ÿå‰ï¼ˆå›¾1ï¼‰ï¼Œ åœ¨ç‚¹å‡»äº‹ä»¶å‘ç”Ÿåï¼ˆè§å›¾2ï¼‰ï¼Œ æˆ‘ä»¬å‘ç°ï¼Œ<code>blackView</code>çš„<code>width</code>ã€<code>height</code>çº¦æŸæ”¹å˜äº†ï¼Œä½†æ˜¯ <code>top</code>å´æ²¡æœ‰æ”¹å˜ï¼Œè¿˜æ˜¯åŸæ¥çš„è·ç¦»çˆ¶è§†å›¾é¡¶éƒ¨ 50 çš„è·ç¦»ï¼Œ åŸå› åœ¨äºï¼Œæˆ‘ä»¬åœ¨åŸæ¥çš„çº¦æŸåŸºç¡€ä¸Šåˆæ·»åŠ äº†<strong>å¤šä½™çš„</strong>çº¦æŸï¼Œ ä¹Ÿå°±æ˜¯è¯´ï¼Œçº¦æŸä»4ä¸ªå˜æˆäº†7ä¸ªï¼ˆè§å›¾3å·¦è¾¹constraintsï¼‰ï¼Œ è¿™æ ·å°±äº§ç”Ÿäº†çº¦æŸä¸æ˜ç¡®ï¼Œè¿›è€Œå¯¼è‡´<strong>snapkit</strong>çš„è­¦å‘Šï¼ˆè§å›¾4ï¼‰ï¼Œ è¿™æ ·å¸ƒå±€æ˜¾ç„¶æ˜¯ä¸å¯å–çš„ï¼Œåœ¨é¡¹ç›®ä¸­è¿™æ ·åšæå…¶å±é™©ï¼Œç”šè‡³å¯èƒ½ä¼šå¯¼è‡´å¼‚å¸¸å¥”æºƒï¼ï¼ï¼ï¼</p>
</blockquote>
<p><strong>ç°åœ¨</strong>ï¼Œ æˆ‘ä»¬è¯¥å°†ç‚¹å‡»äº‹ä»¶ä¸­çš„çº¦æŸå¸ƒå±€ä»<code>makeConstraints</code>æ”¹å˜æˆ<code>updateConstraints</code>æ¥è¯•è¯•ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«(ä¸‹é¢åªæ·»åŠ äº†ç‚¹å‡»äº‹ä»¶çš„ä»£ç ï¼Œå…¶ä»–äº‹é‡å¤çš„å°±ä¸å¤šæ­¤ä¸€ä¸¾äº†ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func buttonAction() &#123;</span><br><span class="line">    // æ³¨æ„è¿™é‡Œæ˜¯updateConstraintsï¼Œ è€Œä¸æ˜¯makeConstraints</span><br><span class="line">    blackView.snp.updateConstraints &#123; (make) in</span><br><span class="line">        make.width.height.equalTo(20)</span><br><span class="line">        make.top.equalTo(300)</span><br><span class="line">    &#125;</span><br><span class="line">    print(&quot;è¿™é‡Œè¯•è¯•snapkitæœ‰æ²¡æœ‰æŠ¥è­¦å‘Š&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€çœ‹ç‚¹å‡»äº‹ä»¶åçš„æ•ˆæœå›¾</p>
<p><strong>å›¾5</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-d3ad7232e8a70246.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test5"></p>
<p><strong>å›¾6</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-a0d9f2b52521f740.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test6"></p>
<p><strong>å›¾7</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-1e9f584ce592812c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test7"></p>
<blockquote>
<p>å‘ç°æ²¡æœ‰ï¼Œåœ¨å°†<code>makeConstraints</code>æ”¹å˜æˆ<code>updateConstraints</code>ä¹‹åï¼Œçº¦æŸè¿˜æ˜¯4ä¸ªï¼Œsnapkitæ²¡æœ‰æŠ¥è­¦å‘Šï¼Œç‚¹å‡»äº‹ä»¶ä¸­çš„<code>width</code>ã€<code>height</code>ã€<code>top</code>å…¨éƒ¨èµ·äº†ä½œç”¨ï¼Œè€Œè¿™å°±æ˜¯ä¸¤è€…çš„<strong>æœ¬è´¨åŒºåˆ«</strong>ï¼š<code>makeConstraints</code>æ˜¯åˆ¶ä½œçº¦æŸï¼Œåœ¨åŸæ¥çš„åŸºç¡€ä¸Šå†æ·»åŠ å¦å¤–çš„çº¦æŸï¼Œä¹Ÿå°±æ˜¯ç”»è›‡æ·»è¶³ï¼Œçº¦æŸå¢åŠ ï¼Œè§†å›¾å¸ƒå±€å°±æœ‰ä¸ç¡®å®šæ€§ï¼Œä»è€Œæœ‰äº›çº¦æŸèµ·ä½œç”¨ï¼Œæœ‰äº›ä¸èµ·ä½œç”¨ï¼ˆå¦‚ä¸Šé¢çš„topï¼‰ï¼ŒsnapkitæŠ¥è­¦å‘Šï¼ï¼ï¼è€Œ<code>updateConstraints</code>æ˜¯æ›´æ–°çº¦æŸï¼Œæ”¹å˜åŸæœ‰çº¦æŸï¼Œçº¦æŸä¸ä¼šå¢åŠ ï¼Œæ²¡ç»è¿‡<code>updateConstraints</code>å¤„ç†çš„ä¿æŒåŸæœ‰çº¦æŸï¼Œç»è¿‡å¤„ç†å°±æ›´æ–°çº¦æŸï¼Œçº¦æŸä¸ä¼šå‡å°‘ï¼Œsnapkitä¸ä¼šäº§ç”Ÿè­¦å‘Šï¼Œè¿™æ˜¯æ­£å¸¸æ ‡å‡†çš„æ›´æ–°çº¦æŸçš„æ­£ç¡®æ–¹å¼ï¼ï¼ï¼</p>
</blockquote>
<br>

<ul>
<li>é‡åšçº¦æŸï¼ˆremakeConstraintsï¼‰</li>
</ul>
<p>é‡åšçº¦æŸçš„æœ¬è´¨å°±æ˜¯ï¼šå»æ‰å·²æœ‰çš„<strong>æ‰€æœ‰çº¦æŸ</strong>ï¼Œ é‡æ–°åšçº¦æŸï¼Œè®°ä½ï¼Œæ˜¯åšçº¦æŸï¼Œ ä¹Ÿå°±æ˜¯è¯´ï¼Œ ä½¿ç”¨äº†<code>remakeConstraints</code>åï¼Œé‡åšçš„çº¦æŸå¿…é¡»è¦èƒ½ç¡®å®šç›¸åº”è§†å›¾çš„<strong>å¤§å°</strong>å’Œ<strong>ä½ç½®</strong>, ä¹‹å‰<code>makeConstraints</code>çš„çº¦æŸå·²ç»ä¸ä¼šå­˜åœ¨äº†ï¼Œå®Œå…¨é”€æ¯ï¼ï¼ï¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// ç‚¹å‡»æ›´æ–°/åˆ¶ä½œçº¦æŸ</span><br><span class="line">func buttonAction() &#123;</span><br><span class="line">    </span><br><span class="line">    // æ³¨æ„è¿™é‡Œæ˜¯ remakeConstraints</span><br><span class="line">    blackView.snp.remakeConstraints &#123; (make) in</span><br><span class="line">        make.width.height.equalTo(20)</span><br><span class="line">        make.top.equalTo(300)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    print(&quot;è¿™é‡Œè¯•è¯•snapkitæœ‰æ²¡æœ‰æŠ¥è­¦å‘Š&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ•ˆæœå›¾</strong></p>
<p><strong>å›¾ï¼ˆ1ï¼‰</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-5fd5a69571c14dd0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test18"></p>
<p><strong>å›¾ï¼ˆ2ï¼‰</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-d5f4714041562066.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test19"></p>
<p><strong>å›¾ï¼ˆ3ï¼‰</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1974698-bbf3ddc34397a09b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test20"></p>
<blockquote>
<p>æˆ‘ä»¬çœ‹åˆ°ï¼Œ <code>blackView</code>é‡åšäº†çº¦æŸï¼Œ ä¹‹å‰çš„çº¦æŸä¸èµ·ä»»ä½•ä½œç”¨ï¼Œç”±äºå®ƒåœ¨é‡åšçº¦æŸååªæœ‰ 3 ä¸ªçº¦æŸåˆ†åˆ«æ˜¯ <code>width</code>ã€<code>height</code>ã€<code>top</code>, ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¿™ 3 ä¸ªçº¦æŸåªèƒ½ç¡®å®šå¤§å°ï¼Œæ— æ³•ç¡®å®šè§†å›¾çš„ä½ç½®ï¼Œ æ‰€ä»¥åœ¨æ°´å¹³æ–¹å‘ä¸Šæˆ–è€…å·¦å³ç¼ºå°‘ä¸€ä¸ªå¸ƒå±€æ¡ä»¶ï¼Œ æ•… <code>blackView</code>æ•´ä½“è§†å›¾çš„xç´§é å·¦è¾¹ï¼ˆé»˜è®¤ï¼‰ï¼ å¦å¤–æˆ‘ä»¬å‘ç°ï¼Œ åœ¨<strong>å›¾ï¼ˆ3ï¼‰</strong>ä¸­ï¼Œå³ä¸Šè§’å‡ºç°äº†ä¸€ä¸ªæ„Ÿå¹å·â€œï¼â€, é‚£æ˜¯å› ä¸ºå‘Šè¯‰ä½ ç¼ºå°‘äº†ä¸€ä¸ªçº¦æŸæ¡ä»¶ï¼š<code>x-xcode-debug-views://7f81fcbc7900: runtime: Layout Issues: Horizontal position is ambiguous for UIView.</code></p>
</blockquote>
<h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>é€šè¿‡ä»¥ä¸Šå­¦ä¹ ï¼Œæˆ‘ä»¬æˆ–æ·±æˆ–æµ…åœ°å­¦ä¹ äº†å¸ƒå±€ä¸‰æ–¹åº“SnapKitçš„ä½¿ç”¨ï¼Œ æˆ‘ç›¸ä¿¡ï¼Œåªè¦å°†ä¸Šè¿°å¸ƒå±€ä¼šä½¿ç”¨ï¼Œå¹¶ä¸”æ‡‚å¾—å¸ƒå±€çš„åŸåˆ™å’Œé“ç†ï¼ŒåŸºæœ¬ä¸Šå°±å¯ä»¥â€œé«˜æ•æ— å¿§â€äº†ï¼Œè‡³äºæ¶‰åŠåŠ¨æ€å¸ƒå±€ã€åŠ¨ç”»å¸ƒå±€ç­‰çŸ¥è¯†ï¼Œåç»­æœ‰æ—¶é—´ä¼šæ›´æ–°æ–‡æ¡£ã€‚</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Autolayout</tag>
        <tag>Snapkit</tag>
        <tag>è‡ªåŠ¨å¸ƒå±€</tag>
        <tag>UI</tag>
      </tags>
  </entry>
</search>
